!function(Q){function F(U){if(B[U])return B[U].exports;var t=B[U]={exports:{},id:U,loaded:!1};return Q[U].call(t.exports,t,t.exports,F),t.loaded=!0,t.exports}var B={};return F.m=Q,F.c=B,F.p="",F(0)}([function(module,exports,__webpack_require__){eval('\'use strict\';\n\nvar extend = __webpack_require__(1);\nvar MyScaleManager = __webpack_require__(2);\nvar BootState = __webpack_require__(3);\n\nwindow.onload = function () {\n    var gameDiv = document.getElementById("game");\n    Phaser.myScaleManager = new MyScaleManager(gameDiv);\n    var width = 1600;\n    var scale = screen.width / screen.height;\n    if (scale > 1) {\n        scale = 1 / scale;\n    }\n    var game;;\n    if (window.location.hostname == "") {\n        game = new Phaser.Game(width, width * scale, Phaser.CANVAS, gameDiv);\n    } else {\n        game = new Phaser.Game(width, width * scale, Phaser.AUTO, gameDiv);\n    }\n    Phaser.myScaleManager.boot();\n    game.state.add("BootState", BootState, true);\n    game.state.start("BootState");\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi5qcz8zNDc5Il0sIm5hbWVzIjpbImV4dGVuZCIsInJlcXVpcmUiLCJNeVNjYWxlTWFuYWdlciIsIkJvb3RTdGF0ZSIsIndpbmRvdyIsIm9ubG9hZCIsImdhbWVEaXYiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiUGhhc2VyIiwibXlTY2FsZU1hbmFnZXIiLCJ3aWR0aCIsInNjYWxlIiwic2NyZWVuIiwiaGVpZ2h0IiwiZ2FtZSIsImxvY2F0aW9uIiwiaG9zdG5hbWUiLCJHYW1lIiwiQ0FOVkFTIiwiQVVUTyIsImJvb3QiLCJzdGF0ZSIsImFkZCIsInN0YXJ0Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQSxJQUFJQSxTQUFTLG1CQUFBQyxDQUFRLENBQVIsQ0FBYjtBQUNBLElBQUlDLGlCQUFpQixtQkFBQUQsQ0FBUSxDQUFSLENBQXJCO0FBQ0EsSUFBSUUsWUFBWSxtQkFBQUYsQ0FBUSxDQUFSLENBQWhCOztBQUVBRyxPQUFPQyxNQUFQLEdBQWdCLFlBQVk7QUFDeEIsUUFBSUMsVUFBVUMsU0FBU0MsY0FBVCxDQUF3QixNQUF4QixDQUFkO0FBQ0FDLFdBQU9DLGNBQVAsR0FBd0IsSUFBSVIsY0FBSixDQUFtQkksT0FBbkIsQ0FBeEI7QUFDQSxRQUFJSyxRQUFNLElBQVY7QUFDQSxRQUFJQyxRQUFRQyxPQUFPRixLQUFQLEdBQWVFLE9BQU9DLE1BQWxDO0FBQ0EsUUFBSUYsUUFBUSxDQUFaLEVBQWU7QUFDWEEsZ0JBQVEsSUFBSUEsS0FBWjtBQUNIO0FBQ0QsUUFBSUcsSUFBSixDQUFTO0FBQ1osUUFBSVgsT0FBT1ksUUFBUCxDQUFnQkMsUUFBaEIsSUFBNEIsRUFBaEMsRUFBb0M7QUFDbkNGLGVBQU8sSUFBSU4sT0FBT1MsSUFBWCxDQUFnQlAsS0FBaEIsRUFBdUJBLFFBQVFDLEtBQS9CLEVBQXNDSCxPQUFPVSxNQUE3QyxFQUFxRGIsT0FBckQsQ0FBUDtBQUNBLEtBRkQsTUFFTztBQUNOUyxlQUFPLElBQUlOLE9BQU9TLElBQVgsQ0FBZ0JQLEtBQWhCLEVBQXVCQSxRQUFRQyxLQUEvQixFQUFzQ0gsT0FBT1csSUFBN0MsRUFBbURkLE9BQW5ELENBQVA7QUFDQTtBQUNFRyxXQUFPQyxjQUFQLENBQXNCVyxJQUF0QjtBQUNBTixTQUFLTyxLQUFMLENBQVdDLEdBQVgsQ0FBZSxXQUFmLEVBQTRCcEIsU0FBNUIsRUFBdUMsSUFBdkM7QUFDQVksU0FBS08sS0FBTCxDQUFXRSxLQUFYLENBQWlCLFdBQWpCO0FBQ0gsQ0FqQkQiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxudmFyIGV4dGVuZCA9IHJlcXVpcmUoJy4vdXRpbHMvaW5oZXJpdHMuanMnKTtcclxudmFyIE15U2NhbGVNYW5hZ2VyID0gcmVxdWlyZSgnLi91dGlscy9NeVNjYWxlTWFuYWdlci5qcycpO1xyXG52YXIgQm9vdFN0YXRlID0gcmVxdWlyZSgnLi9zdGF0ZXMvQm9vdFN0YXRlLmpzJyk7XHJcblxyXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGdhbWVEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVcIik7XHJcbiAgICBQaGFzZXIubXlTY2FsZU1hbmFnZXIgPSBuZXcgTXlTY2FsZU1hbmFnZXIoZ2FtZURpdik7XHJcbiAgICB2YXIgd2lkdGg9MTYwMDtcclxuICAgIHZhciBzY2FsZSA9IHNjcmVlbi53aWR0aCAvIHNjcmVlbi5oZWlnaHQ7XHJcbiAgICBpZiAoc2NhbGUgPiAxKSB7XHJcbiAgICAgICAgc2NhbGUgPSAxIC8gc2NhbGU7XHJcbiAgICB9XHJcbiAgICB2YXIgZ2FtZTs7XHJcblx0aWYgKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSA9PSBcIlwiKSB7XHJcblx0XHRnYW1lID0gbmV3IFBoYXNlci5HYW1lKHdpZHRoLCB3aWR0aCAqIHNjYWxlLCBQaGFzZXIuQ0FOVkFTLCBnYW1lRGl2KTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Z2FtZSA9IG5ldyBQaGFzZXIuR2FtZSh3aWR0aCwgd2lkdGggKiBzY2FsZSwgUGhhc2VyLkFVVE8sIGdhbWVEaXYpO1xyXG5cdH1cclxuICAgIFBoYXNlci5teVNjYWxlTWFuYWdlci5ib290KCk7XHJcbiAgICBnYW1lLnN0YXRlLmFkZChcIkJvb3RTdGF0ZVwiLCBCb290U3RhdGUsIHRydWUpO1xyXG4gICAgZ2FtZS5zdGF0ZS5zdGFydChcIkJvb3RTdGF0ZVwiKTtcclxufTtcclxuXHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9tYWluLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports){eval('\'use strict\';\n/**\r\n * 这是一个 javascript 类继承函数,\r\n * 与以往的继承函数不同的是这个函数,\r\n * 可以直接从一个已存在的普通构造函数继承。\r\n */\n\nfunction object(o) {\n    function W() {}\n    W.prototype = o;\n    return new W();\n}\nfunction inheritPrototype(SubType, SuperType) {\n    var prototype;\n    if (typeof Object.create === \'function\') {\n        prototype = Object.create(SuperType.prototype);\n    } else {\n        prototype = object.create(SuperType.prototype);\n    }\n    prototype.constructor = SubType;\n    SubType.prototype = prototype;\n}\nmodule.exports = function (superCtor, prop) {\n    return function () {\n        var fnTest = /xyz/.test(function () {\n            xyz;\n        }) ? /\\b_super\\b/ : /.*/;\n\n        var _super = superCtor.prototype;\n        //// The base Class implementation (does nothing)\n        function baseClass() {\n            if (typeof baseClass.prototype.ctor === "undefined") {} else {\n                var args = new Array();\n                for (var k in arguments) {\n                    args.push(arguments[k]);\n                }\n                baseClass.prototype.ctor.apply(this, args);\n            }\n        };\n        // 空函数F:\n        //var F = function F() {};\n        //// 把F的原型指向Student.prototype:\n        //F.prototype = superCtor.prototype;\n        ////F.prototype = Object.create(superCtor.prototype);\n        //// 把PrimaryStudent的原型指向一个新的F对象，F对象的原型正好指向Student.prototype:\n        //baseClass.prototype = new F();\n        //// 把PrimaryStudent原型的构造函数修复为PrimaryStudent:\n        //baseClass.prototype.constructor = baseClass;\n        inheritPrototype(baseClass, superCtor);\n        var prototype = baseClass.prototype;\n        if (typeof _super === "undefined") {} else {\n            //_super["ctor"]="ss";\n            if (typeof _super["ctor"] === "undefined") {\n                _super["ctor"] = superCtor;\n            }\n        }\n\n        // Copy the properties over onto the new prototype\n        for (var name in prop) {\n            // Check if we\'re overwriting an existing function\n            prototype[name] = typeof prop[name] == "function" && typeof _super[name] == "function" && fnTest.test(prop[name]) ? function (name, fn) {\n                return function () {\n                    //var tmp_superclass = this.superclass;\n                    var tmp = this._super;\n                    // Add a new ._super() method that is the same method\n                    // but on the super-class\n                    this._super = _super[name];\n                    //this.superclass=superCtor.bind(this);\n                    // The method only need to be bound temporarily, so we\n                    // remove it when we\'re done executing\n                    var args = new Array();\n                    for (var k in arguments) {\n                        args.push(arguments[k]);\n                    }\n                    var ret = fn.apply(this, args);\n                    this._super = tmp;\n                    //this.superclass=tmp_superclass;\n                    return ret;\n                };\n            }(name, prop[name]) : prop[name];\n        }\n        return baseClass;\n    }();\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvaW5oZXJpdHMuanM/OTZkOSJdLCJuYW1lcyI6WyJvYmplY3QiLCJvIiwiVyIsInByb3RvdHlwZSIsImluaGVyaXRQcm90b3R5cGUiLCJTdWJUeXBlIiwiU3VwZXJUeXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJtb2R1bGUiLCJleHBvcnRzIiwic3VwZXJDdG9yIiwicHJvcCIsImZuVGVzdCIsInRlc3QiLCJ4eXoiLCJfc3VwZXIiLCJiYXNlQ2xhc3MiLCJjdG9yIiwiYXJncyIsIkFycmF5IiwiayIsImFyZ3VtZW50cyIsInB1c2giLCJhcHBseSIsIm5hbWUiLCJmbiIsInRtcCIsInJldCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7O0FBS0EsU0FBU0EsTUFBVCxDQUFnQkMsQ0FBaEIsRUFBa0I7QUFDZCxhQUFTQyxDQUFULEdBQVksQ0FDWDtBQUNEQSxNQUFFQyxTQUFGLEdBQVlGLENBQVo7QUFDQSxXQUFPLElBQUlDLENBQUosRUFBUDtBQUNIO0FBQ0QsU0FBU0UsZ0JBQVQsQ0FBMEJDLE9BQTFCLEVBQWtDQyxTQUFsQyxFQUE0QztBQUN4QyxRQUFJSCxTQUFKO0FBQ0EsUUFBRyxPQUFPSSxPQUFPQyxNQUFkLEtBQXVCLFVBQTFCLEVBQXFDO0FBQ2pDTCxvQkFBVUksT0FBT0MsTUFBUCxDQUFjRixVQUFVSCxTQUF4QixDQUFWO0FBQ0gsS0FGRCxNQUVLO0FBQ0RBLG9CQUFVSCxPQUFPUSxNQUFQLENBQWNGLFVBQVVILFNBQXhCLENBQVY7QUFDSDtBQUNEQSxjQUFVTSxXQUFWLEdBQXNCSixPQUF0QjtBQUNBQSxZQUFRRixTQUFSLEdBQWtCQSxTQUFsQjtBQUNIO0FBQ0RPLE9BQU9DLE9BQVAsR0FBaUIsVUFBVUMsU0FBVixFQUFxQkMsSUFBckIsRUFBMkI7QUFDeEMsV0FBTyxZQUFZO0FBQ2YsWUFBSUMsU0FBUyxNQUFNQyxJQUFOLENBQVcsWUFBWTtBQUNoQ0M7QUFDSCxTQUZZLElBRVIsWUFGUSxHQUVPLElBRnBCOztBQUlBLFlBQUlDLFNBQVNMLFVBQVVULFNBQXZCO0FBQ0E7QUFDQSxpQkFBU2UsU0FBVCxHQUFxQjtBQUNqQixnQkFBSSxPQUFPQSxVQUFVZixTQUFWLENBQW9CZ0IsSUFBM0IsS0FBa0MsV0FBdEMsRUFBbUQsQ0FDbEQsQ0FERCxNQUNLO0FBQ0Qsb0JBQUlDLE9BQU8sSUFBSUMsS0FBSixFQUFYO0FBQ0EscUJBQUksSUFBSUMsQ0FBUixJQUFhQyxTQUFiLEVBQXVCO0FBQ25CSCx5QkFBS0ksSUFBTCxDQUFVRCxVQUFVRCxDQUFWLENBQVY7QUFDSDtBQUNESiwwQkFBVWYsU0FBVixDQUFvQmdCLElBQXBCLENBQXlCTSxLQUF6QixDQUErQixJQUEvQixFQUFxQ0wsSUFBckM7QUFDSDtBQUNKO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FoQix5QkFBaUJjLFNBQWpCLEVBQTJCTixTQUEzQjtBQUNBLFlBQUlULFlBQVllLFVBQVVmLFNBQTFCO0FBQ0EsWUFBRyxPQUFRYyxNQUFSLEtBQWtCLFdBQXJCLEVBQWlDLENBRWhDLENBRkQsTUFFSztBQUNEO0FBQ0EsZ0JBQUksT0FBUUEsT0FBTyxNQUFQLENBQVIsS0FBMEIsV0FBOUIsRUFBMkM7QUFDdkNBLHVCQUFPLE1BQVAsSUFBaUJMLFNBQWpCO0FBQ0g7QUFDSjs7QUFFRDtBQUNBLGFBQUssSUFBSWMsSUFBVCxJQUFpQmIsSUFBakIsRUFBdUI7QUFDbkI7QUFDQVYsc0JBQVV1QixJQUFWLElBQWtCLE9BQU9iLEtBQUthLElBQUwsQ0FBUCxJQUFxQixVQUFyQixJQUFtQyxPQUFPVCxPQUFPUyxJQUFQLENBQVAsSUFBdUIsVUFBMUQsSUFBd0VaLE9BQU9DLElBQVAsQ0FBWUYsS0FBS2EsSUFBTCxDQUFaLENBQXhFLEdBQWtHLFVBQVVBLElBQVYsRUFBZ0JDLEVBQWhCLEVBQW9CO0FBQ3BJLHVCQUFPLFlBQVk7QUFDZjtBQUNBLHdCQUFJQyxNQUFNLEtBQUtYLE1BQWY7QUFDQTtBQUNBO0FBQ0EseUJBQUtBLE1BQUwsR0FBY0EsT0FBT1MsSUFBUCxDQUFkO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQUlOLE9BQU8sSUFBSUMsS0FBSixFQUFYO0FBQ0EseUJBQUksSUFBSUMsQ0FBUixJQUFhQyxTQUFiLEVBQXVCO0FBQ25CSCw2QkFBS0ksSUFBTCxDQUFVRCxVQUFVRCxDQUFWLENBQVY7QUFDSDtBQUNELHdCQUFJTyxNQUFNRixHQUFHRixLQUFILENBQVMsSUFBVCxFQUFjTCxJQUFkLENBQVY7QUFDQSx5QkFBS0gsTUFBTCxHQUFjVyxHQUFkO0FBQ0E7QUFDQSwyQkFBT0MsR0FBUDtBQUNILGlCQWpCRDtBQWtCSCxhQW5CbUgsQ0FtQmxISCxJQW5Ca0gsRUFtQjVHYixLQUFLYSxJQUFMLENBbkI0RyxDQUFsRyxHQW1CSWIsS0FBS2EsSUFBTCxDQW5CdEI7QUFvQkg7QUFDRCxlQUFPUixTQUFQO0FBQ0gsS0E5RE0sRUFBUDtBQStESCxDQWhFRCIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG4vKipcclxuICog6L+Z5piv5LiA5LiqIGphdmFzY3JpcHQg57G757un5om/5Ye95pWwLFxyXG4gKiDkuI7ku6XlvoDnmoTnu6fmib/lh73mlbDkuI3lkIznmoTmmK/ov5nkuKrlh73mlbAsXHJcbiAqIOWPr+S7peebtOaOpeS7juS4gOS4quW3suWtmOWcqOeahOaZrumAmuaehOmAoOWHveaVsOe7p+aJv+OAglxyXG4gKi9cclxuZnVuY3Rpb24gb2JqZWN0KG8pe1xyXG4gICAgZnVuY3Rpb24gVygpe1xyXG4gICAgfVxyXG4gICAgVy5wcm90b3R5cGU9bztcclxuICAgIHJldHVybiBuZXcgVygpO1xyXG59XHJcbmZ1bmN0aW9uIGluaGVyaXRQcm90b3R5cGUoU3ViVHlwZSxTdXBlclR5cGUpe1xyXG4gICAgdmFyIHByb3RvdHlwZTtcclxuICAgIGlmKHR5cGVvZiBPYmplY3QuY3JlYXRlPT09J2Z1bmN0aW9uJyl7XHJcbiAgICAgICAgcHJvdG90eXBlPU9iamVjdC5jcmVhdGUoU3VwZXJUeXBlLnByb3RvdHlwZSk7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICBwcm90b3R5cGU9b2JqZWN0LmNyZWF0ZShTdXBlclR5cGUucHJvdG90eXBlKTtcclxuICAgIH1cclxuICAgIHByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1TdWJUeXBlO1xyXG4gICAgU3ViVHlwZS5wcm90b3R5cGU9cHJvdG90eXBlO1xyXG59XHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHN1cGVyQ3RvciwgcHJvcCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZm5UZXN0ID0gL3h5ei8udGVzdChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHh5ejtcclxuICAgICAgICB9KSA/IC9cXGJfc3VwZXJcXGIvIDogLy4qLztcclxuXHJcbiAgICAgICAgdmFyIF9zdXBlciA9IHN1cGVyQ3Rvci5wcm90b3R5cGU7XHJcbiAgICAgICAgLy8vLyBUaGUgYmFzZSBDbGFzcyBpbXBsZW1lbnRhdGlvbiAoZG9lcyBub3RoaW5nKVxyXG4gICAgICAgIGZ1bmN0aW9uIGJhc2VDbGFzcygpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBiYXNlQ2xhc3MucHJvdG90eXBlLmN0b3I9PT1cInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoKVxyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBrIGluIGFyZ3VtZW50cyl7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZ3VtZW50c1trXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBiYXNlQ2xhc3MucHJvdG90eXBlLmN0b3IuYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIOepuuWHveaVsEY6XHJcbiAgICAgICAgLy92YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTtcclxuICAgICAgICAvLy8vIOaKikbnmoTljp/lnovmjIflkJFTdHVkZW50LnByb3RvdHlwZTpcclxuICAgICAgICAvL0YucHJvdG90eXBlID0gc3VwZXJDdG9yLnByb3RvdHlwZTtcclxuICAgICAgICAvLy8vRi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUpO1xyXG4gICAgICAgIC8vLy8g5oqKUHJpbWFyeVN0dWRlbnTnmoTljp/lnovmjIflkJHkuIDkuKrmlrDnmoRG5a+56LGh77yMRuWvueixoeeahOWOn+Wei+ato+WlveaMh+WQkVN0dWRlbnQucHJvdG90eXBlOlxyXG4gICAgICAgIC8vYmFzZUNsYXNzLnByb3RvdHlwZSA9IG5ldyBGKCk7XHJcbiAgICAgICAgLy8vLyDmiopQcmltYXJ5U3R1ZGVudOWOn+Wei+eahOaehOmAoOWHveaVsOS/ruWkjeS4ulByaW1hcnlTdHVkZW50OlxyXG4gICAgICAgIC8vYmFzZUNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGJhc2VDbGFzcztcclxuICAgICAgICBpbmhlcml0UHJvdG90eXBlKGJhc2VDbGFzcyxzdXBlckN0b3IpO1xyXG4gICAgICAgIHZhciBwcm90b3R5cGUgPSBiYXNlQ2xhc3MucHJvdG90eXBlO1xyXG4gICAgICAgIGlmKHR5cGVvZiAoX3N1cGVyKT09PVwidW5kZWZpbmVkXCIpe1xyXG5cclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgLy9fc3VwZXJbXCJjdG9yXCJdPVwic3NcIjtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiAoX3N1cGVyW1wiY3RvclwiXSk9PT1cInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICBfc3VwZXJbXCJjdG9yXCJdID0gc3VwZXJDdG9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDb3B5IHRoZSBwcm9wZXJ0aWVzIG92ZXIgb250byB0aGUgbmV3IHByb3RvdHlwZVxyXG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gcHJvcCkge1xyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSdyZSBvdmVyd3JpdGluZyBhbiBleGlzdGluZyBmdW5jdGlvblxyXG4gICAgICAgICAgICBwcm90b3R5cGVbbmFtZV0gPSB0eXBlb2YgcHJvcFtuYW1lXSA9PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIF9zdXBlcltuYW1lXSA9PSBcImZ1bmN0aW9uXCIgJiYgZm5UZXN0LnRlc3QocHJvcFtuYW1lXSkgPyBmdW5jdGlvbiAobmFtZSwgZm4pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy92YXIgdG1wX3N1cGVyY2xhc3MgPSB0aGlzLnN1cGVyY2xhc3M7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRtcCA9IHRoaXMuX3N1cGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBhIG5ldyAuX3N1cGVyKCkgbWV0aG9kIHRoYXQgaXMgdGhlIHNhbWUgbWV0aG9kXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYnV0IG9uIHRoZSBzdXBlci1jbGFzc1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N1cGVyID0gX3N1cGVyW25hbWVdO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcy5zdXBlcmNsYXNzPXN1cGVyQ3Rvci5iaW5kKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBtZXRob2Qgb25seSBuZWVkIHRvIGJlIGJvdW5kIHRlbXBvcmFyaWx5LCBzbyB3ZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBpdCB3aGVuIHdlJ3JlIGRvbmUgZXhlY3V0aW5nXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoKVxyXG4gICAgICAgICAgICAgICAgICAgIGZvcih2YXIgayBpbiBhcmd1bWVudHMpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzLnB1c2goYXJndW1lbnRzW2tdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldCA9IGZuLmFwcGx5KHRoaXMsYXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3VwZXIgPSB0bXA7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLnN1cGVyY2xhc3M9dG1wX3N1cGVyY2xhc3M7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0obmFtZSwgcHJvcFtuYW1lXSkgOiBwcm9wW25hbWVdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYmFzZUNsYXNzO1xyXG4gICAgfSgpO1xyXG59O1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdXRpbHMvaW5oZXJpdHMuanMiXSwic291cmNlUm9vdCI6IiJ9')},function(module,exports,__webpack_require__){eval('"use strict";\n\nvar extend = __webpack_require__(1);\n\nmodule.exports = extend(function () {}, {\n    ctor: function ctor(gameDiv) {\n        this.gameDiv = gameDiv;\n        this.proDOM = Phaser.DOM;\n        this.isMyLandscapeMode = false;\n        if (this.proDOM.getScreenOrientation() != "landscape-primary") {\n            //如果当前是竖屏 启动自定义横屏\n            this.setMyLandscapeMode(true, true);\n        } else {\n            this.refresh();\n        }\n        var BaseDOM = extend(function () {}, Phaser.DOM);\n\n        var MyDOM = extend(BaseDOM, {\n            getScreenOrientation: function getScreenOrientation() {\n                var orientation = this._super.apply(this, arguments);\n\n                if (document.documentElement.clientWidth !== this.proDocumentWidth || document.documentElement.clientHeight !== this.proDocumentHeight) {\n                    Phaser.myScaleManager.refresh(); //刷新界面宽高 非常有用\n\n                    this.proDocumentWidth = document.documentElement.clientWidth;\n                    this.proDocumentHeight = document.documentElement.clientHeight;\n                }\n\n                if (orientation != "landscape-primary") {\n                    //当前是竖屏\n                    if (!Phaser.myScaleManager.isMyLandscape()) {\n                        //未启动 自定义横屏\n                        Phaser.myScaleManager.setMyLandscapeMode(true, true);\n                    }\n                    return "landscape-primary";\n                } else {\n                    //切换到横屏模式\n                    if (Phaser.myScaleManager.isMyLandscape()) {\n                        //关闭自定义横屏模式\n                        Phaser.myScaleManager.setMyLandscapeMode(false, true);\n                    }\n                    return orientation;\n                }\n            },\n            getOffset: function getOffset() {\n                var rel = this._super.apply(this, arguments);\n                //console.log(rel);\n                return rel;\n            },\n            getBounds: function getBounds() {\n                var rel = this._super.apply(this, arguments);\n                //console.log(rel);\n                return rel;\n            },\n            calibrate: function calibrate() {\n                var rel = this._super.apply(this, arguments);\n                //console.log(rel);\n                return rel;\n            },\n            getAspectRatio: function getAspectRatio() {\n                var rel = this._super.apply(this, arguments);\n                //console.log(rel);\n                return rel;\n            },\n            inLayoutViewport: function inLayoutViewport() {\n                var rel = this._super.apply(this, arguments);\n                //console.log(rel);\n                return rel;\n            }\n        });\n        Phaser.DOM = new MyDOM();\n\n        var _startPointer = Phaser.Input.prototype.startPointer;\n        Phaser.Input.prototype.startPointer = function (event) {\n            return _startPointer.call(this, this.copyEvent(event));\n        };\n        var _updatePointer = Phaser.Input.prototype.updatePointer;\n        Phaser.Input.prototype.updatePointer = function (event) {\n            return _updatePointer.call(this, this.copyEvent(event));\n        };\n        var _stopPointer = Phaser.Input.prototype.stopPointer;\n        Phaser.Input.prototype.stopPointer = function (event) {\n            return _stopPointer.call(this, this.copyEvent(event));\n        };\n        Phaser.Input.prototype.copyEvent = function (event) {\n            if (!Phaser.myScaleManager.isMyLandscape()) {\n                //未启动 自定义横屏\n                return event;\n            }\n            var target = event.target;\n            //console.log(event);\n            var myevent = this.extendCopy(event);\n\n            var _cx = myevent.clientX;\n            var _cy = myevent.clientY;\n            var _px = myevent.pageX;\n            var _py = myevent.pageY;\n            var _sx = myevent.screenX;\n            var _sy = myevent.screenY;\n            myevent.clientX = _cy;\n            myevent.clientY = target.clientHeight - _cx;\n            myevent.pageX = _py;\n            myevent.pageY = target.clientHeight - _px;\n            //myevent.rotationAngle=Math.PI/2;\n            return myevent;\n        };\n        Phaser.Input.prototype.extendCopy = function (p) {\n            var c = {};\n            for (var i in p) {\n                c[i] = p[i];\n            }\n            c.uber = p;\n            return c;\n        };\n\n        var _getParentBounds = Phaser.ScaleManager.prototype.getParentBounds;\n        Phaser.ScaleManager.prototype.getParentBounds = function () {\n            var rel = _getParentBounds.apply(this, arguments);\n            var _width = rel.width;\n            var _height = rel.height;\n            if (Phaser.myScaleManager.isMyLandscape()) {\n                rel.width = _height;\n                rel.height = _width;\n            }\n            return rel;\n        };\n    },\n    boot: function boot(game) {\n        this.game = game;\n    },\n    refresh: function refresh() {\n\n        document.body.style.width = document.documentElement.clientWidth + "px";\n        document.body.style.height = document.documentElement.clientHeight + "px";\n\n        if (document.documentElement.clientHeight >= document.documentElement.clientWidth) {\n            //竖屏\n            this.gameDiv.style.height = document.body.clientWidth + "px";\n            this.gameDiv.style.width = document.body.clientHeight + "px";\n            this.gameDiv.style.transform = "rotate(90deg)";\n            this.gameDiv.style.left = -(document.documentElement.clientHeight - document.documentElement.clientWidth) / 2 + "px";\n        } else {\n            //横屏\n            this.gameDiv.style.width = document.body.clientWidth + "px";\n            this.gameDiv.style.height = document.body.clientHeight + "px";\n            this.gameDiv.style.transform = "";\n            this.gameDiv.style.left = "";\n        }\n\n        this.wMax = 1280;\n        this.hScale = 1;\n        this.hTrim = 0;\n        this.vScale = 1;\n        this.vTrim = 0;\n        this.height = this.gameDiv.clientHeight;\n        this.width = this.gameDiv.clientWidth;\n        this.scale = 1;\n        if (this.width > this.wMax) {\n            this.scale = this.width / this.wMax;\n        }\n        if (this.scale < 1) {\n            this.scale = 1;\n        }\n        //console.log("scale: "+scale);\n        this.width = this.width / this.scale;\n        this.height = this.height / this.scale;\n        this.hScale = this.scale;\n        this.vScale = this.scale;\n        if (this.game && this.game.scale) {\n            if (this.game.scale.scaleMode === Phaser.ScaleManager.USER_SCALE) {\n                this.game.scale.setUserScale(this.hScale, this.vScale, this.hTrim, this.vTrim);\n            }\n        }\n    },\n    setMyLandscapeMode: function setMyLandscapeMode(setTo, refresh) {\n        refresh = refresh || false;\n        this.isMyLandscapeMode = setTo;\n        if (refresh) {\n            this.refresh();\n        }\n    },\n    isMyLandscape: function isMyLandscape() {\n        return this.isMyLandscapeMode;\n    }\n\n});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvTXlTY2FsZU1hbmFnZXIuanM/ODYxNyJdLCJuYW1lcyI6WyJleHRlbmQiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImN0b3IiLCJnYW1lRGl2IiwicHJvRE9NIiwiUGhhc2VyIiwiRE9NIiwiaXNNeUxhbmRzY2FwZU1vZGUiLCJnZXRTY3JlZW5PcmllbnRhdGlvbiIsInNldE15TGFuZHNjYXBlTW9kZSIsInJlZnJlc2giLCJCYXNlRE9NIiwiTXlET00iLCJvcmllbnRhdGlvbiIsIl9zdXBlciIsImFwcGx5IiwiYXJndW1lbnRzIiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRXaWR0aCIsInByb0RvY3VtZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJwcm9Eb2N1bWVudEhlaWdodCIsIm15U2NhbGVNYW5hZ2VyIiwiaXNNeUxhbmRzY2FwZSIsImdldE9mZnNldCIsInJlbCIsImdldEJvdW5kcyIsImNhbGlicmF0ZSIsImdldEFzcGVjdFJhdGlvIiwiaW5MYXlvdXRWaWV3cG9ydCIsIl9zdGFydFBvaW50ZXIiLCJJbnB1dCIsInByb3RvdHlwZSIsInN0YXJ0UG9pbnRlciIsImV2ZW50IiwiY2FsbCIsImNvcHlFdmVudCIsIl91cGRhdGVQb2ludGVyIiwidXBkYXRlUG9pbnRlciIsIl9zdG9wUG9pbnRlciIsInN0b3BQb2ludGVyIiwidGFyZ2V0IiwibXlldmVudCIsImV4dGVuZENvcHkiLCJfY3giLCJjbGllbnRYIiwiX2N5IiwiY2xpZW50WSIsIl9weCIsInBhZ2VYIiwiX3B5IiwicGFnZVkiLCJfc3giLCJzY3JlZW5YIiwiX3N5Iiwic2NyZWVuWSIsInAiLCJjIiwiaSIsInViZXIiLCJfZ2V0UGFyZW50Qm91bmRzIiwiU2NhbGVNYW5hZ2VyIiwiZ2V0UGFyZW50Qm91bmRzIiwiX3dpZHRoIiwid2lkdGgiLCJfaGVpZ2h0IiwiaGVpZ2h0IiwiYm9vdCIsImdhbWUiLCJib2R5Iiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJsZWZ0Iiwid01heCIsImhTY2FsZSIsImhUcmltIiwidlNjYWxlIiwidlRyaW0iLCJzY2FsZSIsInNjYWxlTW9kZSIsIlVTRVJfU0NBTEUiLCJzZXRVc2VyU2NhbGUiLCJzZXRUbyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0EsSUFBSUEsU0FBUyxtQkFBQUMsQ0FBUSxDQUFSLENBQWI7O0FBRUFDLE9BQU9DLE9BQVAsR0FBaUJILE9BQU8sWUFBWSxDQUFFLENBQXJCLEVBQXVCO0FBQ3BDSSxVQUFNLFNBQVNBLElBQVQsQ0FBY0MsT0FBZCxFQUF1QjtBQUN6QixhQUFLQSxPQUFMLEdBQWVBLE9BQWY7QUFDQSxhQUFLQyxNQUFMLEdBQWNDLE9BQU9DLEdBQXJCO0FBQ0EsYUFBS0MsaUJBQUwsR0FBeUIsS0FBekI7QUFDQSxZQUFJLEtBQUtILE1BQUwsQ0FBWUksb0JBQVosTUFBc0MsbUJBQTFDLEVBQStEO0FBQzNEO0FBQ0EsaUJBQUtDLGtCQUFMLENBQXdCLElBQXhCLEVBQThCLElBQTlCO0FBQ0gsU0FIRCxNQUdPO0FBQ0gsaUJBQUtDLE9BQUw7QUFDSDtBQUNELFlBQUlDLFVBQVViLE9BQU8sWUFBWSxDQUFFLENBQXJCLEVBQXVCTyxPQUFPQyxHQUE5QixDQUFkOztBQUVBLFlBQUlNLFFBQVFkLE9BQU9hLE9BQVAsRUFBZ0I7QUFDeEJILGtDQUFzQixTQUFTQSxvQkFBVCxHQUFnQztBQUNsRCxvQkFBSUssY0FBYyxLQUFLQyxNQUFMLENBQVlDLEtBQVosQ0FBa0IsSUFBbEIsRUFBd0JDLFNBQXhCLENBQWxCOztBQUVBLG9CQUFJQyxTQUFTQyxlQUFULENBQXlCQyxXQUF6QixLQUF5QyxLQUFLQyxnQkFBOUMsSUFBa0VILFNBQVNDLGVBQVQsQ0FBeUJHLFlBQXpCLEtBQTBDLEtBQUtDLGlCQUFySCxFQUF3STtBQUNwSWpCLDJCQUFPa0IsY0FBUCxDQUFzQmIsT0FBdEIsR0FEb0ksQ0FDbkc7O0FBRWpDLHlCQUFLVSxnQkFBTCxHQUF3QkgsU0FBU0MsZUFBVCxDQUF5QkMs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R0FBYSxLQUFLYyxLQUEvQjtBQUNBLGFBQUtaLE1BQUwsR0FBYyxLQUFLQSxNQUFMLEdBQWMsS0FBS1ksS0FBakM7QUFDQSxhQUFLSixNQUFMLEdBQWMsS0FBS0ksS0FBbkI7QUFDQSxhQUFLRixNQUFMLEdBQWMsS0FBS0UsS0FBbkI7QUFDQSxZQUFJLEtBQUtWLElBQUwsSUFBYSxLQUFLQSxJQUFMLENBQVVVLEtBQTNCLEVBQWtDO0FBQzlCLGdCQUFJLEtBQUtWLElBQUwsQ0FBVVUsS0FBVixDQUFnQkMsU0FBaEIsS0FBOEIzRSxPQUFPeUQsWUFBUCxDQUFvQm1CLFVBQXRELEVBQWtFO0FBQzlELHFCQUFLWixJQUFMLENBQVVVLEtBQVYsQ0FBZ0JHLFlBQWhCLENBQTZCLEtBQUtQLE1BQWxDLEVBQTBDLEtBQUtFLE1BQS9DLEVBQXVELEtBQUtELEtBQTVELEVBQW1FLEtBQUtFLEtBQXhFO0FBQ0g7QUFDSjtBQUNKLEtBekttQztBQTBLcENyRSx3QkFBb0IsU0FBU0Esa0JBQVQsQ0FBNEIwRSxLQUE1QixFQUFtQ3pFLE9BQW5DLEVBQTRDO0FBQzVEQSxrQkFBVUEsV0FBVyxLQUFyQjtBQUNBLGFBQUtILGlCQUFMLEdBQXlCNEUsS0FBekI7QUFDQSxZQUFJekUsT0FBSixFQUFhO0FBQ1QsaUJBQUtBLE9BQUw7QUFDSDtBQUNKLEtBaExtQztBQWlMcENjLG1CQUFlLFNBQVNBLGFBQVQsR0FBeUI7QUFDcEMsZUFBTyxLQUFLakIsaUJBQVo7QUFDSDs7QUFuTG1DLENBQXZCLENBQWpCIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxudmFyIGV4dGVuZCA9IHJlcXVpcmUoJy4vaW5oZXJpdHMuanMnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZXh0ZW5kKGZ1bmN0aW9uICgpIHt9LCB7XHJcbiAgICBjdG9yOiBmdW5jdGlvbiBjdG9yKGdhbWVEaXYpIHtcclxuICAgICAgICB0aGlzLmdhbWVEaXYgPSBnYW1lRGl2O1xyXG4gICAgICAgIHRoaXMucHJvRE9NID0gUGhhc2VyLkRPTTtcclxuICAgICAgICB0aGlzLmlzTXlMYW5kc2NhcGVNb2RlID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvRE9NLmdldFNjcmVlbk9yaWVudGF0aW9uKCkgIT0gXCJsYW5kc2NhcGUtcHJpbWFyeVwiKSB7XHJcbiAgICAgICAgICAgIC8v5aaC5p6c5b2T5YmN5piv56uW5bGPIOWQr+WKqOiHquWumuS5ieaoquWxj1xyXG4gICAgICAgICAgICB0aGlzLnNldE15TGFuZHNjYXBlTW9kZSh0cnVlLCB0cnVlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIEJhc2VET00gPSBleHRlbmQoZnVuY3Rpb24gKCkge30sIFBoYXNlci5ET00pO1xyXG5cclxuICAgICAgICB2YXIgTXlET00gPSBleHRlbmQoQmFzZURPTSwge1xyXG4gICAgICAgICAgICBnZXRTY3JlZW5PcmllbnRhdGlvbjogZnVuY3Rpb24gZ2V0U2NyZWVuT3JpZW50YXRpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3JpZW50YXRpb24gPSB0aGlzLl9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggIT09IHRoaXMucHJvRG9jdW1lbnRXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0ICE9PSB0aGlzLnByb0RvY3VtZW50SGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUGhhc2VyLm15U2NhbGVNYW5hZ2VyLnJlZnJlc2goKTsgLy/liLfmlrDnlYzpnaLlrr3pq5gg6Z2e5bi45pyJ55SoXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvRG9jdW1lbnRXaWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb0RvY3VtZW50SGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAob3JpZW50YXRpb24gIT0gXCJsYW5kc2NhcGUtcHJpbWFyeVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy/lvZPliY3mmK/nq5blsY9cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIVBoYXNlci5teVNjYWxlTWFuYWdlci5pc015TGFuZHNjYXBlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/mnKrlkK/liqgg6Ieq5a6a5LmJ5qiq5bGPXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFBoYXNlci5teVNjYWxlTWFuYWdlci5zZXRNeUxhbmRzY2FwZU1vZGUodHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImxhbmRzY2FwZS1wcmltYXJ5XCI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8v5YiH5o2i5Yiw5qiq5bGP5qih5byPXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBoYXNlci5teVNjYWxlTWFuYWdlci5pc015TGFuZHNjYXBlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/lhbPpl63oh6rlrprkuYnmqKrlsY/mqKHlvI9cclxuICAgICAgICAgICAgICAgICAgICAgICAgUGhhc2VyLm15U2NhbGVNYW5hZ2VyLnNldE15TGFuZHNjYXBlTW9kZShmYWxzZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvcmllbnRhdGlvbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0T2Zmc2V0OiBmdW5jdGlvbiBnZXRPZmZzZXQoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVsID0gdGhpcy5fc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2cocmVsKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZWw7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldEJvdW5kczogZnVuY3Rpb24gZ2V0Qm91bmRzKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlbCA9IHRoaXMuX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlbCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVsO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjYWxpYnJhdGU6IGZ1bmN0aW9uIGNhbGlicmF0ZSgpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZWwgPSB0aGlzLl9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhyZWwpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlbDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0QXNwZWN0UmF0aW86IGZ1bmN0aW9uIGdldEFzcGVjdFJhdGlvKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlbCA9IHRoaXMuX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlbCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVsO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpbkxheW91dFZpZXdwb3J0OiBmdW5jdGlvbiBpbkxheW91dFZpZXdwb3J0KCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlbCA9IHRoaXMuX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlbCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgUGhhc2VyLkRPTSA9IG5ldyBNeURPTSgpO1xyXG5cclxuICAgICAgICB2YXIgX3N0YXJ0UG9pbnRlciA9IFBoYXNlci5JbnB1dC5wcm90b3R5cGUuc3RhcnRQb2ludGVyO1xyXG4gICAgICAgIFBoYXNlci5JbnB1dC5wcm90b3R5cGUuc3RhcnRQb2ludGVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfc3RhcnRQb2ludGVyLmNhbGwodGhpcywgdGhpcy5jb3B5RXZlbnQoZXZlbnQpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBfdXBkYXRlUG9pbnRlciA9IFBoYXNlci5JbnB1dC5wcm90b3R5cGUudXBkYXRlUG9pbnRlcjtcclxuICAgICAgICBQaGFzZXIuSW5wdXQucHJvdG90eXBlLnVwZGF0ZVBvaW50ZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF91cGRhdGVQb2ludGVyLmNhbGwodGhpcywgdGhpcy5jb3B5RXZlbnQoZXZlbnQpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBfc3RvcFBvaW50ZXIgPSBQaGFzZXIuSW5wdXQucHJvdG90eXBlLnN0b3BQb2ludGVyO1xyXG4gICAgICAgIFBoYXNlci5JbnB1dC5wcm90b3R5cGUuc3RvcFBvaW50ZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9zdG9wUG9pbnRlci5jYWxsKHRoaXMsIHRoaXMuY29weUV2ZW50KGV2ZW50KSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBQaGFzZXIuSW5wdXQucHJvdG90eXBlLmNvcHlFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBpZiAoIVBoYXNlci5teVNjYWxlTWFuYWdlci5pc015TGFuZHNjYXBlKCkpIHtcclxuICAgICAgICAgICAgICAgIC8v5pyq5ZCv5YqoIOiHquWumuS5ieaoquWxj1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coZXZlbnQpO1xyXG4gICAgICAgICAgICB2YXIgbXlldmVudCA9IHRoaXMuZXh0ZW5kQ29weShldmVudCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgX2N4ID0gbXlldmVudC5jbGllbnRYO1xyXG4gICAgICAgICAgICB2YXIgX2N5ID0gbXlldmVudC5jbGllbnRZO1xyXG4gICAgICAgICAgICB2YXIgX3B4ID0gbXlldmVudC5wYWdlWDtcclxuICAgICAgICAgICAgdmFyIF9weSA9IG15ZXZlbnQucGFnZVk7XHJcbiAgICAgICAgICAgIHZhciBfc3ggPSBteWV2ZW50LnNjcmVlblg7XHJcbiAgICAgICAgICAgIHZhciBfc3kgPSBteWV2ZW50LnNjcmVlblk7XHJcbiAgICAgICAgICAgIG15ZXZlbnQuY2xpZW50WCA9IF9jeTtcclxuICAgICAgICAgICAgbXlldmVudC5jbGllbnRZID0gdGFyZ2V0LmNsaWVudEhlaWdodCAtIF9jeDtcclxuICAgICAgICAgICAgbXlldmVudC5wYWdlWCA9IF9weTtcclxuICAgICAgICAgICAgbXlldmVudC5wYWdlWSA9IHRhcmdldC5jbGllbnRIZWlnaHQgLSBfcHg7XHJcbiAgICAgICAgICAgIC8vbXlldmVudC5yb3RhdGlvbkFuZ2xlPU1hdGguUEkvMjtcclxuICAgICAgICAgICAgcmV0dXJuIG15ZXZlbnQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBQaGFzZXIuSW5wdXQucHJvdG90eXBlLmV4dGVuZENvcHkgPSBmdW5jdGlvbiAocCkge1xyXG4gICAgICAgICAgICB2YXIgYyA9IHt9O1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIHApIHtcclxuICAgICAgICAgICAgICAgIGNbaV0gPSBwW2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGMudWJlciA9IHA7XHJcbiAgICAgICAgICAgIHJldHVybiBjO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBfZ2V0UGFyZW50Qm91bmRzID0gUGhhc2VyLlNjYWxlTWFuYWdlci5wcm90b3R5cGUuZ2V0UGFyZW50Qm91bmRzO1xyXG4gICAgICAgIFBoYXNlci5TY2FsZU1hbmFnZXIucHJvdG90eXBlLmdldFBhcmVudEJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHJlbCA9IF9nZXRQYXJlbnRCb3VuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgdmFyIF93aWR0aCA9IHJlbC53aWR0aDtcclxuICAgICAgICAgICAgdmFyIF9oZWlnaHQgPSByZWwuaGVpZ2h0O1xyXG4gICAgICAgICAgICBpZiAoUGhhc2VyLm15U2NhbGVNYW5hZ2VyLmlzTXlMYW5kc2NhcGUoKSkge1xyXG4gICAgICAgICAgICAgICAgcmVsLndpZHRoID0gX2hlaWdodDtcclxuICAgICAgICAgICAgICAgIHJlbC5oZWlnaHQgPSBfd2lkdGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlbDtcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGJvb3Q6IGZ1bmN0aW9uIGJvb3QoZ2FtZSkge1xyXG4gICAgICAgIHRoaXMuZ2FtZSA9IGdhbWU7XHJcbiAgICB9LFxyXG4gICAgcmVmcmVzaDogZnVuY3Rpb24gcmVmcmVzaCgpIHtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS53aWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCArIFwicHhcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgKyBcInB4XCI7XHJcblxyXG4gICAgICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0ID49IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCkge1xyXG4gICAgICAgICAgICAvL+erluWxj1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVEaXYuc3R5bGUuaGVpZ2h0ID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCArIFwicHhcIjtcclxuICAgICAgICAgICAgdGhpcy5nYW1lRGl2LnN0eWxlLndpZHRoID0gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQgKyBcInB4XCI7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZURpdi5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZSg5MGRlZylcIjtcclxuICAgICAgICAgICAgdGhpcy5nYW1lRGl2LnN0eWxlLmxlZnQgPSAtKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgLSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpIC8gMiArIFwicHhcIjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvL+aoquWxj1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVEaXYuc3R5bGUud2lkdGggPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoICsgXCJweFwiO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVEaXYuc3R5bGUuaGVpZ2h0ID0gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQgKyBcInB4XCI7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZURpdi5zdHlsZS50cmFuc2Zvcm0gPSBcIlwiO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVEaXYuc3R5bGUubGVmdCA9IFwiXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLndNYXggPSAxMjgwO1xyXG4gICAgICAgIHRoaXMuaFNjYWxlID0gMTtcclxuICAgICAgICB0aGlzLmhUcmltID0gMDtcclxuICAgICAgICB0aGlzLnZTY2FsZSA9IDE7XHJcbiAgICAgICAgdGhpcy52VHJpbSA9IDA7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmdhbWVEaXYuY2xpZW50SGVpZ2h0O1xyXG4gICAgICAgIHRoaXMud2lkdGggPSB0aGlzLmdhbWVEaXYuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgdGhpcy5zY2FsZSA9IDE7XHJcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPiB0aGlzLndNYXgpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2FsZSA9IHRoaXMud2lkdGggLyB0aGlzLndNYXg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnNjYWxlIDwgMSkge1xyXG4gICAgICAgICAgICB0aGlzLnNjYWxlID0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcInNjYWxlOiBcIitzY2FsZSk7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMud2lkdGggLyB0aGlzLnNjYWxlO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgLyB0aGlzLnNjYWxlO1xyXG4gICAgICAgIHRoaXMuaFNjYWxlID0gdGhpcy5zY2FsZTtcclxuICAgICAgICB0aGlzLnZTY2FsZSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZSAmJiB0aGlzLmdhbWUuc2NhbGUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZS5zY2FsZS5zY2FsZU1vZGUgPT09IFBoYXNlci5TY2FsZU1hbmFnZXIuVVNFUl9TQ0FMRSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lLnNjYWxlLnNldFVzZXJTY2FsZSh0aGlzLmhTY2FsZSwgdGhpcy52U2NhbGUsIHRoaXMuaFRyaW0sIHRoaXMudlRyaW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNldE15TGFuZHNjYXBlTW9kZTogZnVuY3Rpb24gc2V0TXlMYW5kc2NhcGVNb2RlKHNldFRvLCByZWZyZXNoKSB7XHJcbiAgICAgICAgcmVmcmVzaCA9IHJlZnJlc2ggfHwgZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pc015TGFuZHNjYXBlTW9kZSA9IHNldFRvO1xyXG4gICAgICAgIGlmIChyZWZyZXNoKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBpc015TGFuZHNjYXBlOiBmdW5jdGlvbiBpc015TGFuZHNjYXBlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzTXlMYW5kc2NhcGVNb2RlO1xyXG4gICAgfVxyXG5cclxufSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3V0aWxzL015U2NhbGVNYW5hZ2VyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==');
},function(module,exports,__webpack_require__){eval('\'use strict\';\n\nvar MainMenuState = __webpack_require__(4);\n\nmodule.exports = {\n\tpreload: function () {\n\t\tthis.game.load.image("compass", "static/assets/touch1.png");\n\t\tthis.game.load.image("touch", "static/assets/touch2.png");\n\t},\n\tcreate: function () {\n\t\tthis.server = window.Client;\n\t\tthis.login();\n\t},\n\tlogin: function (guid, pwd) {\n\t\tvar self = this;\n\t\ttry {\n\t\t\tvar host = window.location.hostname;\n\t\t\tif (host == "") {\n\t\t\t\thost = "127.0.0.1";\n\t\t\t}\n\t\t\tthis.server.connect({\n\t\t\t\thost: host,\n\t\t\t\tport: 23456,\n\t\t\t\tonConnect: function () {\n\t\t\t\t\t//alert("游戏连接成功!");\n\t\t\t\t\tself.server.requestNR("", "login", ["guid", "md5"]);\n\t\t\t\t\tself.game.state.add("MainMenuState", new MainMenuState(), false);\n\t\t\t\t\tself.state.start("MainMenuState");\n\t\t\t\t},\n\t\t\t\tonClose: function () {\n\t\t\t\t\tconsole.log("closed.");\n\t\t\t\t},\n\t\t\t\tonError: function (e) {\n\t\t\t\t\tconsole.log(e);\n\t\t\t\t}\n\t\t\t});\n\t\t} catch (e) {\n\t\t\talert(e);\n\t\t}\n\t}\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3RhdGVzL0Jvb3RTdGF0ZS5qcz9hNWE1Il0sIm5hbWVzIjpbIk1haW5NZW51U3RhdGUiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsInByZWxvYWQiLCJnYW1lIiwibG9hZCIsImltYWdlIiwiY3JlYXRlIiwic2VydmVyIiwid2luZG93IiwiQ2xpZW50IiwibG9naW4iLCJndWlkIiwicHdkIiwic2VsZiIsImhvc3QiLCJsb2NhdGlvbiIsImhvc3RuYW1lIiwiY29ubmVjdCIsInBvcnQiLCJvbkNvbm5lY3QiLCJyZXF1ZXN0TlIiLCJzdGF0ZSIsImFkZCIsInN0YXJ0Iiwib25DbG9zZSIsImNvbnNvbGUiLCJsb2ciLCJvbkVycm9yIiwiZSIsImFsZXJ0Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQSxJQUFJQSxnQkFBZ0IsbUJBQUFDLENBQVEsQ0FBUixDQUFwQjs7QUFFQUMsT0FBT0MsT0FBUCxHQUFpQjtBQUNoQkMsVUFBUyxZQUFXO0FBQ25CLE9BQUtDLElBQUwsQ0FBVUMsSUFBVixDQUFlQyxLQUFmLENBQXFCLFNBQXJCLEVBQWdDLDBCQUFoQztBQUNBLE9BQUtGLElBQUwsQ0FBVUMsSUFBVixDQUFlQyxLQUFmLENBQXFCLE9BQXJCLEVBQThCLDBCQUE5QjtBQUNBLEVBSmU7QUFLaEJDLFNBQVEsWUFBVztBQUNsQixPQUFLQyxNQUFMLEdBQWNDLE9BQU9DLE1BQXJCO0FBQ0EsT0FBS0MsS0FBTDtBQUNBLEVBUmU7QUFTaEJBLFFBQU8sVUFBU0MsSUFBVCxFQUFlQyxHQUFmLEVBQW9CO0FBQzFCLE1BQUlDLE9BQU8sSUFBWDtBQUNBLE1BQUc7QUFDRixPQUFJQyxPQUFPTixPQUFPTyxRQUFQLENBQWdCQyxRQUEzQjtBQUNBLE9BQUlGLFFBQVEsRUFBWixFQUNBO0FBQ0NBLFdBQU8sV0FBUDtBQUNBO0FBQ0QsUUFBS1AsTUFBTCxDQUFZVSxPQUFaLENBQW9CO0FBQ25CSCxVQUFNQSxJQURhO0FBRW5CSSxVQUFNLEtBRmE7QUFHbkJDLGVBQVcsWUFBVztBQUNyQjtBQUNBTixVQUFLTixNQUFMLENBQVlhLFNBQVosQ0FBc0IsRUFBdEIsRUFBMEIsT0FBMUIsRUFBbUMsQ0FBQyxNQUFELEVBQVMsS0FBVCxDQUFuQztBQUNBUCxVQUFLVixJQUFMLENBQVVrQixLQUFWLENBQWdCQyxHQUFoQixDQUFvQixlQUFwQixFQUFxQyxJQUFJeEIsYUFBSixFQUFyQyxFQUEwRCxLQUExRDtBQUNBZSxVQUFLUSxLQUFMLENBQVdFLEtBQVgsQ0FBaUIsZUFBakI7QUFDQSxLQVJrQjtBQVNuQkMsYUFBUyxZQUFXO0FBQ25CQyxhQUFRQyxHQUFSLENBQVksU0FBWjtBQUNBLEtBWGtCO0FBWW5CQyxhQUFTLFVBQVNDLENBQVQsRUFBWTtBQUNwQkgsYUFBUUMsR0FBUixDQUFZRSxDQUFaO0FBQ0E7QUFka0IsSUFBcEI7QUFnQkEsR0F0QkQsQ0FzQkMsT0FBT0EsQ0FBUCxFQUFTO0FBQ1RDLFNBQU1ELENBQU47QUFDQTtBQUNFO0FBcENZLENBQWpCIiwiZmlsZSI6IjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcbnZhciBNYWluTWVudVN0YXRlID0gcmVxdWlyZSgnLi9NYWluTWVudVN0YXRlLmpzJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuXHRwcmVsb2FkOiBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMuZ2FtZS5sb2FkLmltYWdlKFwiY29tcGFzc1wiLCBcInN0YXRpYy9hc3NldHMvdG91Y2gxLnBuZ1wiKTtcclxuXHRcdHRoaXMuZ2FtZS5sb2FkLmltYWdlKFwidG91Y2hcIiwgXCJzdGF0aWMvYXNzZXRzL3RvdWNoMi5wbmdcIik7XHJcblx0fSxcclxuXHRjcmVhdGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5zZXJ2ZXIgPSB3aW5kb3cuQ2xpZW50O1xyXG5cdFx0dGhpcy5sb2dpbigpO1xyXG5cdH0sXHJcblx0bG9naW46IGZ1bmN0aW9uKGd1aWQsIHB3ZCkge1xyXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0dHJ5e1xyXG5cdFx0XHR2YXIgaG9zdCA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTtcclxuXHRcdFx0aWYgKGhvc3QgPT0gXCJcIilcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGhvc3QgPSBcIjEyNy4wLjAuMVwiO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMuc2VydmVyLmNvbm5lY3Qoe1xyXG5cdFx0XHRcdGhvc3Q6IGhvc3QsXHJcblx0XHRcdFx0cG9ydDogMjM0NTYsXHJcblx0XHRcdFx0b25Db25uZWN0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdC8vYWxlcnQoXCLmuLjmiI/ov57mjqXmiJDlip8hXCIpO1xyXG5cdFx0XHRcdFx0c2VsZi5zZXJ2ZXIucmVxdWVzdE5SKFwiXCIsIFwibG9naW5cIiwgW1wiZ3VpZFwiLCBcIm1kNVwiXSk7XHJcblx0XHRcdFx0XHRzZWxmLmdhbWUuc3RhdGUuYWRkKFwiTWFpbk1lbnVTdGF0ZVwiLCBuZXcgTWFpbk1lbnVTdGF0ZSgpLCBmYWxzZSk7XHJcblx0XHRcdFx0XHRzZWxmLnN0YXRlLnN0YXJ0KFwiTWFpbk1lbnVTdGF0ZVwiKTtcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdG9uQ2xvc2U6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXCJjbG9zZWQuXCIpO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0b25FcnJvcjogZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH1jYXRjaCAoZSl7XHJcblx0XHRcdGFsZXJ0KGUpO1xyXG5cdFx0fVxyXG4gICAgfSxcclxufTtcclxuXHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zdGF0ZXMvQm9vdFN0YXRlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports,__webpack_require__){eval('"use strict";\n\nvar extend = __webpack_require__(1);\nvar GameState = __webpack_require__(5);\n\nmodule.exports = extend(function () {}, {\n\tctor: function () {\n\t\tthis.server = window.Client;\n\t},\n\tinit: function () {\n\t\tthis.physics.startSystem(Phaser.Physics.ARCADE);\n\t\tthis.game.stage.backgroundColor = "#DFDFDF";\n\t\tthis.game.time.desiredFps = 25;\n\t},\n\tpreload: function () {\n\t\tthis.game.load.image("sgBtn", "static/assets/sgBtn.png");\n\t\tthis.game.load.image("bg", "static/assets/bg.jpg");\n\t},\n\tcreate: function () {\n\t\tvar bgSprite = this.game.add.tileSprite(0, 0, 2 * this.game.world.width, 2 * this.game.world.height, "bg");\n\t\tthis.singleBtn = this.game.add.button(0, 0, "sgBtn", this.startGame, this);\n\t\tthis.singleBtn.reset((this.game.width - this.singleBtn.width) / 2, (this.game.height - this.singleBtn.height) / 2 - 100);\n\t},\n\tstartGame: function () {\n\t\tvar that = this;\n\t\tthis.server.request("", "phaserLogin", [], function (guid, nick, lv) {\n\t\t\tthat.game.state.add("GameState", new GameState(guid, nick, lv), false);\n\t\t\tthat.state.start("GameState");\n\t\t});\n\t}\n});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3RhdGVzL01haW5NZW51U3RhdGUuanM/ZTkwMyJdLCJuYW1lcyI6WyJleHRlbmQiLCJyZXF1aXJlIiwiR2FtZVN0YXRlIiwibW9kdWxlIiwiZXhwb3J0cyIsImN0b3IiLCJzZXJ2ZXIiLCJ3aW5kb3ciLCJDbGllbnQiLCJpbml0IiwicGh5c2ljcyIsInN0YXJ0U3lzdGVtIiwiUGhhc2VyIiwiUGh5c2ljcyIsIkFSQ0FERSIsImdhbWUiLCJzdGFnZSIsImJhY2tncm91bmRDb2xvciIsInRpbWUiLCJkZXNpcmVkRnBzIiwicHJlbG9hZCIsImxvYWQiLCJpbWFnZSIsImNyZWF0ZSIsImJnU3ByaXRlIiwiYWRkIiwidGlsZVNwcml0ZSIsIndvcmxkIiwid2lkdGgiLCJoZWlnaHQiLCJzaW5nbGVCdG4iLCJidXR0b24iLCJzdGFydEdhbWUiLCJyZXNldCIsInRoYXQiLCJyZXF1ZXN0IiwiZ3VpZCIsIm5pY2siLCJsdiIsInN0YXRlIiwic3RhcnQiXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBLElBQUlBLFNBQVMsbUJBQUFDLENBQVEsQ0FBUixDQUFiO0FBQ0EsSUFBSUMsWUFBWSxtQkFBQUQsQ0FBUSxDQUFSLENBQWhCOztBQUVBRSxPQUFPQyxPQUFQLEdBQWlCSixPQUFPLFlBQVksQ0FBRSxDQUFyQixFQUF1QjtBQUN2Q0ssT0FBTSxZQUFZO0FBQ2pCLE9BQUtDLE1BQUwsR0FBY0MsT0FBT0MsTUFBckI7QUFDQSxFQUhzQztBQUl2Q0MsT0FBTSxZQUFXO0FBQ2hCLE9BQUtDLE9BQUwsQ0FBYUMsV0FBYixDQUF5QkMsT0FBT0MsT0FBUCxDQUFlQyxNQUF4QztBQUNBLE9BQUtDLElBQUwsQ0FBVUMsS0FBVixDQUFnQkMsZUFBaEIsR0FBa0MsU0FBbEM7QUFDQSxPQUFLRixJQUFMLENBQVVHLElBQVYsQ0FBZUMsVUFBZixHQUE0QixFQUE1QjtBQUNBLEVBUnNDO0FBU3ZDQyxVQUFTLFlBQVc7QUFDbkIsT0FBS0wsSUFBTCxDQUFVTSxJQUFWLENBQWVDLEtBQWYsQ0FBcUIsT0FBckIsRUFBOEIseUJBQTlCO0FBQ0EsT0FBS1AsSUFBTCxDQUFVTSxJQUFWLENBQWVDLEtBQWYsQ0FBcUIsSUFBckIsRUFBMkIsc0JBQTNCO0FBQ0EsRUFac0M7QUFhdkNDLFNBQVEsWUFBVztBQUNsQixNQUFJQyxXQUFXLEtBQUtULElBQUwsQ0FBVVUsR0FBVixDQUFjQyxVQUFkLENBQXlCLENBQXpCLEVBQTRCLENBQTVCLEVBQStCLElBQUUsS0FBS1gsSUFBTCxDQUFVWSxLQUFWLENBQWdCQyxLQUFqRCxFQUF3RCxJQUFFLEtBQUtiLElBQUwsQ0FBVVksS0FBVixDQUFnQkUsTUFBMUUsRUFBa0YsSUFBbEYsQ0FBZjtBQUNBLE9BQUtDLFNBQUwsR0FBaUIsS0FBS2YsSUFBTCxDQUFVVSxHQUFWLENBQWNNLE1BQWQsQ0FBcUIsQ0FBckIsRUFBd0IsQ0FBeEIsRUFBMkIsT0FBM0IsRUFBb0MsS0FBS0MsU0FBekMsRUFBb0QsSUFBcEQsQ0FBakI7QUFDQSxPQUFLRixTQUFMLENBQWVHLEtBQWYsQ0FBcUIsQ0FBQyxLQUFLbEIsSUFBTCxDQUFVYSxLQUFWLEdBQWtCLEtBQUtFLFNBQUwsQ0FBZUYsS0FBbEMsSUFBMkMsQ0FBaEUsRUFBbUUsQ0FBQyxLQUFLYixJQUFMLENBQVVjLE1BQVYsR0FBbUIsS0FBS0MsU0FBTCxDQUFlRCxNQUFuQyxJQUE2QyxDQUE3QyxHQUFpRCxHQUFwSDtBQUNBLEVBakJzQztBQWtCdkNHLFlBQVcsWUFBVztBQUNyQixNQUFJRSxPQUFPLElBQVg7QUFDQSxPQUFLNUIsTUFBTCxDQUFZNkIsT0FBWixDQUFvQixFQUFwQixFQUF3QixhQUF4QixFQUF1QyxFQUF2QyxFQUEyQyxVQUFTQyxJQUFULEVBQWVDLElBQWYsRUFBcUJDLEVBQXJCLEVBQXdCO0FBQ2xFSixRQUFLbkIsSUFBTCxDQUFVd0IsS0FBVixDQUFnQmQsR0FBaEIsQ0FBb0IsV0FBcEIsRUFBaUMsSUFBSXZCLFNBQUosQ0FBY2tDLElBQWQsRUFBb0JDLElBQXBCLEVBQTBCQyxFQUExQixDQUFqQyxFQUFnRSxLQUFoRTtBQUNBSixRQUFLSyxLQUFMLENBQVdDLEtBQVgsQ0FBaUIsV0FBakI7QUFDQSxHQUhEO0FBSUc7QUF4Qm1DLENBQXZCLENBQWpCIiwiZmlsZSI6IjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxudmFyIGV4dGVuZCA9IHJlcXVpcmUoJy4uL3V0aWxzL2luaGVyaXRzLmpzJyk7XHJcbnZhciBHYW1lU3RhdGUgPSByZXF1aXJlKCcuL0dhbWVTdGF0ZS5qcycpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBleHRlbmQoZnVuY3Rpb24gKCkge30sIHtcclxuXHRjdG9yOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR0aGlzLnNlcnZlciA9IHdpbmRvdy5DbGllbnQ7XHJcblx0fSxcclxuXHRpbml0OiBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMucGh5c2ljcy5zdGFydFN5c3RlbShQaGFzZXIuUGh5c2ljcy5BUkNBREUpO1xyXG5cdFx0dGhpcy5nYW1lLnN0YWdlLmJhY2tncm91bmRDb2xvciA9IFwiI0RGREZERlwiO1xyXG5cdFx0dGhpcy5nYW1lLnRpbWUuZGVzaXJlZEZwcyA9IDI1O1xyXG5cdH0sXHJcblx0cHJlbG9hZDogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLmdhbWUubG9hZC5pbWFnZShcInNnQnRuXCIsIFwic3RhdGljL2Fzc2V0cy9zZ0J0bi5wbmdcIik7XHJcblx0XHR0aGlzLmdhbWUubG9hZC5pbWFnZShcImJnXCIsIFwic3RhdGljL2Fzc2V0cy9iZy5qcGdcIik7XHJcblx0fSxcclxuXHRjcmVhdGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGJnU3ByaXRlID0gdGhpcy5nYW1lLmFkZC50aWxlU3ByaXRlKDAsIDAsIDIqdGhpcy5nYW1lLndvcmxkLndpZHRoLCAyKnRoaXMuZ2FtZS53b3JsZC5oZWlnaHQsIFwiYmdcIik7XHJcblx0XHR0aGlzLnNpbmdsZUJ0biA9IHRoaXMuZ2FtZS5hZGQuYnV0dG9uKDAsIDAsIFwic2dCdG5cIiwgdGhpcy5zdGFydEdhbWUsIHRoaXMpO1xyXG5cdFx0dGhpcy5zaW5nbGVCdG4ucmVzZXQoKHRoaXMuZ2FtZS53aWR0aCAtIHRoaXMuc2luZ2xlQnRuLndpZHRoKSAvIDIsICh0aGlzLmdhbWUuaGVpZ2h0IC0gdGhpcy5zaW5nbGVCdG4uaGVpZ2h0KSAvIDIgLSAxMDApO1xyXG5cdH0sXHJcblx0c3RhcnRHYW1lOiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciB0aGF0ID0gdGhpcztcclxuXHRcdHRoaXMuc2VydmVyLnJlcXVlc3QoXCJcIiwgXCJwaGFzZXJMb2dpblwiLCBbXSwgZnVuY3Rpb24oZ3VpZCwgbmljaywgbHYpe1xyXG5cdFx0XHR0aGF0LmdhbWUuc3RhdGUuYWRkKFwiR2FtZVN0YXRlXCIsIG5ldyBHYW1lU3RhdGUoZ3VpZCwgbmljaywgbHYpLCBmYWxzZSk7XHJcblx0XHRcdHRoYXQuc3RhdGUuc3RhcnQoXCJHYW1lU3RhdGVcIik7XHJcblx0XHR9KTtcclxuICAgIH1cclxufSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3N0YXRlcy9NYWluTWVudVN0YXRlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports,__webpack_require__){eval('"use strict";\n\nvar extend = __webpack_require__(1);\nvar Hero = __webpack_require__(6);\n\nmodule.exports = extend(function () {}, {\n\tctor: function (guid, nick, lv) {\n\t\tthis.guid = guid;\n\t\tthis.nick = nick;\n\t\tthis.lv = lv;\n\n\t\tthis.frame = 0;\n\t},\n\tinit: function () {\n\t\tthis.physics.startSystem(Phaser.Physics.ARCADE);\n\t\tthis.game.stage.backgroundColor = "#DFDFDF";\n\t\tthis.game.time.desiredFps = 15;\n\t\tthis.game.touchControl = this.game.plugins.add(Phaser.Plugin.TouchControl);\n\t\tthis.game.touchControl.settings.singleDirection = false;\n\t\tthis.game.touchControl.inputEnable();\n\t},\n\tpreload: function () {\n\t\tthis.game.load.image("arrow", "static/assets/arrow.png");\n\t\tthis.game.load.image("ball", "static/assets/ball.png");\n\t},\n\tcreate: function () {\n\t\tvar bgSprite = this.game.add.tileSprite(0, 0, 2 * this.game.world.width, 2 * this.game.world.height, "bg");\n\t\t// bgSprite.autoScroll(-50,50);\n\t\t/* �Ӿ��۲��� */\n\t\tthis.arrows = this.game.add.group();\n\t\tthis.heros = this.game.add.group();\n\t\tthis.names = this.game.add.group();\n\t\t/* ͼ����Ⱦ�� */\n\t\tthis.gicGroup = this.game.add.group();\n\t\tthis.gicBlood = this.game.add.graphics(0, 0, this.gicGroup); // ���Ѫ��\n\t\tthis.initMap();\n\n\t\tthis.hero = this.joinHero({ x: 100, y: 100, lv: this.lv, nick: this.nick, guid: this.guid });\n\t\tconsole.log(this.game.stage.width, this.game.stage.height);\n\t\t// this.game.camera.deadzone = new Phaser.Rectangle(200, 200, this.game.stage.width - 200, this.game.stage.height - 200); //��ͷ���津������dead zone\n\t\tthis.game.camera.deadzone = new Phaser.Rectangle(0, 0, 100, 100);\n\t\tthis.game.camera.follow(this.hero);\n\t},\n\tinitMap: function () {\n\t\tthis.gicMap = this.game.add.graphics(0, 0, this.gicGroup); // С��ͼ\n\t\tthis.gicMap.lineStyle(1, 0xdfdfdf);\n\t\tthis.gicMap.alpha = 0.4;\n\t\tthis.gicMap.beginFill(0x99CC66, 1);\n\t\tthis.gicMap.drawCircle(100, 100, 160);\n\t\tthis.gicMap.endFill();\n\t},\n\tjoinHero: function (role) {\n\t\tvar hero = new Hero(this.game, role.x, role.y, this.heros, {\n\t\t\tarrowsGroup: this.arrows,\n\t\t\tnamesGroup: this.names,\n\t\t\tlv: role.lv, // �ȼ�\n\t\t\tnick: role.nick, // ����ǳ�\n\t\t\tguid: role.guid,\n\t\t\thp: 800 // ��ǰ��Ѫ\n\t\t});\n\t\treturn hero;\n\t},\n\tupdateBlood: function (player) {\n\t\t// �̶Ȼ���\n\t\tvar blood = player.hp / 35;\n\t\tvar x = player.x - blood / 2;\n\t\tvar y = player.y - 30;\n\t\tvar deltaX = 5;\n\t\tif (player.hp > 0) {\n\t\t\tif (player.alpha == 0.3) {\n\t\t\t\tplayer.alpha = 1;\n\t\t\t}\n\t\t} else if (player.alpha == 1) {\n\t\t\t// ����Ч��\n\t\t\tplayer.alpha = 0.3;\n\t\t\tplayer.rotateCd = new Date().getTime() + 3000;\n\t\t}\n\t\tif (blood >= 0) {\n\t\t\tif (player.blood == 0 && blood > 0) {\n\t\t\t\t// ��ʼ��Ѫ��\n\t\t\t\tthis.game.add.tween(player).to({ blood: blood }, 500, "Linear", true);\n\t\t\t} else if (player.hp == player.lastHp) {\n\t\t\t\t// �����仯\n\t\t\t\tthis.hpChangeTag = false;\n\t\t\t} else if (this.hpChangeTag == false) {\n\t\t\t\t// �״α䶯ʱ��Ѫ����ʾ\n\t\t\t\tvar hpDelta = player.hp - player.lastHp;\n\t\t\t\tplayer.lastHp = player.hp;\n\t\t\t\tthis.hpChangeTag = true;\n\t\t\t\tif (this.hpTips != undefined) {\n\t\t\t\t\tthis.hpTips.kill();\n\t\t\t\t}\n\t\t\t\t// Ѫ���䶯����\n\t\t\t\tvar hpStr = hpDelta.toString();\n\t\t\t\tvar style = { font: "14px Arial", fill: "#ff0000", align: "center" };\n\t\t\t\tif (hpDelta > 0) {\n\t\t\t\t\thpStr = "+" + hpStr;\n\t\t\t\t\tstyle = { font: "14px Arial", fill: "#00ff00", align: "center" };\n\t\t\t\t}\n\t\t\t\tthis.hpTips = player.addChild(this.game.make.text(0, -10, hpStr, style));\n\t\t\t\tthis.hpTips.anchor.set(0.5);\n\t\t\t\tthis.hpTips.alpha = 0.1;\n\t\t\t\tthis.game.add.tween(this.hpTips).to({ alpha: 1, y: -50 }, 400, "Linear", true);\n\t\t\t\tthis.game.add.tween(player).to({ blood: blood }, 300, "Linear", true);\n\t\t\t}\n\t\t}\n\t\tif (this.hpTips != undefined && this.hpTips.alpha == 1) {\n\t\t\t// ��������Ч��\n\t\t\tthis.hpTips.kill();\n\t\t}\n\n\t\tvar gic = this.gicBlood;\n\t\tvar colorBlood = 0xFF0000; // �з���Ӫ\n\t\tif (this.guid == player.guid) {\n\t\t\tcolorBlood = 0x00EE00; // ����Ӫ\n\t\t}\n\t\tgic.beginFill(colorBlood, 0.7);\n\t\tgic.drawRoundedRect(x, y, player.blood, 7, 2);\n\t\tgic.beginFill(0x333333, 0.5);\n\t\t// Ѫ���̶�\n\t\tfor (var i = deltaX; i < player.blood; i += deltaX) {\n\t\t\tgic.drawRect(x + i, y, 1, 4);\n\t\t}\n\t},\n\tFire: function () {\n\t\tvar speed = this.game.touchControl.speed;\n\t\tvar x = speed.x;\n\t\tvar y = speed.y;\n\t\tif (x == 0 && y == 0) {\n\t\t\treturn;\n\t\t};\n\t\tthis.hero.Fire(x, y);\n\t\tthis.game.camera.x = this.hero.x;\n\t\tthis.game.camera.y = this.hero.y;\n\t},\n\tupdate: function () {\n\t\tthis.frame++;\n\t\tthis.gicBlood.clear(); // ����������������к��ŵĶ�̬����Ч����#todoһ�������ļ�����Ч\n\t\tthis.heros.forEachAlive(function (player) {\n\t\t\tplayer.Rotate();\n\t\t\tplayer.Move(); //�ƶ�\n\t\t\tthis.updateBlood(player);\n\t\t}, this);\n\t\tthis.Fire();\n\t\tif (this.frame % 10 == 0) {}\n\t}\n});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3RhdGVzL0dhbWVTdGF0ZS5qcz83MWY3Il0sIm5hbWVzIjpbImV4dGVuZCIsInJlcXVpcmUiLCJIZXJvIiwibW9kdWxlIiwiZXhwb3J0cyIsImN0b3IiLCJndWlkIiwibmljayIsImx2IiwiZnJhbWUiLCJpbml0IiwicGh5c2ljcyIsInN0YXJ0U3lzdGVtIiwiUGhhc2VyIiwiUGh5c2ljcyIsIkFSQ0FERSIsImdhbWUiLCJzdGFnZSIsImJhY2tncm91bmRDb2xvciIsInRpbWUiLCJkZXNpcmVkRnBzIiwidG91Y2hDb250cm9sIiwicGx1Z2lucyIsImFkZCIsIlBsdWdpbiIsIlRvdWNoQ29udHJvbCIsInNldHRpbmdzIiwic2luZ2xlRGlyZWN0aW9uIiwiaW5wdXRFbmFibGUiLCJwcmVsb2FkIiwibG9hZCIsImltYWdlIiwiY3JlYXRlIiwiYmdTcHJpdGUiLCJ0aWxlU3ByaXRlIiwid29ybGQiLCJ3aWR0aCIsImhlaWdodCIsImFycm93cyIsImdyb3VwIiwiaGVyb3MiLCJuYW1lcyIsImdpY0dyb3VwIiwiZ2ljQmxvb2QiLCJncmFwaGljcyIsImluaXRNYXAiLCJoZXJvIiwiam9pbkhlcm8iLCJ4IiwieSIsImNvbnNvbGUiLCJsb2ciLCJjYW1lcmEiLCJkZWFkem9uZSIsIlJlY3RhbmdsZSIsImZvbGxvdyIsImdpY01hcCIsImxpbmVTdHlsZSIsImFscGhhIiwiYmVnaW5GaWxsIiwiZHJhd0NpcmNsZSIsImVuZEZpbGwiLCJyb2xlIiwiYXJyb3dzR3JvdXAiLCJuYW1lc0dyb3VwIiwiaHAiLCJ1cGRhdGVCbG9vZCIsInBsYXllciIsImJsb29kIiwiZGVsdGFYIiwicm90YXRlQ2QiLCJEYXRlIiwiZ2V0VGltZSIsInR3ZWVuIiwidG8iLCJsYXN0SHAiLCJocENoYW5nZVRhZyIsImhwRGVsdGEiLCJocFRpcHMiLCJ1bmRlZmluZWQiLCJraWxsIiwiaHBTdHIiLCJ0b1N0cmluZyIsInN0eWxlIiwiZm9udCIsImZpbGwiLCJhbGlnbiIsImFkZENoaWxkIiwibWFrZSIsInRleHQiLCJhbmNob3IiLCJzZXQiLCJnaWMiLCJjb2xvckJsb29kIiwiZHJhd1JvdW5kZWRSZWN0IiwiaSIsImRyYXdSZWN0IiwiRmlyZSIsInNwZWVkIiwidXBkYXRlIiwiY2xlYXIiLCJmb3JFYWNoQWxpdmUiLCJSb3RhdGUiLCJNb3ZlIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQSxJQUFJQSxTQUFTLG1CQUFBQyxDQUFRLENBQVIsQ0FBYjtBQUNBLElBQUlDLE9BQU8sbUJBQUFELENBQVEsQ0FBUixDQUFYOztBQUVBRSxPQUFPQyxPQUFQLEdBQWlCSixPQUFPLFlBQVksQ0FBRSxDQUFyQixFQUF1QjtBQUN2Q0ssT0FBTSxVQUFVQyxJQUFWLEVBQWdCQyxJQUFoQixFQUFzQkMsRUFBdEIsRUFBMEI7QUFDL0IsT0FBS0YsSUFBTCxHQUFZQSxJQUFaO0FBQ0EsT0FBS0MsSUFBTCxHQUFZQSxJQUFaO0FBQ0EsT0FBS0MsRUFBTCxHQUFVQSxFQUFWOztBQUVBLE9BQUtDLEtBQUwsR0FBYSxDQUFiO0FBQ0EsRUFQc0M7QUFRdkNDLE9BQU0sWUFBVztBQUNoQixPQUFLQyxPQUFMLENBQWFDLFdBQWIsQ0FBeUJDLE9BQU9DLE9BQVAsQ0FBZUMsTUFBeEM7QUFDQSxPQUFLQyxJQUFMLENBQVVDLEtBQVYsQ0FBZ0JDLGVBQWhCLEdBQWtDLFNBQWxDO0FBQ0EsT0FBS0YsSUFBTCxDQUFVRyxJQUFWLENBQWVDLFVBQWYsR0FBNEIsRUFBNUI7QUFDQSxPQUFLSixJQUFMLENBQVVLLFlBQVYsR0FBeUIsS0FBS0wsSUFBTCxDQUFVTSxPQUFWLENBQWtCQyxHQUFsQixDQUFzQlYsT0FBT1csTUFBUCxDQUFjQyxZQUFwQyxDQUF6QjtBQUNBLE9BQUtULElBQUwsQ0FBVUssWUFBVixDQUF1QkssUUFBdkIsQ0FBZ0NDLGVBQWhDLEdBQWtELEtBQWxEO0FBQ0EsT0FBS1gsSUFBTCxDQUFVSyxZQUFWLENBQXVCTyxXQUF2QjtBQUNBLEVBZnNDO0FBZ0J2Q0MsVUFBUyxZQUFXO0FBQ25C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TCxDQUFVbUQsSUFBVixDQUFlakQsQ0FBZixFQUFrQkMsQ0FBbEI7QUFDQSxPQUFLakMsSUFBTCxDQUFVb0MsTUFBVixDQUFpQkosQ0FBakIsR0FBcUIsS0FBS0YsSUFBTCxDQUFVRSxDQUEvQjtBQUNBLE9BQUtoQyxJQUFMLENBQVVvQyxNQUFWLENBQWlCSCxDQUFqQixHQUFxQixLQUFLSCxJQUFMLENBQVVHLENBQS9CO0FBQ0EsRUF0SXNDO0FBdUl2Q2tELFNBQVEsWUFBVTtBQUNqQixPQUFLMUYsS0FBTDtBQUNBLE9BQUtrQyxRQUFMLENBQWN5RCxLQUFkLEdBRmlCLENBRU07QUFDdkIsT0FBSzVELEtBQUwsQ0FBVzZELFlBQVgsQ0FBd0IsVUFBU2xDLE1BQVQsRUFBZ0I7QUFDdkNBLFVBQU9tQyxNQUFQO0FBQ0FuQyxVQUFPb0MsSUFBUCxHQUZ1QyxDQUV4QjtBQUNmLFFBQUtyQyxXQUFMLENBQWlCQyxNQUFqQjtBQUNBLEdBSkQsRUFJRyxJQUpIO0FBS0EsT0FBSzhCLElBQUw7QUFDQSxNQUFJLEtBQUt4RixLQUFMLEdBQWEsRUFBYixJQUFtQixDQUF2QixFQUEwQixDQUN6QjtBQUNEO0FBbEpzQyxDQUF2QixDQUFqQiIsImZpbGUiOiI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBleHRlbmQgPSByZXF1aXJlKCcuLi91dGlscy9pbmhlcml0cy5qcycpO1xyXG52YXIgSGVybyA9IHJlcXVpcmUoJy4uL29iamVjdHMvUGxheWVyLmpzJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGV4dGVuZChmdW5jdGlvbiAoKSB7fSwge1xyXG5cdGN0b3I6IGZ1bmN0aW9uIChndWlkLCBuaWNrLCBsdikge1xyXG5cdFx0dGhpcy5ndWlkID0gZ3VpZDtcclxuXHRcdHRoaXMubmljayA9IG5pY2s7XHJcblx0XHR0aGlzLmx2ID0gbHY7XHJcblx0XHRcclxuXHRcdHRoaXMuZnJhbWUgPSAwO1xyXG5cdH0sXHJcblx0aW5pdDogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLnBoeXNpY3Muc3RhcnRTeXN0ZW0oUGhhc2VyLlBoeXNpY3MuQVJDQURFKTtcclxuXHRcdHRoaXMuZ2FtZS5zdGFnZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNERkRGREZcIjtcclxuXHRcdHRoaXMuZ2FtZS50aW1lLmRlc2lyZWRGcHMgPSAxNTtcclxuXHRcdHRoaXMuZ2FtZS50b3VjaENvbnRyb2wgPSB0aGlzLmdhbWUucGx1Z2lucy5hZGQoUGhhc2VyLlBsdWdpbi5Ub3VjaENvbnRyb2wpO1xyXG5cdFx0dGhpcy5nYW1lLnRvdWNoQ29udHJvbC5zZXR0aW5ncy5zaW5nbGVEaXJlY3Rpb24gPSBmYWxzZTtcclxuXHRcdHRoaXMuZ2FtZS50b3VjaENvbnRyb2wuaW5wdXRFbmFibGUoKTtcclxuXHR9LFxyXG5cdHByZWxvYWQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5nYW1lLmxvYWQuaW1hZ2UoXCJhcnJvd1wiLCBcInN0YXRpYy9hc3NldHMvYXJyb3cucG5nXCIpO1xyXG5cdFx0dGhpcy5nYW1lLmxvYWQuaW1hZ2UoXCJiYWxsXCIsIFwic3RhdGljL2Fzc2V0cy9iYWxsLnBuZ1wiKTtcclxuXHR9LFxyXG5cdGNyZWF0ZTogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgYmdTcHJpdGUgPSB0aGlzLmdhbWUuYWRkLnRpbGVTcHJpdGUoMCwgMCwgMip0aGlzLmdhbWUud29ybGQud2lkdGgsIDIqdGhpcy5nYW1lLndvcmxkLmhlaWdodCwgXCJiZ1wiKTtcclxuXHRcdC8vIGJnU3ByaXRlLmF1dG9TY3JvbGwoLTUwLDUwKTtcclxuXHRcdC8qIO+/vdO+77+977+927Lvv73vv73vv70gKi9cclxuXHRcdHRoaXMuYXJyb3dzID0gdGhpcy5nYW1lLmFkZC5ncm91cCgpO1xyXG5cdFx0dGhpcy5oZXJvcyA9IHRoaXMuZ2FtZS5hZGQuZ3JvdXAoKTtcclxuXHRcdHRoaXMubmFtZXMgPSB0aGlzLmdhbWUuYWRkLmdyb3VwKCk7XHJcblx0XHQvKiDNvO+/ve+/ve+/ve+/vci+77+977+9ICovXHJcblx0XHR0aGlzLmdpY0dyb3VwID0gdGhpcy5nYW1lLmFkZC5ncm91cCgpO1xyXG5cdFx0dGhpcy5naWNCbG9vZCA9IHRoaXMuZ2FtZS5hZGQuZ3JhcGhpY3MoMCwgMCwgdGhpcy5naWNHcm91cCk7IC8vIO+/ve+/ve+/vdGq77+977+9XHJcblx0XHR0aGlzLmluaXRNYXAoKTtcclxuXHRcdFxyXG5cdFx0dGhpcy5oZXJvID0gdGhpcy5qb2luSGVybyh7eDoxMDAsIHk6MTAwLCBsdjogdGhpcy5sdiwgbmljazogdGhpcy5uaWNrLCBndWlkOiB0aGlzLmd1aWR9KTtcclxuXHRcdGNvbnNvbGUubG9nKHRoaXMuZ2FtZS5zdGFnZS53aWR0aCwgdGhpcy5nYW1lLnN0YWdlLmhlaWdodCk7XHJcblx0XHQvLyB0aGlzLmdhbWUuY2FtZXJhLmRlYWR6b25lID0gbmV3IFBoYXNlci5SZWN0YW5nbGUoMjAwLCAyMDAsIHRoaXMuZ2FtZS5zdGFnZS53aWR0aCAtIDIwMCwgdGhpcy5nYW1lLnN0YWdlLmhlaWdodCAtIDIwMCk7IC8v77+977+9zbfvv73vv73vv73mtKXvv73vv73vv73vv73vv73vv71kZWFkIHpvbmVcclxuXHRcdHRoaXMuZ2FtZS5jYW1lcmEuZGVhZHpvbmUgPSBuZXcgUGhhc2VyLlJlY3RhbmdsZSgwLDAsMTAwLDEwMCk7XHJcblx0XHR0aGlzLmdhbWUuY2FtZXJhLmZvbGxvdyh0aGlzLmhlcm8pOyBcclxuXHR9LFxyXG5cdGluaXRNYXA6IGZ1bmN0aW9uKCl7XHJcblx0XHR0aGlzLmdpY01hcCA9IHRoaXMuZ2FtZS5hZGQuZ3JhcGhpY3MoMCwgMCwgdGhpcy5naWNHcm91cCk7IC8vINCh77+977+9zbxcclxuXHRcdHRoaXMuZ2ljTWFwLmxpbmVTdHlsZSgxLCAweGRmZGZkZik7XHJcblx0XHR0aGlzLmdpY01hcC5hbHBoYSA9IDAuNDtcclxuXHRcdHRoaXMuZ2ljTWFwLmJlZ2luRmlsbCgweDk5Q0M2NiwgMSk7XHJcblx0XHR0aGlzLmdpY01hcC5kcmF3Q2lyY2xlKDEwMCwgMTAwLCAxNjApO1xyXG5cdFx0dGhpcy5naWNNYXAuZW5kRmlsbCgpO1xyXG5cdH0sXHJcblx0am9pbkhlcm86IGZ1bmN0aW9uKHJvbGUpIHtcclxuXHRcdHZhciBoZXJvID0gbmV3IEhlcm8odGhpcy5nYW1lLCByb2xlLngsIHJvbGUueSwgdGhpcy5oZXJvcywge1xyXG5cdFx0XHRhcnJvd3NHcm91cDogdGhpcy5hcnJvd3MsXHJcblx0XHRcdG5hbWVzR3JvdXA6IHRoaXMubmFtZXMsXHJcblx0XHRcdGx2OiByb2xlLmx2LCAvLyDvv73IvO+/vVxyXG5cdFx0XHRuaWNrOiByb2xlLm5pY2ssIC8vIO+/ve+/ve+/ve+/vcez77+9XHJcblx0XHRcdGd1aWQ6IHJvbGUuZ3VpZCxcclxuXHRcdFx0aHA6IDgwMCwgLy8g77+977+9x7Dvv73vv73RqlxyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gaGVybztcclxuXHR9LFxyXG5cdHVwZGF0ZUJsb29kOiBmdW5jdGlvbihwbGF5ZXIpe1xyXG5cdFx0Ly8g77+9zLbIu++/ve+/ve+/vVxyXG5cdFx0dmFyIGJsb29kID0gcGxheWVyLmhwIC8gMzU7XHJcblx0XHR2YXIgeCA9IHBsYXllci54IC0gYmxvb2QgLyAyO1xyXG5cdFx0dmFyIHkgPSBwbGF5ZXIueSAtIDMwO1xyXG5cdFx0dmFyIGRlbHRhWCA9IDU7XHJcblx0XHRpZiAocGxheWVyLmhwID4wKSB7XHJcblx0XHRcdGlmIChwbGF5ZXIuYWxwaGEgPT0gMC4zKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0cGxheWVyLmFscGhhID0gMTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIGlmIChwbGF5ZXIuYWxwaGEgPT0gMSkge1xyXG5cdFx0XHQvLyDvv73vv73vv73vv73Qp++/ve+/vVxyXG5cdFx0XHRwbGF5ZXIuYWxwaGEgPSAwLjM7XHJcblx0XHRcdHBsYXllci5yb3RhdGVDZD0obmV3IERhdGUoKSkuZ2V0VGltZSgpICsgMzAwMDtcclxuXHRcdH1cclxuXHRcdGlmIChibG9vZCA+PSAwKSB7XHJcblx0XHRcdGlmIChwbGF5ZXIuYmxvb2QgPT0gMCAmJiBibG9vZCA+IDApe1xyXG5cdFx0XHRcdC8vIO+/ve+/vcq877+977+90arvv73vv71cclxuXHRcdFx0XHR0aGlzLmdhbWUuYWRkLnR3ZWVuKHBsYXllcikudG8oIHsgYmxvb2Q6IGJsb29kIH0sIDUwMCwgXCJMaW5lYXJcIiwgdHJ1ZSk7XHJcblx0XHRcdH0gZWxzZSBpZiAocGxheWVyLmhwID09IHBsYXllci5sYXN0SHApIHtcclxuXHRcdFx0XHQvLyDvv73vv73vv73vv73vv73ku69cclxuXHRcdFx0XHR0aGlzLmhwQ2hhbmdlVGFnID0gZmFsc2U7XHJcblx0XHRcdH0gZWxzZSBpZiAodGhpcy5ocENoYW5nZVRhZyA9PSBmYWxzZSkge1xyXG5cdFx0XHRcdC8vIO+/vde0zrHktq/Kse+/ve+/vdGq77+977+977+977+9yr5cclxuXHRcdFx0XHR2YXIgaHBEZWx0YSA9IHBsYXllci5ocCAtIHBsYXllci5sYXN0SHA7XHJcblx0XHRcdFx0cGxheWVyLmxhc3RIcCA9IHBsYXllci5ocDtcclxuXHRcdFx0XHR0aGlzLmhwQ2hhbmdlVGFnID0gdHJ1ZTtcclxuXHRcdFx0XHRpZiAodGhpcy5ocFRpcHMgIT0gdW5kZWZpbmVkKVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdHRoaXMuaHBUaXBzLmtpbGwoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly8g0arvv73vv73vv73ktq/vv73vv73vv73vv71cclxuXHRcdFx0XHR2YXIgaHBTdHIgPSBocERlbHRhLnRvU3RyaW5nKCk7XHJcblx0XHRcdFx0dmFyIHN0eWxlID0geyBmb250OiBcIjE0cHggQXJpYWxcIiwgZmlsbDogXCIjZmYwMDAwXCIsIGFsaWduOiBcImNlbnRlclwiIH07XHJcblx0XHRcdFx0aWYgKGhwRGVsdGEgPiAwKVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdGhwU3RyID0gXCIrXCIgKyBocFN0cjtcclxuXHRcdFx0XHRcdHN0eWxlID0geyBmb250OiBcIjE0cHggQXJpYWxcIiwgZmlsbDogXCIjMDBmZjAwXCIsIGFsaWduOiBcImNlbnRlclwiIH07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRoaXMuaHBUaXBzID0gcGxheWVyLmFkZENoaWxkKHRoaXMuZ2FtZS5tYWtlLnRleHQoMCwgLTEwLCBocFN0ciwgc3R5bGUpKTtcclxuXHRcdFx0XHR0aGlzLmhwVGlwcy5hbmNob3Iuc2V0KDAuNSk7XHJcblx0XHRcdFx0dGhpcy5ocFRpcHMuYWxwaGEgPSAwLjE7XHJcblx0XHRcdFx0dGhpcy5nYW1lLmFkZC50d2Vlbih0aGlzLmhwVGlwcykudG8oIHsgYWxwaGE6IDEsIHk6IC01MCB9LCA0MDAsIFwiTGluZWFyXCIsIHRydWUpO1xyXG5cdFx0XHRcdHRoaXMuZ2FtZS5hZGQudHdlZW4ocGxheWVyKS50byggeyBibG9vZDogYmxvb2QgfSwgMzAwLCBcIkxpbmVhclwiLCB0cnVlKTtcdFxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZiAodGhpcy5ocFRpcHMgIT0gdW5kZWZpbmVkICYmIHRoaXMuaHBUaXBzLmFscGhhID09IDEpXHJcblx0XHR7XHJcblx0XHRcdC8vIO+/ve+/ve+/ve+/ve+/ve+/ve+/ve+/vdCn77+977+9XHJcblx0XHRcdHRoaXMuaHBUaXBzLmtpbGwoKTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgZ2ljID0gdGhpcy5naWNCbG9vZDtcclxuXHRcdHZhciBjb2xvckJsb29kID0gMHhGRjAwMDA7IC8vIO+/vdC377+977+977+906pcclxuXHRcdGlmICh0aGlzLmd1aWQgPT0gcGxheWVyLmd1aWQpIHtcclxuXHRcdFx0Y29sb3JCbG9vZCA9IDB4MDBFRTAwOyAvLyDvv73vv73vv73vv73TqlxyXG5cdFx0fVxyXG5cdFx0Z2ljLmJlZ2luRmlsbChjb2xvckJsb29kLCAwLjcpO1xyXG5cdFx0Z2ljLmRyYXdSb3VuZGVkUmVjdCh4LCB5LCBwbGF5ZXIuYmxvb2QsIDcsIDIpO1xyXG5cdFx0Z2ljLmJlZ2luRmlsbCgweDMzMzMzMywgMC41KTtcclxuXHRcdC8vINGq77+977+977+9zLbvv71cclxuXHRcdGZvciAodmFyIGk9ZGVsdGFYOyBpPHBsYXllci5ibG9vZDsgaSs9ZGVsdGFYKVxyXG5cdFx0e1xyXG5cdFx0XHRnaWMuZHJhd1JlY3QoeCtpLCB5LCAxLCA0KTtcclxuXHRcdH1cclxuXHR9LFxyXG5cdEZpcmU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIHNwZWVkID0gdGhpcy5nYW1lLnRvdWNoQ29udHJvbC5zcGVlZDtcclxuXHRcdHZhciB4ID0gc3BlZWQueDtcclxuXHRcdHZhciB5ID0gc3BlZWQueTtcclxuXHRcdGlmICh4ID09IDAgJiYgeSA9PSAwKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH07XHJcblx0XHR0aGlzLmhlcm8uRmlyZSh4LCB5KTtcclxuXHRcdHRoaXMuZ2FtZS5jYW1lcmEueCA9IHRoaXMuaGVyby54O1xyXG5cdFx0dGhpcy5nYW1lLmNhbWVyYS55ID0gdGhpcy5oZXJvLnk7XHJcblx0fSxcclxuXHR1cGRhdGU6IGZ1bmN0aW9uKCl7XHJcblx0XHR0aGlzLmZyYW1lKys7XHJcblx0XHR0aGlzLmdpY0Jsb29kLmNsZWFyKCk7IC8vIO+/ve+/ve+/ve+/ve+/ve+/ve+/ve+/ve+/ve+/ve+/ve+/ve+/ve+/ve+/ve+/vdC677+977+9xbXEtu+/vcys77+977+977+977+90Kfvv73vv73vv73vv70jdG9kb9K777+977+977+977+977+977+977+9xLzvv73vv73vv73vv73vv73Qp1xyXG5cdFx0dGhpcy5oZXJvcy5mb3JFYWNoQWxpdmUoZnVuY3Rpb24ocGxheWVyKXtcclxuXHRcdFx0cGxheWVyLlJvdGF0ZSgpO1xyXG5cdFx0XHRwbGF5ZXIuTW92ZSgpOyAvL++/vca277+9XHJcblx0XHRcdHRoaXMudXBkYXRlQmxvb2QocGxheWVyKTtcclxuXHRcdH0sIHRoaXMpO1xyXG5cdFx0dGhpcy5GaXJlKCk7XHJcblx0XHRpZiAodGhpcy5mcmFtZSAlIDEwID09IDApIHtcclxuXHRcdH1cclxuXHR9XHJcbn0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zdGF0ZXMvR2FtZVN0YXRlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==');
},function(module,exports,__webpack_require__){eval('"use strict";\n\nvar extend = __webpack_require__(1);\nvar GameRole = __webpack_require__(7);\nmodule.exports = extend(GameRole, {\n\tctor: function ctor(game, x, y, group, properties) {\n\t\tthis.roleType = "hero";\n\t\tproperties = properties || {};\n\t\tthis.game = game;\n\t\tthis.guid = properties.guid;\n\t\tthis.lv = properties.lv;\n\t\tthis.nick = properties.nick;\n\t\tthis.hp = properties.hp;\n\t\tthis.arrows = properties.arrowsGroup; //视觉观察组\n\t\tthis.names = properties.namesGroup;\n\n\t\tthis.friction = 0.9;\n\t\tthis.fireSpeed = -10;\n\t\tthis.rotateSpeed = 5;\n\n\t\tthis.blood = 0;\n\t\tthis.rotateCd = 0;\n\t\tthis.xSpeed = 0;\n\t\tthis.ySpeed = 0;\n\t\tthis.angle = 0;\n\t\tthis.rotateDirection = 1;\n\t\tthis.rotateCd = 0;\n\n\t\tthis._super(this.game, x, y, "ball", null, properties);\n\t\tthis.game.physics.arcade.enable(this);\n\t\tthis.anchor.setTo(0.5, 0.5);\n\t\tthis.checkWorldBounds = true;\n\t\tthis.outOfBoundsKill = true;\n\t\tthis.body.collideWorldBounds = true; //与世界边境进行物理检测\n\t\tthis.inputEnabled = true;\n\t\tthis.input.useHandCursor = true; //当鼠标移动到其上面时显示小手\n\t\tif (group) {\n\t\t\tgroup.add(this);\n\t\t}\n\t},\n\tdead: function () {\n\t\tif (this.alive) {\n\t\t\tthis._super();\n\t\t\tthis.arrow.kill();\n\t\t}\n\t},\n\tgetArrow: function getArrow() {\n\t\tif (this.arrow == null) {\n\t\t\tvar arrow = this.arrows.getFirstExists(false);\n\t\t\tif (arrow) {\n\t\t\t\tthis.arrow = arrow;\n\t\t\t\tthis.arrow.reset(this.x, this.y);\n\t\t\t} else {\n\t\t\t\t//设置一个观察器\n\t\t\t\tthis.arrow = this.game.add.sprite(this.game.world.centerX, this.game.world.centerY, "arrow");\n\t\t\t\tthis.arrow.anchor.x = -1;\n\t\t\t\tthis.arrow.anchor.y = 0.5;\n\t\t\t}\n\t\t}\n\t\treturn this.arrow;\n\t},\n\tgetName: function () {\n\t\tif (this.nameObj == null) {\n\t\t\tvar color1 = "#FFFFFF",\n\t\t\t    color2 = "#777777";\n\t\t\t// color1 = "red"; color2 = "#111111"; // 敌方阵营\n\t\t\tvar nameObj = this.names.getFirstExists(false);\n\t\t\tif (nameObj) {\n\t\t\t\tthis.nameObj = nameObj;\n\t\t\t\tthis.nameObj.reset(this.x, this.y);\n\t\t\t} else {\n\t\t\t\tvar nameStyle = { font: "10px \'微软雅黑\'", fill: color1, align: "center" };\n\t\t\t\tthis.nameObj = this.game.add.text(this.game.world.centerX, this.game.world.centerY, this.name, nameStyle);\n\t\t\t\tthis.nameObj.anchor.x = 0.5;\n\t\t\t\tthis.nameObj.anchor.y = -1;\n\t\t\t\tthis.nameObj.setShadow(1, 1, color2, 0);\n\t\t\t\tthis.nameObj.alpha = 0.7;\n\t\t\t}\n\t\t\tif (this.nameObj.text != this.nick) {\n\t\t\t\tthis.nameObj.setText(this.nick, 1);\n\t\t\t}\n\t\t}\n\t\treturn this.nameObj;\n\t},\n\tFire: function (x, y) {\n\t\tvar curTime = new Date().getTime();\n\t\tvar angle = Math.atan2(-y, -x) / Math.PI * 180;\n\n\t\t// 自转冷却\n\t\tthis.rotateCd = new Date().getTime() + 250;\n\t\tif (angle > this.getArrow().angle) {\n\t\t\tif (this.rotateDirection < 0) {\n\t\t\t\tthis.rotateDirection *= -1;\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.rotateDirection > 0) {\n\t\t\t\tthis.rotateDirection *= -1;\n\t\t\t}\n\t\t}\n\t\tthis.getArrow().angle = angle;\n\t\tthis.xSpeed = x / this.fireSpeed;\n\t\tthis.ySpeed = y / this.fireSpeed;\n\t},\n\tRotate: function () {\n\t\tvar curTime = new Date().getTime();\n\t\tif (curTime > this.rotateCd) {\n\t\t\t// 自转特效\n\t\t\tthis.getArrow().angle += this.rotateSpeed * this.rotateDirection;\n\t\t}\n\t},\n\tMove: function () {\n\t\tthis.xSpeed *= this.friction;\n\t\tthis.ySpeed *= this.friction;\n\t\tthis.x += this.xSpeed;\n\t\tthis.y += this.ySpeed;\n\t\tthis.getArrow().x = this.x;\n\t\tthis.getArrow().y = this.y;\n\t\tthis.getName().x = this.x;\n\t\tthis.getName().y = this.y;\n\t}\n});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvb2JqZWN0cy9QbGF5ZXIuanM/YTA0ZSJdLCJuYW1lcyI6WyJleHRlbmQiLCJyZXF1aXJlIiwiR2FtZVJvbGUiLCJtb2R1bGUiLCJleHBvcnRzIiwiY3RvciIsImdhbWUiLCJ4IiwieSIsImdyb3VwIiwicHJvcGVydGllcyIsInJvbGVUeXBlIiwiZ3VpZCIsImx2IiwibmljayIsImhwIiwiYXJyb3dzIiwiYXJyb3dzR3JvdXAiLCJuYW1lcyIsIm5hbWVzR3JvdXAiLCJmcmljdGlvbiIsImZpcmVTcGVlZCIsInJvdGF0ZVNwZWVkIiwiYmxvb2QiLCJyb3RhdGVDZCIsInhTcGVlZCIsInlTcGVlZCIsImFuZ2xlIiwicm90YXRlRGlyZWN0aW9uIiwiX3N1cGVyIiwicGh5c2ljcyIsImFyY2FkZSIsImVuYWJsZSIsImFuY2hvciIsInNldFRvIiwiY2hlY2tXb3JsZEJvdW5kcyIsIm91dE9mQm91bmRzS2lsbCIsImJvZHkiLCJjb2xsaWRlV29ybGRCb3VuZHMiLCJpbnB1dEVuYWJsZWQiLCJpbnB1dCIsInVzZUhhbmRDdXJzb3IiLCJhZGQiLCJkZWFkIiwiYWxpdmUiLCJhcnJvdyIsImtpbGwiLCJnZXRBcnJvdyIsImdldEZpcnN0RXhpc3RzIiwicmVzZXQiLCJzcHJpdGUiLCJ3b3JsZCIsImNlbnRlclgiLCJjZW50ZXJZIiwiZ2V0TmFtZSIsIm5hbWVPYmoiLCJjb2xvcjEiLCJjb2xvcjIiLCJuYW1lU3R5bGUiLCJmb250IiwiZmlsbCIsImFsaWduIiwidGV4dCIsIm5hbWUiLCJzZXRTaGFkb3ciLCJhbHBoYSIsInNldFRleHQiLCJGaXJlIiwiY3VyVGltZSIsIkRhdGUiLCJnZXRUaW1lIiwiTWF0aCIsImF0YW4yIiwiUEkiLCJSb3RhdGUiLCJNb3ZlIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxJQUFJQSxTQUFTLG1CQUFBQyxDQUFRLENBQVIsQ0FBYjtBQUNBLElBQUlDLFdBQVcsbUJBQUFELENBQVEsQ0FBUixDQUFmO0FBQ0FF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QTBHakMrQyxPQUFNLFlBQVk7QUFDakIsT0FBS2xELE1BQUwsSUFBZSxLQUFLTCxRQUFwQjtBQUNBLE9BQUtNLE1BQUwsSUFBZSxLQUFLTixRQUFwQjtBQUNBLE9BQUtiLENBQUwsSUFBVSxLQUFLa0IsTUFBZjtBQUNBLE9BQUtqQixDQUFMLElBQVUsS0FBS2tCLE1BQWY7QUFDQSxPQUFLcUIsUUFBTCxHQUFnQnhDLENBQWhCLEdBQW9CLEtBQUtBLENBQXpCO0FBQ0EsT0FBS3dDLFFBQUwsR0FBZ0J2QyxDQUFoQixHQUFvQixLQUFLQSxDQUF6QjtBQUNBLE9BQUs4QyxPQUFMLEdBQWUvQyxDQUFmLEdBQW1CLEtBQUtBLENBQXhCO0FBQ0EsT0FBSytDLE9BQUwsR0FBZTlDLENBQWYsR0FBbUIsS0FBS0EsQ0FBeEI7QUFDQTtBQW5IZ0MsQ0FBakIsQ0FBakIiLCJmaWxlIjoiNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyIGV4dGVuZCA9IHJlcXVpcmUoJy4uL3V0aWxzL2luaGVyaXRzLmpzJyk7XHJcbnZhciBHYW1lUm9sZSA9IHJlcXVpcmUoJy4vUm9sZS5qcycpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IGV4dGVuZChHYW1lUm9sZSwge1xyXG5cdGN0b3I6IGZ1bmN0aW9uIGN0b3IoZ2FtZSwgeCwgeSwgZ3JvdXAsIHByb3BlcnRpZXMpIHtcclxuXHRcdHRoaXMucm9sZVR5cGUgPSBcImhlcm9cIjtcclxuXHRcdHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzIHx8IHt9O1xyXG5cdFx0dGhpcy5nYW1lID0gZ2FtZTtcclxuXHRcdHRoaXMuZ3VpZCA9IHByb3BlcnRpZXMuZ3VpZDtcclxuXHRcdHRoaXMubHYgPSBwcm9wZXJ0aWVzLmx2O1xyXG5cdFx0dGhpcy5uaWNrID0gcHJvcGVydGllcy5uaWNrO1xyXG5cdFx0dGhpcy5ocCA9IHByb3BlcnRpZXMuaHA7XHJcblx0XHR0aGlzLmFycm93cyA9IHByb3BlcnRpZXMuYXJyb3dzR3JvdXA7IC8v6KeG6KeJ6KeC5a+f57uEXHJcblx0XHR0aGlzLm5hbWVzID0gcHJvcGVydGllcy5uYW1lc0dyb3VwO1xyXG5cclxuXHRcdHRoaXMuZnJpY3Rpb24gPSAwLjk7XHJcblx0XHR0aGlzLmZpcmVTcGVlZCA9IC0xMDtcclxuXHRcdHRoaXMucm90YXRlU3BlZWQgPSA1O1xyXG5cclxuXHRcdHRoaXMuYmxvb2QgPSAwO1xyXG5cdFx0dGhpcy5yb3RhdGVDZCA9IDA7XHJcblx0XHR0aGlzLnhTcGVlZCA9IDA7XHJcblx0XHR0aGlzLnlTcGVlZCA9IDA7XHJcblx0XHR0aGlzLmFuZ2xlID0gMDtcclxuXHRcdHRoaXMucm90YXRlRGlyZWN0aW9uID0gMTtcclxuXHRcdHRoaXMucm90YXRlQ2QgPSAwO1xyXG5cclxuXHRcdHRoaXMuX3N1cGVyKHRoaXMuZ2FtZSwgeCwgeSwgXCJiYWxsXCIsIG51bGwsIHByb3BlcnRpZXMpO1xyXG5cdFx0dGhpcy5nYW1lLnBoeXNpY3MuYXJjYWRlLmVuYWJsZSh0aGlzKTtcclxuXHRcdHRoaXMuYW5jaG9yLnNldFRvKDAuNSwgMC41KTtcclxuXHRcdHRoaXMuY2hlY2tXb3JsZEJvdW5kcyA9IHRydWU7XHJcblx0XHR0aGlzLm91dE9mQm91bmRzS2lsbCA9IHRydWU7XHJcblx0XHR0aGlzLmJvZHkuY29sbGlkZVdvcmxkQm91bmRzID0gdHJ1ZTsgLy/kuI7kuJbnlYzovrnlooPov5vooYzniannkIbmo4DmtYtcclxuXHRcdHRoaXMuaW5wdXRFbmFibGVkID0gdHJ1ZTtcclxuXHRcdHRoaXMuaW5wdXQudXNlSGFuZEN1cnNvciA9IHRydWU7IC8v5b2T6byg5qCH56e75Yqo5Yiw5YW25LiK6Z2i5pe25pi+56S65bCP5omLXHJcblx0XHRpZiAoZ3JvdXApIHtcclxuXHRcdFx0Z3JvdXAuYWRkKHRoaXMpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblx0ZGVhZDogZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYodGhpcy5hbGl2ZSl7XHJcblx0XHRcdHRoaXMuX3N1cGVyKCk7XHJcblx0XHRcdHRoaXMuYXJyb3cua2lsbCgpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblx0Z2V0QXJyb3c6IGZ1bmN0aW9uIGdldEFycm93KCkge1xyXG5cdFx0aWYgKHRoaXMuYXJyb3cgPT0gbnVsbCkge1xyXG5cdFx0XHR2YXIgYXJyb3cgPSB0aGlzLmFycm93cy5nZXRGaXJzdEV4aXN0cyhmYWxzZSk7XHJcblx0XHRcdGlmIChhcnJvdykge1xyXG5cdFx0XHRcdHRoaXMuYXJyb3cgPSBhcnJvdztcclxuXHRcdFx0XHR0aGlzLmFycm93LnJlc2V0KHRoaXMueCwgdGhpcy55KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvL+iuvue9ruS4gOS4quinguWvn+WZqFxyXG5cdFx0XHRcdHRoaXMuYXJyb3cgPSB0aGlzLmdhbWUuYWRkLnNwcml0ZSh0aGlzLmdhbWUud29ybGQuY2VudGVyWCx0aGlzLmdhbWUud29ybGQuY2VudGVyWSwgXCJhcnJvd1wiKTtcclxuXHRcdFx0XHR0aGlzLmFycm93LmFuY2hvci54ID0gLTE7XHJcblx0XHRcdFx0dGhpcy5hcnJvdy5hbmNob3IueSA9IDAuNTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXMuYXJyb3c7XHJcblx0fSxcclxuXHRnZXROYW1lOiBmdW5jdGlvbigpIHtcclxuXHRcdGlmICh0aGlzLm5hbWVPYmogPT0gbnVsbCkge1xyXG5cdFx0XHR2YXIgY29sb3IxID0gXCIjRkZGRkZGXCIsIGNvbG9yMiA9IFwiIzc3Nzc3N1wiO1xyXG5cdFx0XHQvLyBjb2xvcjEgPSBcInJlZFwiOyBjb2xvcjIgPSBcIiMxMTExMTFcIjsgLy8g5pWM5pa56Zi16JClXHJcblx0XHRcdHZhciBuYW1lT2JqID0gdGhpcy5uYW1lcy5nZXRGaXJzdEV4aXN0cyhmYWxzZSk7XHJcblx0XHRcdGlmIChuYW1lT2JqKSB7XHJcblx0XHRcdFx0dGhpcy5uYW1lT2JqID0gbmFtZU9iajtcclxuXHRcdFx0XHR0aGlzLm5hbWVPYmoucmVzZXQodGhpcy54LCB0aGlzLnkpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHZhciBuYW1lU3R5bGUgPSB7Zm9udDogXCIxMHB4ICflvq7ova/pm4Xpu5EnXCIsIGZpbGw6IGNvbG9yMSwgYWxpZ246IFwiY2VudGVyXCIsfTtcclxuXHRcdFx0XHR0aGlzLm5hbWVPYmogPSB0aGlzLmdhbWUuYWRkLnRleHQodGhpcy5nYW1lLndvcmxkLmNlbnRlclgsIHRoaXMuZ2FtZS53b3JsZC5jZW50ZXJZLCB0aGlzLm5hbWUsIG5hbWVTdHlsZSk7XHJcblx0XHRcdFx0dGhpcy5uYW1lT2JqLmFuY2hvci54ID0gMC41O1xyXG5cdFx0XHRcdHRoaXMubmFtZU9iai5hbmNob3IueSA9IC0xO1xyXG5cdFx0XHRcdHRoaXMubmFtZU9iai5zZXRTaGFkb3coMSwgMSwgY29sb3IyLCAwKTtcclxuXHRcdFx0XHR0aGlzLm5hbWVPYmouYWxwaGEgPSAwLjc7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHRoaXMubmFtZU9iai50ZXh0ICE9IHRoaXMubmljaylcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHRoaXMubmFtZU9iai5zZXRUZXh0KHRoaXMubmljaywgMSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzLm5hbWVPYmo7XHJcblx0fSxcclxuXHRGaXJlOiBmdW5jdGlvbih4LCB5KSB7XHJcblx0XHR2YXIgY3VyVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG5cdFx0dmFyIGFuZ2xlID0gTWF0aC5hdGFuMigteSwgLXgpIC8gTWF0aC5QSSAqIDE4MDtcclxuXHJcblx0XHQvLyDoh6rovazlhrfljbRcclxuXHRcdHRoaXMucm90YXRlQ2QgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpICsgMjUwO1xyXG5cdFx0aWYgKGFuZ2xlID4gdGhpcy5nZXRBcnJvdygpLmFuZ2xlKSB7XHJcblx0XHRcdGlmICh0aGlzLnJvdGF0ZURpcmVjdGlvbiA8IDApIHtcclxuXHRcdFx0XHR0aGlzLnJvdGF0ZURpcmVjdGlvbiAqPSAtMTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aWYgKHRoaXMucm90YXRlRGlyZWN0aW9uID4gMCkge1xyXG5cdFx0XHRcdHRoaXMucm90YXRlRGlyZWN0aW9uICo9IC0xO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHR0aGlzLmdldEFycm93KCkuYW5nbGUgPSBhbmdsZTtcclxuXHRcdHRoaXMueFNwZWVkID0geCAvIHRoaXMuZmlyZVNwZWVkO1xyXG5cdFx0dGhpcy55U3BlZWQgPSB5IC8gdGhpcy5maXJlU3BlZWQ7XHJcblx0fSxcclxuXHRSb3RhdGU6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBjdXJUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcblx0XHRpZiAoY3VyVGltZSA+IHRoaXMucm90YXRlQ2QpIHtcclxuXHRcdFx0Ly8g6Ieq6L2s54m55pWIXHJcblx0XHRcdHRoaXMuZ2V0QXJyb3coKS5hbmdsZSArPSB0aGlzLnJvdGF0ZVNwZWVkICogdGhpcy5yb3RhdGVEaXJlY3Rpb247XHJcblx0XHR9XHJcblx0fSxcclxuXHRNb3ZlOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR0aGlzLnhTcGVlZCAqPSB0aGlzLmZyaWN0aW9uO1xyXG5cdFx0dGhpcy55U3BlZWQgKj0gdGhpcy5mcmljdGlvblxyXG5cdFx0dGhpcy54ICs9IHRoaXMueFNwZWVkO1xyXG5cdFx0dGhpcy55ICs9IHRoaXMueVNwZWVkO1xyXG5cdFx0dGhpcy5nZXRBcnJvdygpLnggPSB0aGlzLng7XHJcblx0XHR0aGlzLmdldEFycm93KCkueSA9IHRoaXMueTtcclxuXHRcdHRoaXMuZ2V0TmFtZSgpLnggPSB0aGlzLng7XHJcblx0XHR0aGlzLmdldE5hbWUoKS55ID0gdGhpcy55O1xyXG5cdH1cclxufSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL29iamVjdHMvUGxheWVyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports,__webpack_require__){eval("'use strict';\n\nvar extend = __webpack_require__(1);\nmodule.exports = extend(Phaser.Sprite, {\n\t//ctor 可以省略  省略以后会继续执行其父构造函数 如 this._super.apply(this,arguments);\n\tctor: function ctor(game, x, y, key, frame, properties) {\n\t\tproperties = properties || {};\n\t\tthis._super(game, x, y, key, frame);\n\t\tthis.rid = properties.rid; //系统角色\n\t\tthis.wid = properties.wid;\n\t},\n\tdead: function dead() {\n\t\tif (this.alive) {\n\t\t\tthis.kill();\n\t\t}\n\t}\n});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvb2JqZWN0cy9Sb2xlLmpzPzgwMTAiXSwibmFtZXMiOlsiZXh0ZW5kIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJQaGFzZXIiLCJTcHJpdGUiLCJjdG9yIiwiZ2FtZSIsIngiLCJ5Iiwia2V5IiwiZnJhbWUiLCJwcm9wZXJ0aWVzIiwiX3N1cGVyIiwicmlkIiwid2lkIiwiZGVhZCIsImFsaXZlIiwia2lsbCJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUEsSUFBSUEsU0FBUyxtQkFBQUMsQ0FBUSxDQUFSLENBQWI7QUFDQUMsT0FBT0MsT0FBUCxHQUFpQkgsT0FBT0ksT0FBT0MsTUFBZCxFQUFzQjtBQUN0QztBQUNBQyxPQUFNLFNBQVNBLElBQVQsQ0FBY0MsSUFBZCxFQUFvQkMsQ0FBcEIsRUFBdUJDLENBQXZCLEVBQTBCQyxHQUExQixFQUErQkMsS0FBL0IsRUFBc0NDLFVBQXRDLEVBQWtEO0FBQ3ZEQSxlQUFhQSxjQUFjLEVBQTNCO0FBQ0EsT0FBS0MsTUFBTCxDQUFZTixJQUFaLEVBQWtCQyxDQUFsQixFQUFxQkMsQ0FBckIsRUFBd0JDLEdBQXhCLEVBQTZCQyxLQUE3QjtBQUNBLE9BQUtHLEdBQUwsR0FBV0YsV0FBV0UsR0FBdEIsQ0FIdUQsQ0FHNUI7QUFDM0IsT0FBS0MsR0FBTCxHQUFXSCxXQUFXRyxHQUF0QjtBQUNBLEVBUHFDO0FBUXRDQyxPQUFNLFNBQVNBLElBQVQsR0FBZ0I7QUFDckIsTUFBRyxLQUFLQyxLQUFSLEVBQWM7QUFDYixRQUFLQyxJQUFMO0FBQ0E7QUFDRDtBQVpxQyxDQUF0QixDQUFqQiIsImZpbGUiOiI3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxudmFyIGV4dGVuZCA9IHJlcXVpcmUoJy4uL3V0aWxzL2luaGVyaXRzLmpzJyk7XHJcbm1vZHVsZS5leHBvcnRzID0gZXh0ZW5kKFBoYXNlci5TcHJpdGUsIHtcclxuXHQvL2N0b3Ig5Y+v5Lul55yB55WlICDnnIHnlaXku6XlkI7kvJrnu6fnu63miafooYzlhbbniLbmnoTpgKDlh73mlbAg5aaCIHRoaXMuX3N1cGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcclxuXHRjdG9yOiBmdW5jdGlvbiBjdG9yKGdhbWUsIHgsIHksIGtleSwgZnJhbWUsIHByb3BlcnRpZXMpIHtcclxuXHRcdHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzIHx8IHt9O1xyXG5cdFx0dGhpcy5fc3VwZXIoZ2FtZSwgeCwgeSwga2V5LCBmcmFtZSk7XHJcblx0XHR0aGlzLnJpZCA9IHByb3BlcnRpZXMucmlkOyAvL+ezu+e7n+inkuiJslxyXG5cdFx0dGhpcy53aWQgPSBwcm9wZXJ0aWVzLndpZDtcclxuXHR9LFxyXG5cdGRlYWQ6IGZ1bmN0aW9uIGRlYWQoKSB7XHJcblx0XHRpZih0aGlzLmFsaXZlKXtcclxuXHRcdFx0dGhpcy5raWxsKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvb2JqZWN0cy9Sb2xlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==")}]);