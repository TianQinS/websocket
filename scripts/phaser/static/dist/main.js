!function(Q){function I(F){if(B[F])return B[F].exports;var C=B[F]={exports:{},id:F,loaded:!1};return Q[F].call(C.exports,C,C.exports,I),C.loaded=!0,C.exports}var B={};return I.m=Q,I.c=B,I.p="",I(0)}([function(module,exports,__webpack_require__){eval('\'use strict\';\n\nvar extend = __webpack_require__(1);\nvar MyScaleManager = __webpack_require__(2);\nvar BootState = __webpack_require__(3);\n\nwindow.onload = function () {\n    var gameDiv = document.getElementById("game");\n    Phaser.myScaleManager = new MyScaleManager(gameDiv);\n    var width = 800;\n    var scale = screen.width / screen.height;\n    if (scale > 1) {\n        scale = 1 / scale;\n    }\n    var game = new Phaser.Game(width, width * scale, Phaser.AUTO, gameDiv);\n    Phaser.myScaleManager.boot();\n    game.state.add("BootState", BootState, true);\n    game.state.start("BootState");\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi5qcz8zNDc5Il0sIm5hbWVzIjpbImV4dGVuZCIsInJlcXVpcmUiLCJNeVNjYWxlTWFuYWdlciIsIkJvb3RTdGF0ZSIsIndpbmRvdyIsIm9ubG9hZCIsImdhbWVEaXYiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiUGhhc2VyIiwibXlTY2FsZU1hbmFnZXIiLCJ3aWR0aCIsInNjYWxlIiwic2NyZWVuIiwiaGVpZ2h0IiwiZ2FtZSIsIkdhbWUiLCJBVVRPIiwiYm9vdCIsInN0YXRlIiwiYWRkIiwic3RhcnQiXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBLElBQUlBLFNBQVMsbUJBQUFDLENBQVEsQ0FBUixDQUFiO0FBQ0EsSUFBSUMsaUJBQWlCLG1CQUFBRCxDQUFRLENBQVIsQ0FBckI7QUFDQSxJQUFJRSxZQUFZLG1CQUFBRixDQUFRLENBQVIsQ0FBaEI7O0FBRUFHLE9BQU9DLE1BQVAsR0FBZ0IsWUFBWTtBQUN4QixRQUFJQyxVQUFVQyxTQUFTQyxjQUFULENBQXdCLE1BQXhCLENBQWQ7QUFDQUMsV0FBT0MsY0FBUCxHQUF3QixJQUFJUixjQUFKLENBQW1CSSxPQUFuQixDQUF4QjtBQUNBLFFBQUlLLFFBQU0sR0FBVjtBQUNBLFFBQUlDLFFBQVFDLE9BQU9GLEtBQVAsR0FBZUUsT0FBT0MsTUFBbEM7QUFDQSxRQUFJRixRQUFRLENBQVosRUFBZTtBQUNYQSxnQkFBUSxJQUFJQSxLQUFaO0FBQ0g7QUFDRCxRQUFJRyxPQUFPLElBQUlOLE9BQU9PLElBQVgsQ0FBZ0JMLEtBQWhCLEVBQXVCQSxRQUFRQyxLQUEvQixFQUFzQ0gsT0FBT1EsSUFBN0MsRUFBbURYLE9BQW5ELENBQVg7QUFDQUcsV0FBT0MsY0FBUCxDQUFzQlEsSUFBdEI7QUFDQUgsU0FBS0ksS0FBTCxDQUFXQyxHQUFYLENBQWUsV0FBZixFQUE0QmpCLFNBQTVCLEVBQXVDLElBQXZDO0FBQ0FZLFNBQUtJLEtBQUwsQ0FBV0UsS0FBWCxDQUFpQixXQUFqQjtBQUNILENBWkQiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxudmFyIGV4dGVuZCA9IHJlcXVpcmUoJy4vdXRpbHMvaW5oZXJpdHMuanMnKTtcclxudmFyIE15U2NhbGVNYW5hZ2VyID0gcmVxdWlyZSgnLi91dGlscy9NeVNjYWxlTWFuYWdlci5qcycpO1xyXG52YXIgQm9vdFN0YXRlID0gcmVxdWlyZSgnLi9zdGF0ZXMvQm9vdFN0YXRlLmpzJyk7XHJcblxyXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGdhbWVEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVcIik7XHJcbiAgICBQaGFzZXIubXlTY2FsZU1hbmFnZXIgPSBuZXcgTXlTY2FsZU1hbmFnZXIoZ2FtZURpdik7XHJcbiAgICB2YXIgd2lkdGg9ODAwO1xyXG4gICAgdmFyIHNjYWxlID0gc2NyZWVuLndpZHRoIC8gc2NyZWVuLmhlaWdodDtcclxuICAgIGlmIChzY2FsZSA+IDEpIHtcclxuICAgICAgICBzY2FsZSA9IDEgLyBzY2FsZTtcclxuICAgIH1cclxuICAgIHZhciBnYW1lID0gbmV3IFBoYXNlci5HYW1lKHdpZHRoLCB3aWR0aCAqIHNjYWxlLCBQaGFzZXIuQVVUTywgZ2FtZURpdik7XHJcbiAgICBQaGFzZXIubXlTY2FsZU1hbmFnZXIuYm9vdCgpO1xyXG4gICAgZ2FtZS5zdGF0ZS5hZGQoXCJCb290U3RhdGVcIiwgQm9vdFN0YXRlLCB0cnVlKTtcclxuICAgIGdhbWUuc3RhdGUuc3RhcnQoXCJCb290U3RhdGVcIik7XHJcbn07XHJcblxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvbWFpbi5qcyJdLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports){eval('\'use strict\';\n/**\r\n * 这是一个 javascript 类继承函数,\r\n * 与以往的继承函数不同的是这个函数,\r\n * 可以直接从一个已存在的普通构造函数继承。\r\n */\n\nfunction object(o) {\n    function W() {}\n    W.prototype = o;\n    return new W();\n}\nfunction inheritPrototype(SubType, SuperType) {\n    var prototype;\n    if (typeof Object.create === \'function\') {\n        prototype = Object.create(SuperType.prototype);\n    } else {\n        prototype = object.create(SuperType.prototype);\n    }\n    prototype.constructor = SubType;\n    SubType.prototype = prototype;\n}\nmodule.exports = function (superCtor, prop) {\n    return function () {\n        var fnTest = /xyz/.test(function () {\n            xyz;\n        }) ? /\\b_super\\b/ : /.*/;\n\n        var _super = superCtor.prototype;\n        //// The base Class implementation (does nothing)\n        function baseClass() {\n            if (typeof baseClass.prototype.ctor === "undefined") {} else {\n                var args = new Array();\n                for (var k in arguments) {\n                    args.push(arguments[k]);\n                }\n                baseClass.prototype.ctor.apply(this, args);\n            }\n        };\n        // 空函数F:\n        //var F = function F() {};\n        //// 把F的原型指向Student.prototype:\n        //F.prototype = superCtor.prototype;\n        ////F.prototype = Object.create(superCtor.prototype);\n        //// 把PrimaryStudent的原型指向一个新的F对象，F对象的原型正好指向Student.prototype:\n        //baseClass.prototype = new F();\n        //// 把PrimaryStudent原型的构造函数修复为PrimaryStudent:\n        //baseClass.prototype.constructor = baseClass;\n        inheritPrototype(baseClass, superCtor);\n        var prototype = baseClass.prototype;\n        if (typeof _super === "undefined") {} else {\n            //_super["ctor"]="ss";\n            if (typeof _super["ctor"] === "undefined") {\n                _super["ctor"] = superCtor;\n            }\n        }\n\n        // Copy the properties over onto the new prototype\n        for (var name in prop) {\n            // Check if we\'re overwriting an existing function\n            prototype[name] = typeof prop[name] == "function" && typeof _super[name] == "function" && fnTest.test(prop[name]) ? function (name, fn) {\n                return function () {\n                    //var tmp_superclass = this.superclass;\n                    var tmp = this._super;\n                    // Add a new ._super() method that is the same method\n                    // but on the super-class\n                    this._super = _super[name];\n                    //this.superclass=superCtor.bind(this);\n                    // The method only need to be bound temporarily, so we\n                    // remove it when we\'re done executing\n                    var args = new Array();\n                    for (var k in arguments) {\n                        args.push(arguments[k]);\n                    }\n                    var ret = fn.apply(this, args);\n                    this._super = tmp;\n                    //this.superclass=tmp_superclass;\n                    return ret;\n                };\n            }(name, prop[name]) : prop[name];\n        }\n        return baseClass;\n    }();\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvaW5oZXJpdHMuanM/OTZkOSJdLCJuYW1lcyI6WyJvYmplY3QiLCJvIiwiVyIsInByb3RvdHlwZSIsImluaGVyaXRQcm90b3R5cGUiLCJTdWJUeXBlIiwiU3VwZXJUeXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJtb2R1bGUiLCJleHBvcnRzIiwic3VwZXJDdG9yIiwicHJvcCIsImZuVGVzdCIsInRlc3QiLCJ4eXoiLCJfc3VwZXIiLCJiYXNlQ2xhc3MiLCJjdG9yIiwiYXJncyIsIkFycmF5IiwiayIsImFyZ3VtZW50cyIsInB1c2giLCJhcHBseSIsIm5hbWUiLCJmbiIsInRtcCIsInJldCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7O0FBS0EsU0FBU0EsTUFBVCxDQUFnQkMsQ0FBaEIsRUFBa0I7QUFDZCxhQUFTQyxDQUFULEdBQVksQ0FDWDtBQUNEQSxNQUFFQyxTQUFGLEdBQVlGLENBQVo7QUFDQSxXQUFPLElBQUlDLENBQUosRUFBUDtBQUNIO0FBQ0QsU0FBU0UsZ0JBQVQsQ0FBMEJDLE9BQTFCLEVBQWtDQyxTQUFsQyxFQUE0QztBQUN4QyxRQUFJSCxTQUFKO0FBQ0EsUUFBRyxPQUFPSSxPQUFPQyxNQUFkLEtBQXVCLFVBQTFCLEVBQXFDO0FBQ2pDTCxvQkFBVUksT0FBT0MsTUFBUCxDQUFjRixVQUFVSCxTQUF4QixDQUFWO0FBQ0gsS0FGRCxNQUVLO0FBQ0RBLG9CQUFVSCxPQUFPUSxNQUFQLENBQWNGLFVBQVVILFNBQXhCLENBQVY7QUFDSDtBQUNEQSxjQUFVTSxXQUFWLEdBQXNCSixPQUF0QjtBQUNBQSxZQUFRRixTQUFSLEdBQWtCQSxTQUFsQjtBQUNIO0FBQ0RPLE9BQU9DLE9BQVAsR0FBaUIsVUFBVUMsU0FBVixFQUFxQkMsSUFBckIsRUFBMkI7QUFDeEMsV0FBTyxZQUFZO0FBQ2YsWUFBSUMsU0FBUyxNQUFNQyxJQUFOLENBQVcsWUFBWTtBQUNoQ0M7QUFDSCxTQUZZLElBRVIsWUFGUSxHQUVPLElBRnBCOztBQUlBLFlBQUlDLFNBQVNMLFVBQVVULFNBQXZCO0FBQ0E7QUFDQSxpQkFBU2UsU0FBVCxHQUFxQjtBQUNqQixnQkFBSSxPQUFPQSxVQUFVZixTQUFWLENBQW9CZ0IsSUFBM0IsS0FBa0MsV0FBdEMsRUFBbUQsQ0FDbEQsQ0FERCxNQUNLO0FBQ0Qsb0JBQUlDLE9BQU8sSUFBSUMsS0FBSixFQUFYO0FBQ0EscUJBQUksSUFBSUMsQ0FBUixJQUFhQyxTQUFiLEVBQXVCO0FBQ25CSCx5QkFBS0ksSUFBTCxDQUFVRCxVQUFVRCxDQUFWLENBQVY7QUFDSDtBQUNESiwwQkFBVWYsU0FBVixDQUFvQmdCLElBQXBCLENBQXlCTSxLQUF6QixDQUErQixJQUEvQixFQUFxQ0wsSUFBckM7QUFDSDtBQUNKO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FoQix5QkFBaUJjLFNBQWpCLEVBQTJCTixTQUEzQjtBQUNBLFlBQUlULFlBQVllLFVBQVVmLFNBQTFCO0FBQ0EsWUFBRyxPQUFRYyxNQUFSLEtBQWtCLFdBQXJCLEVBQWlDLENBRWhDLENBRkQsTUFFSztBQUNEO0FBQ0EsZ0JBQUksT0FBUUEsT0FBTyxNQUFQLENBQVIsS0FBMEIsV0FBOUIsRUFBMkM7QUFDdkNBLHVCQUFPLE1BQVAsSUFBaUJMLFNBQWpCO0FBQ0g7QUFDSjs7QUFFRDtBQUNBLGFBQUssSUFBSWMsSUFBVCxJQUFpQmIsSUFBakIsRUFBdUI7QUFDbkI7QUFDQVYsc0JBQVV1QixJQUFWLElBQWtCLE9BQU9iLEtBQUthLElBQUwsQ0FBUCxJQUFxQixVQUFyQixJQUFtQyxPQUFPVCxPQUFPUyxJQUFQLENBQVAsSUFBdUIsVUFBMUQsSUFBd0VaLE9BQU9DLElBQVAsQ0FBWUYsS0FBS2EsSUFBTCxDQUFaLENBQXhFLEdBQWtHLFVBQVVBLElBQVYsRUFBZ0JDLEVBQWhCLEVBQW9CO0FBQ3BJLHVCQUFPLFlBQVk7QUFDZjtBQUNBLHdCQUFJQyxNQUFNLEtBQUtYLE1BQWY7QUFDQTtBQUNBO0FBQ0EseUJBQUtBLE1BQUwsR0FBY0EsT0FBT1MsSUFBUCxDQUFkO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQUlOLE9BQU8sSUFBSUMsS0FBSixFQUFYO0FBQ0EseUJBQUksSUFBSUMsQ0FBUixJQUFhQyxTQUFiLEVBQXVCO0FBQ25CSCw2QkFBS0ksSUFBTCxDQUFVRCxVQUFVRCxDQUFWLENBQVY7QUFDSDtBQUNELHdCQUFJTyxNQUFNRixHQUFHRixLQUFILENBQVMsSUFBVCxFQUFjTCxJQUFkLENBQVY7QUFDQSx5QkFBS0gsTUFBTCxHQUFjVyxHQUFkO0FBQ0E7QUFDQSwyQkFBT0MsR0FBUDtBQUNILGlCQWpCRDtBQWtCSCxhQW5CbUgsQ0FtQmxISCxJQW5Ca0gsRUFtQjVHYixLQUFLYSxJQUFMLENBbkI0RyxDQUFsRyxHQW1CSWIsS0FBS2EsSUFBTCxDQW5CdEI7QUFvQkg7QUFDRCxlQUFPUixTQUFQO0FBQ0gsS0E5RE0sRUFBUDtBQStESCxDQWhFRCIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG4vKipcclxuICog6L+Z5piv5LiA5LiqIGphdmFzY3JpcHQg57G757un5om/5Ye95pWwLFxyXG4gKiDkuI7ku6XlvoDnmoTnu6fmib/lh73mlbDkuI3lkIznmoTmmK/ov5nkuKrlh73mlbAsXHJcbiAqIOWPr+S7peebtOaOpeS7juS4gOS4quW3suWtmOWcqOeahOaZrumAmuaehOmAoOWHveaVsOe7p+aJv+OAglxyXG4gKi9cclxuZnVuY3Rpb24gb2JqZWN0KG8pe1xyXG4gICAgZnVuY3Rpb24gVygpe1xyXG4gICAgfVxyXG4gICAgVy5wcm90b3R5cGU9bztcclxuICAgIHJldHVybiBuZXcgVygpO1xyXG59XHJcbmZ1bmN0aW9uIGluaGVyaXRQcm90b3R5cGUoU3ViVHlwZSxTdXBlclR5cGUpe1xyXG4gICAgdmFyIHByb3RvdHlwZTtcclxuICAgIGlmKHR5cGVvZiBPYmplY3QuY3JlYXRlPT09J2Z1bmN0aW9uJyl7XHJcbiAgICAgICAgcHJvdG90eXBlPU9iamVjdC5jcmVhdGUoU3VwZXJUeXBlLnByb3RvdHlwZSk7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICBwcm90b3R5cGU9b2JqZWN0LmNyZWF0ZShTdXBlclR5cGUucHJvdG90eXBlKTtcclxuICAgIH1cclxuICAgIHByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1TdWJUeXBlO1xyXG4gICAgU3ViVHlwZS5wcm90b3R5cGU9cHJvdG90eXBlO1xyXG59XHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHN1cGVyQ3RvciwgcHJvcCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZm5UZXN0ID0gL3h5ei8udGVzdChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHh5ejtcclxuICAgICAgICB9KSA/IC9cXGJfc3VwZXJcXGIvIDogLy4qLztcclxuXHJcbiAgICAgICAgdmFyIF9zdXBlciA9IHN1cGVyQ3Rvci5wcm90b3R5cGU7XHJcbiAgICAgICAgLy8vLyBUaGUgYmFzZSBDbGFzcyBpbXBsZW1lbnRhdGlvbiAoZG9lcyBub3RoaW5nKVxyXG4gICAgICAgIGZ1bmN0aW9uIGJhc2VDbGFzcygpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBiYXNlQ2xhc3MucHJvdG90eXBlLmN0b3I9PT1cInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoKVxyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBrIGluIGFyZ3VtZW50cyl7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZ3VtZW50c1trXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBiYXNlQ2xhc3MucHJvdG90eXBlLmN0b3IuYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIOepuuWHveaVsEY6XHJcbiAgICAgICAgLy92YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTtcclxuICAgICAgICAvLy8vIOaKikbnmoTljp/lnovmjIflkJFTdHVkZW50LnByb3RvdHlwZTpcclxuICAgICAgICAvL0YucHJvdG90eXBlID0gc3VwZXJDdG9yLnByb3RvdHlwZTtcclxuICAgICAgICAvLy8vRi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUpO1xyXG4gICAgICAgIC8vLy8g5oqKUHJpbWFyeVN0dWRlbnTnmoTljp/lnovmjIflkJHkuIDkuKrmlrDnmoRG5a+56LGh77yMRuWvueixoeeahOWOn+Wei+ato+WlveaMh+WQkVN0dWRlbnQucHJvdG90eXBlOlxyXG4gICAgICAgIC8vYmFzZUNsYXNzLnByb3RvdHlwZSA9IG5ldyBGKCk7XHJcbiAgICAgICAgLy8vLyDmiopQcmltYXJ5U3R1ZGVudOWOn+Wei+eahOaehOmAoOWHveaVsOS/ruWkjeS4ulByaW1hcnlTdHVkZW50OlxyXG4gICAgICAgIC8vYmFzZUNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGJhc2VDbGFzcztcclxuICAgICAgICBpbmhlcml0UHJvdG90eXBlKGJhc2VDbGFzcyxzdXBlckN0b3IpO1xyXG4gICAgICAgIHZhciBwcm90b3R5cGUgPSBiYXNlQ2xhc3MucHJvdG90eXBlO1xyXG4gICAgICAgIGlmKHR5cGVvZiAoX3N1cGVyKT09PVwidW5kZWZpbmVkXCIpe1xyXG5cclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgLy9fc3VwZXJbXCJjdG9yXCJdPVwic3NcIjtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiAoX3N1cGVyW1wiY3RvclwiXSk9PT1cInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICBfc3VwZXJbXCJjdG9yXCJdID0gc3VwZXJDdG9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDb3B5IHRoZSBwcm9wZXJ0aWVzIG92ZXIgb250byB0aGUgbmV3IHByb3RvdHlwZVxyXG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gcHJvcCkge1xyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSdyZSBvdmVyd3JpdGluZyBhbiBleGlzdGluZyBmdW5jdGlvblxyXG4gICAgICAgICAgICBwcm90b3R5cGVbbmFtZV0gPSB0eXBlb2YgcHJvcFtuYW1lXSA9PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIF9zdXBlcltuYW1lXSA9PSBcImZ1bmN0aW9uXCIgJiYgZm5UZXN0LnRlc3QocHJvcFtuYW1lXSkgPyBmdW5jdGlvbiAobmFtZSwgZm4pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy92YXIgdG1wX3N1cGVyY2xhc3MgPSB0aGlzLnN1cGVyY2xhc3M7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRtcCA9IHRoaXMuX3N1cGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBhIG5ldyAuX3N1cGVyKCkgbWV0aG9kIHRoYXQgaXMgdGhlIHNhbWUgbWV0aG9kXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYnV0IG9uIHRoZSBzdXBlci1jbGFzc1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N1cGVyID0gX3N1cGVyW25hbWVdO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcy5zdXBlcmNsYXNzPXN1cGVyQ3Rvci5iaW5kKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBtZXRob2Qgb25seSBuZWVkIHRvIGJlIGJvdW5kIHRlbXBvcmFyaWx5LCBzbyB3ZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBpdCB3aGVuIHdlJ3JlIGRvbmUgZXhlY3V0aW5nXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoKVxyXG4gICAgICAgICAgICAgICAgICAgIGZvcih2YXIgayBpbiBhcmd1bWVudHMpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzLnB1c2goYXJndW1lbnRzW2tdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldCA9IGZuLmFwcGx5KHRoaXMsYXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3VwZXIgPSB0bXA7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLnN1cGVyY2xhc3M9dG1wX3N1cGVyY2xhc3M7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0obmFtZSwgcHJvcFtuYW1lXSkgOiBwcm9wW25hbWVdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYmFzZUNsYXNzO1xyXG4gICAgfSgpO1xyXG59O1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdXRpbHMvaW5oZXJpdHMuanMiXSwic291cmNlUm9vdCI6IiJ9')},function(module,exports,__webpack_require__){eval('"use strict";\n\nvar extend = __webpack_require__(1);\n\nmodule.exports = extend(function () {}, {\n    ctor: function ctor(gameDiv) {\n        this.gameDiv = gameDiv;\n        this.proDOM = Phaser.DOM;\n        this.isMyLandscapeMode = false;\n        if (this.proDOM.getScreenOrientation() != "landscape-primary") {\n            //如果当前是竖屏 启动自定义横屏\n            this.setMyLandscapeMode(true, true);\n        } else {\n            this.refresh();\n        }\n        var BaseDOM = extend(function () {}, Phaser.DOM);\n\n        var MyDOM = extend(BaseDOM, {\n            getScreenOrientation: function getScreenOrientation() {\n                var orientation = this._super.apply(this, arguments);\n\n                if (document.documentElement.clientWidth !== this.proDocumentWidth || document.documentElement.clientHeight !== this.proDocumentHeight) {\n                    Phaser.myScaleManager.refresh(); //刷新界面宽高 非常有用\n\n                    this.proDocumentWidth = document.documentElement.clientWidth;\n                    this.proDocumentHeight = document.documentElement.clientHeight;\n                }\n\n                if (orientation != "landscape-primary") {\n                    //当前是竖屏\n                    if (!Phaser.myScaleManager.isMyLandscape()) {\n                        //未启动 自定义横屏\n                        Phaser.myScaleManager.setMyLandscapeMode(true, true);\n                    }\n                    return "landscape-primary";\n                } else {\n                    //切换到横屏模式\n                    if (Phaser.myScaleManager.isMyLandscape()) {\n                        //关闭自定义横屏模式\n                        Phaser.myScaleManager.setMyLandscapeMode(false, true);\n                    }\n                    return orientation;\n                }\n            },\n            getOffset: function getOffset() {\n                var rel = this._super.apply(this, arguments);\n                //console.log(rel);\n                return rel;\n            },\n            getBounds: function getBounds() {\n                var rel = this._super.apply(this, arguments);\n                //console.log(rel);\n                return rel;\n            },\n            calibrate: function calibrate() {\n                var rel = this._super.apply(this, arguments);\n                //console.log(rel);\n                return rel;\n            },\n            getAspectRatio: function getAspectRatio() {\n                var rel = this._super.apply(this, arguments);\n                //console.log(rel);\n                return rel;\n            },\n            inLayoutViewport: function inLayoutViewport() {\n                var rel = this._super.apply(this, arguments);\n                //console.log(rel);\n                return rel;\n            }\n        });\n        Phaser.DOM = new MyDOM();\n\n        var _startPointer = Phaser.Input.prototype.startPointer;\n        Phaser.Input.prototype.startPointer = function (event) {\n            return _startPointer.call(this, this.copyEvent(event));\n        };\n        var _updatePointer = Phaser.Input.prototype.updatePointer;\n        Phaser.Input.prototype.updatePointer = function (event) {\n            return _updatePointer.call(this, this.copyEvent(event));\n        };\n        var _stopPointer = Phaser.Input.prototype.stopPointer;\n        Phaser.Input.prototype.stopPointer = function (event) {\n            return _stopPointer.call(this, this.copyEvent(event));\n        };\n        Phaser.Input.prototype.copyEvent = function (event) {\n            if (!Phaser.myScaleManager.isMyLandscape()) {\n                //未启动 自定义横屏\n                return event;\n            }\n            var target = event.target;\n            //console.log(event);\n            var myevent = this.extendCopy(event);\n\n            var _cx = myevent.clientX;\n            var _cy = myevent.clientY;\n            var _px = myevent.pageX;\n            var _py = myevent.pageY;\n            var _sx = myevent.screenX;\n            var _sy = myevent.screenY;\n            myevent.clientX = _cy;\n            myevent.clientY = target.clientHeight - _cx;\n            myevent.pageX = _py;\n            myevent.pageY = target.clientHeight - _px;\n            //myevent.rotationAngle=Math.PI/2;\n            return myevent;\n        };\n        Phaser.Input.prototype.extendCopy = function (p) {\n            var c = {};\n            for (var i in p) {\n                c[i] = p[i];\n            }\n            c.uber = p;\n            return c;\n        };\n\n        var _getParentBounds = Phaser.ScaleManager.prototype.getParentBounds;\n        Phaser.ScaleManager.prototype.getParentBounds = function () {\n            var rel = _getParentBounds.apply(this, arguments);\n            var _width = rel.width;\n            var _height = rel.height;\n            if (Phaser.myScaleManager.isMyLandscape()) {\n                rel.width = _height;\n                rel.height = _width;\n            }\n            return rel;\n        };\n    },\n    boot: function boot(game) {\n        this.game = game;\n    },\n    refresh: function refresh() {\n\n        document.body.style.width = document.documentElement.clientWidth + "px";\n        document.body.style.height = document.documentElement.clientHeight + "px";\n\n        if (document.documentElement.clientHeight >= document.documentElement.clientWidth) {\n            //竖屏\n            this.gameDiv.style.height = document.body.clientWidth + "px";\n            this.gameDiv.style.width = document.body.clientHeight + "px";\n            this.gameDiv.style.transform = "rotate(90deg)";\n            this.gameDiv.style.left = -(document.documentElement.clientHeight - document.documentElement.clientWidth) / 2 + "px";\n        } else {\n            //横屏\n            this.gameDiv.style.width = document.body.clientWidth + "px";\n            this.gameDiv.style.height = document.body.clientHeight + "px";\n            this.gameDiv.style.transform = "";\n            this.gameDiv.style.left = "";\n        }\n\n        this.wMax = 1280;\n        this.hScale = 1;\n        this.hTrim = 0;\n        this.vScale = 1;\n        this.vTrim = 0;\n        this.height = this.gameDiv.clientHeight;\n        this.width = this.gameDiv.clientWidth;\n        this.scale = 1;\n        if (this.width > this.wMax) {\n            this.scale = this.width / this.wMax;\n        }\n        if (this.scale < 1) {\n            this.scale = 1;\n        }\n        //console.log("scale: "+scale);\n        this.width = this.width / this.scale;\n        this.height = this.height / this.scale;\n        this.hScale = this.scale;\n        this.vScale = this.scale;\n        if (this.game && this.game.scale) {\n            if (this.game.scale.scaleMode === Phaser.ScaleManager.USER_SCALE) {\n                this.game.scale.setUserScale(this.hScale, this.vScale, this.hTrim, this.vTrim);\n            }\n        }\n    },\n    setMyLandscapeMode: function setMyLandscapeMode(setTo, refresh) {\n        refresh = refresh || false;\n        this.isMyLandscapeMode = setTo;\n        if (refresh) {\n            this.refresh();\n        }\n    },\n    isMyLandscape: function isMyLandscape() {\n        return this.isMyLandscapeMode;\n    }\n\n});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvTXlTY2FsZU1hbmFnZXIuanM/ODYxNyJdLCJuYW1lcyI6WyJleHRlbmQiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImN0b3IiLCJnYW1lRGl2IiwicHJvRE9NIiwiUGhhc2VyIiwiRE9NIiwiaXNNeUxhbmRzY2FwZU1vZGUiLCJnZXRTY3JlZW5PcmllbnRhdGlvbiIsInNldE15TGFuZHNjYXBlTW9kZSIsInJlZnJlc2giLCJCYXNlRE9NIiwiTXlET00iLCJvcmllbnRhdGlvbiIsIl9zdXBlciIsImFwcGx5IiwiYXJndW1lbnRzIiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRXaWR0aCIsInByb0RvY3VtZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJwcm9Eb2N1bWVudEhlaWdodCIsIm15U2NhbGVNYW5hZ2VyIiwiaXNNeUxhbmRzY2FwZSIsImdldE9mZnNldCIsInJlbCIsImdldEJvdW5kcyIsImNhbGlicmF0ZSIsImdldEFzcGVjdFJhdGlvIiwiaW5MYXlvdXRWaWV3cG9ydCIsIl9zdGFydFBvaW50ZXIiLCJJbnB1dCIsInByb3RvdHlwZSIsInN0YXJ0UG9pbnRlciIsImV2ZW50IiwiY2FsbCIsImNvcHlFdmVudCIsIl91cGRhdGVQb2ludGVyIiwidXBkYXRlUG9pbnRlciIsIl9zdG9wUG9pbnRlciIsInN0b3BQb2ludGVyIiwidGFyZ2V0IiwibXlldmVudCIsImV4dGVuZENvcHkiLCJfY3giLCJjbGllbnRYIiwiX2N5IiwiY2xpZW50WSIsIl9weCIsInBhZ2VYIiwiX3B5IiwicGFnZVkiLCJfc3giLCJzY3JlZW5YIiwiX3N5Iiwic2NyZWVuWSIsInAiLCJjIiwiaSIsInViZXIiLCJfZ2V0UGFyZW50Qm91bmRzIiwiU2NhbGVNYW5hZ2VyIiwiZ2V0UGFyZW50Qm91bmRzIiwiX3dpZHRoIiwid2lkdGgiLCJfaGVpZ2h0IiwiaGVpZ2h0IiwiYm9vdCIsImdhbWUiLCJib2R5Iiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJsZWZ0Iiwid01heCIsImhTY2FsZSIsImhUcmltIiwidlNjYWxlIiwidlRyaW0iLCJzY2FsZSIsInNjYWxlTW9kZSIsIlVTRVJfU0NBTEUiLCJzZXRVc2VyU2NhbGUiLCJzZXRUbyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0EsSUFBSUEsU0FBUyxtQkFBQUMsQ0FBUSxDQUFSLENBQWI7O0FBRUFDLE9BQU9DLE9BQVAsR0FBaUJILE9BQU8sWUFBWSxDQUFFLENBQXJCLEVBQXVCO0FBQ3BDSSxVQUFNLFNBQVNBLElBQVQsQ0FBY0MsT0FBZCxFQUF1QjtBQUN6QixhQUFLQSxPQUFMLEdBQWVBLE9BQWY7QUFDQSxhQUFLQyxNQUFMLEdBQWNDLE9BQU9DLEdBQXJCO0FBQ0EsYUFBS0MsaUJBQUwsR0FBeUIsS0FBekI7QUFDQSxZQUFJLEtBQUtILE1BQUwsQ0FBWUksb0JBQVosTUFBc0MsbUJBQTFDLEVBQStEO0FBQzNEO0FBQ0EsaUJBQUtDLGtCQUFMLENBQXdCLElBQXhCLEVBQThCLElBQTlCO0FBQ0gsU0FIRCxNQUdPO0FBQ0gsaUJBQUtDLE9BQUw7QUFDSDtBQUNELFlBQUlDLFVBQVViLE9BQU8sWUFBWSxDQUFFLENBQXJCLEVBQXVCTyxPQUFPQyxHQUE5QixDQUFkOztBQUVBLFlBQUlNLFFBQVFkLE9BQU9hLE9BQVAsRUFBZ0I7QUFDeEJILGtDQUFzQixTQUFTQSxvQkFBVCxHQUFnQztBQUNsRCxvQkFBSUssY0FBYyxLQUFLQyxNQUFMLENBQVlDLEtBQVosQ0FBa0IsSUFBbEIsRUFBd0JDLFNBQXhCLENBQWxCOztBQUVBLG9CQUFJQyxTQUFTQyxlQUFULENBQXlCQyxXQUF6QixLQUF5QyxLQUFLQyxnQkFBOUMsSUFBa0VILFNBQVNDLGVBQVQsQ0FBeUJHLFlBQXpCLEtBQTBDLEtBQUtDLGlCQUFySCxFQUF3STtBQUNwSWpCLDJCQUFPa0IsY0FBUCxDQUFzQmIsT0FBdEIsR0FEb0ksQ0FDbkc7O0FBRWpDLHlCQUFLVSxnQkFBTCxHQUF3QkgsU0FBU0MsZUFBVCxDQUF5QkMs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R0FBYSxLQUFLYyxLQUEvQjtBQUNBLGFBQUtaLE1BQUwsR0FBYyxLQUFLQSxNQUFMLEdBQWMsS0FBS1ksS0FBakM7QUFDQSxhQUFLSixNQUFMLEdBQWMsS0FBS0ksS0FBbkI7QUFDQSxhQUFLRixNQUFMLEdBQWMsS0FBS0UsS0FBbkI7QUFDQSxZQUFJLEtBQUtWLElBQUwsSUFBYSxLQUFLQSxJQUFMLENBQVVVLEtBQTNCLEVBQWtDO0FBQzlCLGdCQUFJLEtBQUtWLElBQUwsQ0FBVVUsS0FBVixDQUFnQkMsU0FBaEIsS0FBOEIzRSxPQUFPeUQsWUFBUCxDQUFvQm1CLFVBQXRELEVBQWtFO0FBQzlELHFCQUFLWixJQUFMLENBQVVVLEtBQVYsQ0FBZ0JHLFlBQWhCLENBQTZCLEtBQUtQLE1BQWxDLEVBQTBDLEtBQUtFLE1BQS9DLEVBQXVELEtBQUtELEtBQTVELEVBQW1FLEtBQUtFLEtBQXhFO0FBQ0g7QUFDSjtBQUNKLEtBekttQztBQTBLcENyRSx3QkFBb0IsU0FBU0Esa0JBQVQsQ0FBNEIwRSxLQUE1QixFQUFtQ3pFLE9BQW5DLEVBQTRDO0FBQzVEQSxrQkFBVUEsV0FBVyxLQUFyQjtBQUNBLGFBQUtILGlCQUFMLEdBQXlCNEUsS0FBekI7QUFDQSxZQUFJekUsT0FBSixFQUFhO0FBQ1QsaUJBQUtBLE9BQUw7QUFDSDtBQUNKLEtBaExtQztBQWlMcENjLG1CQUFlLFNBQVNBLGFBQVQsR0FBeUI7QUFDcEMsZUFBTyxLQUFLakIsaUJBQVo7QUFDSDs7QUFuTG1DLENBQXZCLENBQWpCIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxudmFyIGV4dGVuZCA9IHJlcXVpcmUoJy4vaW5oZXJpdHMuanMnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZXh0ZW5kKGZ1bmN0aW9uICgpIHt9LCB7XHJcbiAgICBjdG9yOiBmdW5jdGlvbiBjdG9yKGdhbWVEaXYpIHtcclxuICAgICAgICB0aGlzLmdhbWVEaXYgPSBnYW1lRGl2O1xyXG4gICAgICAgIHRoaXMucHJvRE9NID0gUGhhc2VyLkRPTTtcclxuICAgICAgICB0aGlzLmlzTXlMYW5kc2NhcGVNb2RlID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvRE9NLmdldFNjcmVlbk9yaWVudGF0aW9uKCkgIT0gXCJsYW5kc2NhcGUtcHJpbWFyeVwiKSB7XHJcbiAgICAgICAgICAgIC8v5aaC5p6c5b2T5YmN5piv56uW5bGPIOWQr+WKqOiHquWumuS5ieaoquWxj1xyXG4gICAgICAgICAgICB0aGlzLnNldE15TGFuZHNjYXBlTW9kZSh0cnVlLCB0cnVlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIEJhc2VET00gPSBleHRlbmQoZnVuY3Rpb24gKCkge30sIFBoYXNlci5ET00pO1xyXG5cclxuICAgICAgICB2YXIgTXlET00gPSBleHRlbmQoQmFzZURPTSwge1xyXG4gICAgICAgICAgICBnZXRTY3JlZW5PcmllbnRhdGlvbjogZnVuY3Rpb24gZ2V0U2NyZWVuT3JpZW50YXRpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3JpZW50YXRpb24gPSB0aGlzLl9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggIT09IHRoaXMucHJvRG9jdW1lbnRXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0ICE9PSB0aGlzLnByb0RvY3VtZW50SGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUGhhc2VyLm15U2NhbGVNYW5hZ2VyLnJlZnJlc2goKTsgLy/liLfmlrDnlYzpnaLlrr3pq5gg6Z2e5bi45pyJ55SoXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvRG9jdW1lbnRXaWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb0RvY3VtZW50SGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAob3JpZW50YXRpb24gIT0gXCJsYW5kc2NhcGUtcHJpbWFyeVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy/lvZPliY3mmK/nq5blsY9cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIVBoYXNlci5teVNjYWxlTWFuYWdlci5pc015TGFuZHNjYXBlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/mnKrlkK/liqgg6Ieq5a6a5LmJ5qiq5bGPXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFBoYXNlci5teVNjYWxlTWFuYWdlci5zZXRNeUxhbmRzY2FwZU1vZGUodHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImxhbmRzY2FwZS1wcmltYXJ5XCI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8v5YiH5o2i5Yiw5qiq5bGP5qih5byPXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBoYXNlci5teVNjYWxlTWFuYWdlci5pc015TGFuZHNjYXBlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/lhbPpl63oh6rlrprkuYnmqKrlsY/mqKHlvI9cclxuICAgICAgICAgICAgICAgICAgICAgICAgUGhhc2VyLm15U2NhbGVNYW5hZ2VyLnNldE15TGFuZHNjYXBlTW9kZShmYWxzZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvcmllbnRhdGlvbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0T2Zmc2V0OiBmdW5jdGlvbiBnZXRPZmZzZXQoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVsID0gdGhpcy5fc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2cocmVsKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZWw7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldEJvdW5kczogZnVuY3Rpb24gZ2V0Qm91bmRzKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlbCA9IHRoaXMuX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlbCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVsO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjYWxpYnJhdGU6IGZ1bmN0aW9uIGNhbGlicmF0ZSgpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZWwgPSB0aGlzLl9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhyZWwpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlbDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0QXNwZWN0UmF0aW86IGZ1bmN0aW9uIGdldEFzcGVjdFJhdGlvKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlbCA9IHRoaXMuX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlbCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVsO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpbkxheW91dFZpZXdwb3J0OiBmdW5jdGlvbiBpbkxheW91dFZpZXdwb3J0KCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlbCA9IHRoaXMuX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlbCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgUGhhc2VyLkRPTSA9IG5ldyBNeURPTSgpO1xyXG5cclxuICAgICAgICB2YXIgX3N0YXJ0UG9pbnRlciA9IFBoYXNlci5JbnB1dC5wcm90b3R5cGUuc3RhcnRQb2ludGVyO1xyXG4gICAgICAgIFBoYXNlci5JbnB1dC5wcm90b3R5cGUuc3RhcnRQb2ludGVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfc3RhcnRQb2ludGVyLmNhbGwodGhpcywgdGhpcy5jb3B5RXZlbnQoZXZlbnQpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBfdXBkYXRlUG9pbnRlciA9IFBoYXNlci5JbnB1dC5wcm90b3R5cGUudXBkYXRlUG9pbnRlcjtcclxuICAgICAgICBQaGFzZXIuSW5wdXQucHJvdG90eXBlLnVwZGF0ZVBvaW50ZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF91cGRhdGVQb2ludGVyLmNhbGwodGhpcywgdGhpcy5jb3B5RXZlbnQoZXZlbnQpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBfc3RvcFBvaW50ZXIgPSBQaGFzZXIuSW5wdXQucHJvdG90eXBlLnN0b3BQb2ludGVyO1xyXG4gICAgICAgIFBoYXNlci5JbnB1dC5wcm90b3R5cGUuc3RvcFBvaW50ZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9zdG9wUG9pbnRlci5jYWxsKHRoaXMsIHRoaXMuY29weUV2ZW50KGV2ZW50KSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBQaGFzZXIuSW5wdXQucHJvdG90eXBlLmNvcHlFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBpZiAoIVBoYXNlci5teVNjYWxlTWFuYWdlci5pc015TGFuZHNjYXBlKCkpIHtcclxuICAgICAgICAgICAgICAgIC8v5pyq5ZCv5YqoIOiHquWumuS5ieaoquWxj1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coZXZlbnQpO1xyXG4gICAgICAgICAgICB2YXIgbXlldmVudCA9IHRoaXMuZXh0ZW5kQ29weShldmVudCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgX2N4ID0gbXlldmVudC5jbGllbnRYO1xyXG4gICAgICAgICAgICB2YXIgX2N5ID0gbXlldmVudC5jbGllbnRZO1xyXG4gICAgICAgICAgICB2YXIgX3B4ID0gbXlldmVudC5wYWdlWDtcclxuICAgICAgICAgICAgdmFyIF9weSA9IG15ZXZlbnQucGFnZVk7XHJcbiAgICAgICAgICAgIHZhciBfc3ggPSBteWV2ZW50LnNjcmVlblg7XHJcbiAgICAgICAgICAgIHZhciBfc3kgPSBteWV2ZW50LnNjcmVlblk7XHJcbiAgICAgICAgICAgIG15ZXZlbnQuY2xpZW50WCA9IF9jeTtcclxuICAgICAgICAgICAgbXlldmVudC5jbGllbnRZID0gdGFyZ2V0LmNsaWVudEhlaWdodCAtIF9jeDtcclxuICAgICAgICAgICAgbXlldmVudC5wYWdlWCA9IF9weTtcclxuICAgICAgICAgICAgbXlldmVudC5wYWdlWSA9IHRhcmdldC5jbGllbnRIZWlnaHQgLSBfcHg7XHJcbiAgICAgICAgICAgIC8vbXlldmVudC5yb3RhdGlvbkFuZ2xlPU1hdGguUEkvMjtcclxuICAgICAgICAgICAgcmV0dXJuIG15ZXZlbnQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBQaGFzZXIuSW5wdXQucHJvdG90eXBlLmV4dGVuZENvcHkgPSBmdW5jdGlvbiAocCkge1xyXG4gICAgICAgICAgICB2YXIgYyA9IHt9O1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIHApIHtcclxuICAgICAgICAgICAgICAgIGNbaV0gPSBwW2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGMudWJlciA9IHA7XHJcbiAgICAgICAgICAgIHJldHVybiBjO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBfZ2V0UGFyZW50Qm91bmRzID0gUGhhc2VyLlNjYWxlTWFuYWdlci5wcm90b3R5cGUuZ2V0UGFyZW50Qm91bmRzO1xyXG4gICAgICAgIFBoYXNlci5TY2FsZU1hbmFnZXIucHJvdG90eXBlLmdldFBhcmVudEJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHJlbCA9IF9nZXRQYXJlbnRCb3VuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgdmFyIF93aWR0aCA9IHJlbC53aWR0aDtcclxuICAgICAgICAgICAgdmFyIF9oZWlnaHQgPSByZWwuaGVpZ2h0O1xyXG4gICAgICAgICAgICBpZiAoUGhhc2VyLm15U2NhbGVNYW5hZ2VyLmlzTXlMYW5kc2NhcGUoKSkge1xyXG4gICAgICAgICAgICAgICAgcmVsLndpZHRoID0gX2hlaWdodDtcclxuICAgICAgICAgICAgICAgIHJlbC5oZWlnaHQgPSBfd2lkdGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlbDtcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGJvb3Q6IGZ1bmN0aW9uIGJvb3QoZ2FtZSkge1xyXG4gICAgICAgIHRoaXMuZ2FtZSA9IGdhbWU7XHJcbiAgICB9LFxyXG4gICAgcmVmcmVzaDogZnVuY3Rpb24gcmVmcmVzaCgpIHtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS53aWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCArIFwicHhcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgKyBcInB4XCI7XHJcblxyXG4gICAgICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0ID49IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCkge1xyXG4gICAgICAgICAgICAvL+erluWxj1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVEaXYuc3R5bGUuaGVpZ2h0ID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCArIFwicHhcIjtcclxuICAgICAgICAgICAgdGhpcy5nYW1lRGl2LnN0eWxlLndpZHRoID0gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQgKyBcInB4XCI7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZURpdi5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZSg5MGRlZylcIjtcclxuICAgICAgICAgICAgdGhpcy5nYW1lRGl2LnN0eWxlLmxlZnQgPSAtKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgLSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpIC8gMiArIFwicHhcIjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvL+aoquWxj1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVEaXYuc3R5bGUud2lkdGggPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoICsgXCJweFwiO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVEaXYuc3R5bGUuaGVpZ2h0ID0gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQgKyBcInB4XCI7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZURpdi5zdHlsZS50cmFuc2Zvcm0gPSBcIlwiO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVEaXYuc3R5bGUubGVmdCA9IFwiXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLndNYXggPSAxMjgwO1xyXG4gICAgICAgIHRoaXMuaFNjYWxlID0gMTtcclxuICAgICAgICB0aGlzLmhUcmltID0gMDtcclxuICAgICAgICB0aGlzLnZTY2FsZSA9IDE7XHJcbiAgICAgICAgdGhpcy52VHJpbSA9IDA7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmdhbWVEaXYuY2xpZW50SGVpZ2h0O1xyXG4gICAgICAgIHRoaXMud2lkdGggPSB0aGlzLmdhbWVEaXYuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgdGhpcy5zY2FsZSA9IDE7XHJcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPiB0aGlzLndNYXgpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2FsZSA9IHRoaXMud2lkdGggLyB0aGlzLndNYXg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnNjYWxlIDwgMSkge1xyXG4gICAgICAgICAgICB0aGlzLnNjYWxlID0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcInNjYWxlOiBcIitzY2FsZSk7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMud2lkdGggLyB0aGlzLnNjYWxlO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgLyB0aGlzLnNjYWxlO1xyXG4gICAgICAgIHRoaXMuaFNjYWxlID0gdGhpcy5zY2FsZTtcclxuICAgICAgICB0aGlzLnZTY2FsZSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZSAmJiB0aGlzLmdhbWUuc2NhbGUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZS5zY2FsZS5zY2FsZU1vZGUgPT09IFBoYXNlci5TY2FsZU1hbmFnZXIuVVNFUl9TQ0FMRSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lLnNjYWxlLnNldFVzZXJTY2FsZSh0aGlzLmhTY2FsZSwgdGhpcy52U2NhbGUsIHRoaXMuaFRyaW0sIHRoaXMudlRyaW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNldE15TGFuZHNjYXBlTW9kZTogZnVuY3Rpb24gc2V0TXlMYW5kc2NhcGVNb2RlKHNldFRvLCByZWZyZXNoKSB7XHJcbiAgICAgICAgcmVmcmVzaCA9IHJlZnJlc2ggfHwgZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pc015TGFuZHNjYXBlTW9kZSA9IHNldFRvO1xyXG4gICAgICAgIGlmIChyZWZyZXNoKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBpc015TGFuZHNjYXBlOiBmdW5jdGlvbiBpc015TGFuZHNjYXBlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzTXlMYW5kc2NhcGVNb2RlO1xyXG4gICAgfVxyXG5cclxufSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3V0aWxzL015U2NhbGVNYW5hZ2VyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==');
},function(module,exports,__webpack_require__){eval('\'use strict\';\n\nvar MainMenuState = __webpack_require__(4);\n\nmodule.exports = {\n\tpreload: function () {},\n\tcreate: function () {\n\t\tthis.server = window.mqant;\n\t},\n\tlogin: function (guid, pwd) {\n\t\tvar self = this;\n\t\tvar useSSL = \'https:\' == document.location.protocol ? true : false;\n\t\ttry {\n\t\t\tthis.server.init({\n\t\t\t\thost: window.location.hostname,\n\t\t\t\tport: 23456,\n\t\t\t\tclient_id: "demo",\n\t\t\t\tuserName: guid,\n\t\t\t\tpassword: pwd,\n\t\t\t\tuseSSL: useSSL,\n\t\t\t\tonSuccess: function () {\n\t\t\t\t\t//alert("游戏连接成功!");\n\t\t\t\t\tself.server.requestNR("demo", "login", []);\n\n\t\t\t\t\tself.server.on("onLogin", function (data) {\n\t\t\t\t\t\tState.nick = data.nick;\n\t\t\t\t\t\tState.lv = data.lv;\n\t\t\t\t\t\tself.game.state.add("MainMenuState", new MainMenuState(nick, lv), false);\n\t\t\t\t\t\tself.state.start("MainMenuState");\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tonConnectionLost: function (code, reason) {\n\t\t\t\t\tconsole.log(code);\n\t\t\t\t\talert("连接断开了:" + code);\n\t\t\t\t}\n\t\t\t});\n\t\t} catch (e) {\n\t\t\talert(e);\n\t\t}\n\t}\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3RhdGVzL0Jvb3RTdGF0ZS5qcz9hNWE1Il0sIm5hbWVzIjpbIk1haW5NZW51U3RhdGUiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsInByZWxvYWQiLCJjcmVhdGUiLCJzZXJ2ZXIiLCJ3aW5kb3ciLCJtcWFudCIsImxvZ2luIiwiZ3VpZCIsInB3ZCIsInNlbGYiLCJ1c2VTU0wiLCJkb2N1bWVudCIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJpbml0IiwiaG9zdCIsImhvc3RuYW1lIiwicG9ydCIsImNsaWVudF9pZCIsInVzZXJOYW1lIiwicGFzc3dvcmQiLCJvblN1Y2Nlc3MiLCJyZXF1ZXN0TlIiLCJvbiIsImRhdGEiLCJTdGF0ZSIsIm5pY2siLCJsdiIsImdhbWUiLCJzdGF0ZSIsImFkZCIsInN0YXJ0Iiwib25Db25uZWN0aW9uTG9zdCIsImNvZGUiLCJyZWFzb24iLCJjb25zb2xlIiwibG9nIiwiYWxlcnQiLCJlIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQSxJQUFJQSxnQkFBZ0IsbUJBQUFDLENBQVEsQ0FBUixDQUFwQjs7QUFFQUMsT0FBT0MsT0FBUCxHQUFpQjtBQUNiQyxVQUFTLFlBQVcsQ0FFbkIsQ0FIWTtBQUliQyxTQUFRLFlBQVc7QUFDZixPQUFLQyxNQUFMLEdBQWNDLE9BQU9DLEtBQXJCO0FBQ0gsRUFOWTtBQU9iQyxRQUFPLFVBQVNDLElBQVQsRUFBZUMsR0FBZixFQUFvQjtBQUN2QixNQUFJQyxPQUFPLElBQVg7QUFDQSxNQUFJQyxTQUFTLFlBQVlDLFNBQVNDLFFBQVQsQ0FBa0JDLFFBQTlCLEdBQXlDLElBQXpDLEdBQWdELEtBQTdEO0FBQ0EsTUFBRztBQUNSLFFBQUtWLE1BQUwsQ0FBWVcsSUFBWixDQUFpQjtBQUNoQkMsVUFBTVgsT0FBT1EsUUFBUCxDQUFnQkksUUFETjtBQUVoQkMsVUFBTSxLQUZVO0FBR2hCQyxlQUFXLE1BSEs7QUFJaEJDLGNBQVVaLElBSk07QUFLaEJhLGNBQVVaLEdBTE07QUFNaEJFLFlBQU9BLE1BTlM7QUFPaEJXLGVBQVUsWUFBVztBQUNwQjtBQUNBWixVQUFLTixNQUFMLENBQVltQixTQUFaLENBQXNCLE1BQXRCLEVBQThCLE9BQTlCLEVBQXVDLEVBQXZDOztBQUVBYixVQUFLTixNQUFMLENBQVlvQixFQUFaLENBQWUsU0FBZixFQUEwQixVQUFTQyxJQUFULEVBQWU7QUFDdEJDLFlBQU1DLElBQU4sR0FBYUYsS0FBS0UsSUFBbEI7QUFDQUQsWUFBTUUsRUFBTixHQUFXSCxLQUFLRyxFQUFoQjtBQUNBbEIsV0FBS21CLElBQUwsQ0FBVUMsS0FBVixDQUFnQkMsR0FBaEIsQ0FBb0IsZUFBcEIsRUFBcUMsSUFBSWpDLGFBQUosQ0FBa0I2QixJQUFsQixFQUF3QkMsRUFBeEIsQ0FBckMsRUFBa0UsS0FBbEU7QUFDbEJsQixXQUFLb0IsS0FBTCxDQUFXRSxLQUFYLENBQWlCLGVBQWpCO0FBQ0EsTUFMRDtBQU1BLEtBakJlO0FBa0JoQkMsc0JBQWlCLFVBQVNDLElBQVQsRUFBY0MsTUFBZCxFQUFzQjtBQUN0Q0MsYUFBUUMsR0FBUixDQUFZSCxJQUFaO0FBQ0FJLFdBQU0sV0FBU0osSUFBZjtBQUNBO0FBckJlLElBQWpCO0FBdUJBLEdBeEJLLENBd0JMLE9BQU9LLENBQVAsRUFBUztBQUNURCxTQUFNQyxDQUFOO0FBQ0E7QUFDRTtBQXJDWSxDQUFqQiIsImZpbGUiOiIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG52YXIgTWFpbk1lbnVTdGF0ZSA9IHJlcXVpcmUoJy4vTWFpbk1lbnVTdGF0ZS5qcycpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBwcmVsb2FkOiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICB9LFxyXG4gICAgY3JlYXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLnNlcnZlciA9IHdpbmRvdy5tcWFudDtcclxuICAgIH0sXHJcbiAgICBsb2dpbjogZnVuY3Rpb24oZ3VpZCwgcHdkKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHZhciB1c2VTU0wgPSAnaHR0cHM6JyA9PSBkb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbCA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICB0cnl7XHJcblx0XHRcdHRoaXMuc2VydmVyLmluaXQoe1xyXG5cdFx0XHRcdGhvc3Q6IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSxcclxuXHRcdFx0XHRwb3J0OiAyMzQ1NixcclxuXHRcdFx0XHRjbGllbnRfaWQ6IFwiZGVtb1wiLFxyXG5cdFx0XHRcdHVzZXJOYW1lOiBndWlkLFxyXG5cdFx0XHRcdHBhc3N3b3JkOiBwd2QsXHJcblx0XHRcdFx0dXNlU1NMOnVzZVNTTCxcclxuXHRcdFx0XHRvblN1Y2Nlc3M6ZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHQvL2FsZXJ0KFwi5ri45oiP6L+e5o6l5oiQ5YqfIVwiKTtcclxuXHRcdFx0XHRcdHNlbGYuc2VydmVyLnJlcXVlc3ROUihcImRlbW9cIiwgXCJsb2dpblwiLCBbXSk7XHJcblxyXG5cdFx0XHRcdFx0c2VsZi5zZXJ2ZXIub24oXCJvbkxvZ2luXCIsIGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU3RhdGUubmljayA9IGRhdGEubmljaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgU3RhdGUubHYgPSBkYXRhLmx2O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmdhbWUuc3RhdGUuYWRkKFwiTWFpbk1lbnVTdGF0ZVwiLCBuZXcgTWFpbk1lbnVTdGF0ZShuaWNrLCBsdiksIGZhbHNlKTtcclxuXHRcdFx0XHRcdFx0c2VsZi5zdGF0ZS5zdGFydChcIk1haW5NZW51U3RhdGVcIik7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdG9uQ29ubmVjdGlvbkxvc3Q6ZnVuY3Rpb24oY29kZSxyZWFzb24pIHtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGNvZGUpXHJcblx0XHRcdFx0XHRhbGVydChcIui/nuaOpeaWreW8gOS6hjpcIitjb2RlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fWNhdGNoIChlKXtcclxuXHRcdFx0YWxlcnQoZSk7XHJcblx0XHR9XHJcbiAgICB9LFxyXG59O1xyXG5cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3N0YXRlcy9Cb290U3RhdGUuanMiXSwic291cmNlUm9vdCI6IiJ9')},function(module,exports,__webpack_require__){eval('"use strict";\n\nvar extend = __webpack_require__(1);\n\nmodule.exports = extend(function () {}, {\n    ctor: function (nick, lv) {},\n    init: function () {},\n    preload: function () {},\n    create: function () {},\n    startGame: function () {\n        // this.state.start("GameState");\n    }\n});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3RhdGVzL01haW5NZW51U3RhdGUuanM/ZTkwMyJdLCJuYW1lcyI6WyJleHRlbmQiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImN0b3IiLCJuaWNrIiwibHYiLCJpbml0IiwicHJlbG9hZCIsImNyZWF0ZSIsInN0YXJ0R2FtZSJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0EsSUFBSUEsU0FBUyxtQkFBQUMsQ0FBUSxDQUFSLENBQWI7O0FBRUFDLE9BQU9DLE9BQVAsR0FBaUJILE9BQU8sWUFBWSxDQUFFLENBQXJCLEVBQXVCO0FBQ3BDSSxVQUFNLFVBQVVDLElBQVYsRUFBZ0JDLEVBQWhCLEVBQW9CLENBRXpCLENBSG1DO0FBSXBDQyxVQUFNLFlBQVcsQ0FFaEIsQ0FObUM7QUFPcENDLGFBQVMsWUFBVyxDQUVuQixDQVRtQztBQVVwQ0MsWUFBUSxZQUFXLENBRWxCLENBWm1DO0FBYXBDQyxlQUFXLFlBQVc7QUFDbEI7QUFDSDtBQWZtQyxDQUF2QixDQUFqQiIsImZpbGUiOiI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBleHRlbmQgPSByZXF1aXJlKCcuLi91dGlscy9pbmhlcml0cy5qcycpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBleHRlbmQoZnVuY3Rpb24gKCkge30sIHtcclxuICAgIGN0b3I6IGZ1bmN0aW9uIChuaWNrLCBsdikge1xyXG5cclxuICAgIH0sXHJcbiAgICBpbml0OiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICB9LFxyXG4gICAgcHJlbG9hZDogZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgfSxcclxuICAgIGNyZWF0ZTogZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgfSxcclxuICAgIHN0YXJ0R2FtZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gdGhpcy5zdGF0ZS5zdGFydChcIkdhbWVTdGF0ZVwiKTtcclxuICAgIH1cclxufSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3N0YXRlcy9NYWluTWVudVN0YXRlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==')}]);