!function(Q){function F(U){if(B[U])return B[U].exports;var t=B[U]={exports:{},id:U,loaded:!1};return Q[U].call(t.exports,t,t.exports,F),t.loaded=!0,t.exports}var B={};return F.m=Q,F.c=B,F.p="",F(0)}([function(module,exports,__webpack_require__){eval('\'use strict\';\n\nvar extend = __webpack_require__(1);\nvar MyScaleManager = __webpack_require__(2);\nvar BootState = __webpack_require__(3);\n\nwindow.onload = function () {\n    var gameDiv = document.getElementById("game");\n    Phaser.myScaleManager = new MyScaleManager(gameDiv);\n    var width = 800;\n    var scale = screen.width / screen.height;\n    if (scale > 1) {\n        scale = 1 / scale;\n    }\n    var game;;\n    if (window.location.hostname == "") {\n        game = new Phaser.Game(width, width * scale, Phaser.CANVAS, gameDiv);\n    } else {\n        game = new Phaser.Game(width, width * scale, Phaser.AUTO, gameDiv);\n    }\n    Phaser.myScaleManager.boot();\n    game.state.add("BootState", BootState, true);\n    game.state.start("BootState");\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi5qcz8zNDc5Il0sIm5hbWVzIjpbImV4dGVuZCIsInJlcXVpcmUiLCJNeVNjYWxlTWFuYWdlciIsIkJvb3RTdGF0ZSIsIndpbmRvdyIsIm9ubG9hZCIsImdhbWVEaXYiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiUGhhc2VyIiwibXlTY2FsZU1hbmFnZXIiLCJ3aWR0aCIsInNjYWxlIiwic2NyZWVuIiwiaGVpZ2h0IiwiZ2FtZSIsImxvY2F0aW9uIiwiaG9zdG5hbWUiLCJHYW1lIiwiQ0FOVkFTIiwiQVVUTyIsImJvb3QiLCJzdGF0ZSIsImFkZCIsInN0YXJ0Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQSxJQUFJQSxTQUFTLG1CQUFBQyxDQUFRLENBQVIsQ0FBYjtBQUNBLElBQUlDLGlCQUFpQixtQkFBQUQsQ0FBUSxDQUFSLENBQXJCO0FBQ0EsSUFBSUUsWUFBWSxtQkFBQUYsQ0FBUSxDQUFSLENBQWhCOztBQUVBRyxPQUFPQyxNQUFQLEdBQWdCLFlBQVk7QUFDeEIsUUFBSUMsVUFBVUMsU0FBU0MsY0FBVCxDQUF3QixNQUF4QixDQUFkO0FBQ0FDLFdBQU9DLGNBQVAsR0FBd0IsSUFBSVIsY0FBSixDQUFtQkksT0FBbkIsQ0FBeEI7QUFDQSxRQUFJSyxRQUFNLEdBQVY7QUFDQSxRQUFJQyxRQUFRQyxPQUFPRixLQUFQLEdBQWVFLE9BQU9DLE1BQWxDO0FBQ0EsUUFBSUYsUUFBUSxDQUFaLEVBQWU7QUFDWEEsZ0JBQVEsSUFBSUEsS0FBWjtBQUNIO0FBQ0QsUUFBSUcsSUFBSixDQUFTO0FBQ1osUUFBSVgsT0FBT1ksUUFBUCxDQUFnQkMsUUFBaEIsSUFBNEIsRUFBaEMsRUFBb0M7QUFDbkNGLGVBQU8sSUFBSU4sT0FBT1MsSUFBWCxDQUFnQlAsS0FBaEIsRUFBdUJBLFFBQVFDLEtBQS9CLEVBQXNDSCxPQUFPVSxNQUE3QyxFQUFxRGIsT0FBckQsQ0FBUDtBQUNBLEtBRkQsTUFFTztBQUNOUyxlQUFPLElBQUlOLE9BQU9TLElBQVgsQ0FBZ0JQLEtBQWhCLEVBQXVCQSxRQUFRQyxLQUEvQixFQUFzQ0gsT0FBT1csSUFBN0MsRUFBbURkLE9BQW5ELENBQVA7QUFDQTtBQUNFRyxXQUFPQyxjQUFQLENBQXNCVyxJQUF0QjtBQUNBTixTQUFLTyxLQUFMLENBQVdDLEdBQVgsQ0FBZSxXQUFmLEVBQTRCcEIsU0FBNUIsRUFBdUMsSUFBdkM7QUFDQVksU0FBS08sS0FBTCxDQUFXRSxLQUFYLENBQWlCLFdBQWpCO0FBQ0gsQ0FqQkQiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxudmFyIGV4dGVuZCA9IHJlcXVpcmUoJy4vdXRpbHMvaW5oZXJpdHMuanMnKTtcclxudmFyIE15U2NhbGVNYW5hZ2VyID0gcmVxdWlyZSgnLi91dGlscy9NeVNjYWxlTWFuYWdlci5qcycpO1xyXG52YXIgQm9vdFN0YXRlID0gcmVxdWlyZSgnLi9zdGF0ZXMvQm9vdFN0YXRlLmpzJyk7XHJcblxyXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGdhbWVEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVcIik7XHJcbiAgICBQaGFzZXIubXlTY2FsZU1hbmFnZXIgPSBuZXcgTXlTY2FsZU1hbmFnZXIoZ2FtZURpdik7XHJcbiAgICB2YXIgd2lkdGg9ODAwO1xyXG4gICAgdmFyIHNjYWxlID0gc2NyZWVuLndpZHRoIC8gc2NyZWVuLmhlaWdodDtcclxuICAgIGlmIChzY2FsZSA+IDEpIHtcclxuICAgICAgICBzY2FsZSA9IDEgLyBzY2FsZTtcclxuICAgIH1cclxuICAgIHZhciBnYW1lOztcclxuXHRpZiAod2luZG93LmxvY2F0aW9uLmhvc3RuYW1lID09IFwiXCIpIHtcclxuXHRcdGdhbWUgPSBuZXcgUGhhc2VyLkdhbWUod2lkdGgsIHdpZHRoICogc2NhbGUsIFBoYXNlci5DQU5WQVMsIGdhbWVEaXYpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRnYW1lID0gbmV3IFBoYXNlci5HYW1lKHdpZHRoLCB3aWR0aCAqIHNjYWxlLCBQaGFzZXIuQVVUTywgZ2FtZURpdik7XHJcblx0fVxyXG4gICAgUGhhc2VyLm15U2NhbGVNYW5hZ2VyLmJvb3QoKTtcclxuICAgIGdhbWUuc3RhdGUuYWRkKFwiQm9vdFN0YXRlXCIsIEJvb3RTdGF0ZSwgdHJ1ZSk7XHJcbiAgICBnYW1lLnN0YXRlLnN0YXJ0KFwiQm9vdFN0YXRlXCIpO1xyXG59O1xyXG5cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL21haW4uanMiXSwic291cmNlUm9vdCI6IiJ9')},function(module,exports){eval('\'use strict\';\n/**\r\n * 这是一个 javascript 类继承函数,\r\n * 与以往的继承函数不同的是这个函数,\r\n * 可以直接从一个已存在的普通构造函数继承。\r\n */\n\nfunction object(o) {\n    function W() {}\n    W.prototype = o;\n    return new W();\n}\nfunction inheritPrototype(SubType, SuperType) {\n    var prototype;\n    if (typeof Object.create === \'function\') {\n        prototype = Object.create(SuperType.prototype);\n    } else {\n        prototype = object.create(SuperType.prototype);\n    }\n    prototype.constructor = SubType;\n    SubType.prototype = prototype;\n}\nmodule.exports = function (superCtor, prop) {\n    return function () {\n        var fnTest = /xyz/.test(function () {\n            xyz;\n        }) ? /\\b_super\\b/ : /.*/;\n\n        var _super = superCtor.prototype;\n        //// The base Class implementation (does nothing)\n        function baseClass() {\n            if (typeof baseClass.prototype.ctor === "undefined") {} else {\n                var args = new Array();\n                for (var k in arguments) {\n                    args.push(arguments[k]);\n                }\n                baseClass.prototype.ctor.apply(this, args);\n            }\n        };\n        // 空函数F:\n        //var F = function F() {};\n        //// 把F的原型指向Student.prototype:\n        //F.prototype = superCtor.prototype;\n        ////F.prototype = Object.create(superCtor.prototype);\n        //// 把PrimaryStudent的原型指向一个新的F对象，F对象的原型正好指向Student.prototype:\n        //baseClass.prototype = new F();\n        //// 把PrimaryStudent原型的构造函数修复为PrimaryStudent:\n        //baseClass.prototype.constructor = baseClass;\n        inheritPrototype(baseClass, superCtor);\n        var prototype = baseClass.prototype;\n        if (typeof _super === "undefined") {} else {\n            //_super["ctor"]="ss";\n            if (typeof _super["ctor"] === "undefined") {\n                _super["ctor"] = superCtor;\n            }\n        }\n\n        // Copy the properties over onto the new prototype\n        for (var name in prop) {\n            // Check if we\'re overwriting an existing function\n            prototype[name] = typeof prop[name] == "function" && typeof _super[name] == "function" && fnTest.test(prop[name]) ? function (name, fn) {\n                return function () {\n                    //var tmp_superclass = this.superclass;\n                    var tmp = this._super;\n                    // Add a new ._super() method that is the same method\n                    // but on the super-class\n                    this._super = _super[name];\n                    //this.superclass=superCtor.bind(this);\n                    // The method only need to be bound temporarily, so we\n                    // remove it when we\'re done executing\n                    var args = new Array();\n                    for (var k in arguments) {\n                        args.push(arguments[k]);\n                    }\n                    var ret = fn.apply(this, args);\n                    this._super = tmp;\n                    //this.superclass=tmp_superclass;\n                    return ret;\n                };\n            }(name, prop[name]) : prop[name];\n        }\n        return baseClass;\n    }();\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvaW5oZXJpdHMuanM/OTZkOSJdLCJuYW1lcyI6WyJvYmplY3QiLCJvIiwiVyIsInByb3RvdHlwZSIsImluaGVyaXRQcm90b3R5cGUiLCJTdWJUeXBlIiwiU3VwZXJUeXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJtb2R1bGUiLCJleHBvcnRzIiwic3VwZXJDdG9yIiwicHJvcCIsImZuVGVzdCIsInRlc3QiLCJ4eXoiLCJfc3VwZXIiLCJiYXNlQ2xhc3MiLCJjdG9yIiwiYXJncyIsIkFycmF5IiwiayIsImFyZ3VtZW50cyIsInB1c2giLCJhcHBseSIsIm5hbWUiLCJmbiIsInRtcCIsInJldCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7O0FBS0EsU0FBU0EsTUFBVCxDQUFnQkMsQ0FBaEIsRUFBa0I7QUFDZCxhQUFTQyxDQUFULEdBQVksQ0FDWDtBQUNEQSxNQUFFQyxTQUFGLEdBQVlGLENBQVo7QUFDQSxXQUFPLElBQUlDLENBQUosRUFBUDtBQUNIO0FBQ0QsU0FBU0UsZ0JBQVQsQ0FBMEJDLE9BQTFCLEVBQWtDQyxTQUFsQyxFQUE0QztBQUN4QyxRQUFJSCxTQUFKO0FBQ0EsUUFBRyxPQUFPSSxPQUFPQyxNQUFkLEtBQXVCLFVBQTFCLEVBQXFDO0FBQ2pDTCxvQkFBVUksT0FBT0MsTUFBUCxDQUFjRixVQUFVSCxTQUF4QixDQUFWO0FBQ0gsS0FGRCxNQUVLO0FBQ0RBLG9CQUFVSCxPQUFPUSxNQUFQLENBQWNGLFVBQVVILFNBQXhCLENBQVY7QUFDSDtBQUNEQSxjQUFVTSxXQUFWLEdBQXNCSixPQUF0QjtBQUNBQSxZQUFRRixTQUFSLEdBQWtCQSxTQUFsQjtBQUNIO0FBQ0RPLE9BQU9DLE9BQVAsR0FBaUIsVUFBVUMsU0FBVixFQUFxQkMsSUFBckIsRUFBMkI7QUFDeEMsV0FBTyxZQUFZO0FBQ2YsWUFBSUMsU0FBUyxNQUFNQyxJQUFOLENBQVcsWUFBWTtBQUNoQ0M7QUFDSCxTQUZZLElBRVIsWUFGUSxHQUVPLElBRnBCOztBQUlBLFlBQUlDLFNBQVNMLFVBQVVULFNBQXZCO0FBQ0E7QUFDQSxpQkFBU2UsU0FBVCxHQUFxQjtBQUNqQixnQkFBSSxPQUFPQSxVQUFVZixTQUFWLENBQW9CZ0IsSUFBM0IsS0FBa0MsV0FBdEMsRUFBbUQsQ0FDbEQsQ0FERCxNQUNLO0FBQ0Qsb0JBQUlDLE9BQU8sSUFBSUMsS0FBSixFQUFYO0FBQ0EscUJBQUksSUFBSUMsQ0FBUixJQUFhQyxTQUFiLEVBQXVCO0FBQ25CSCx5QkFBS0ksSUFBTCxDQUFVRCxVQUFVRCxDQUFWLENBQVY7QUFDSDtBQUNESiwwQkFBVWYsU0FBVixDQUFvQmdCLElBQXBCLENBQXlCTSxLQUF6QixDQUErQixJQUEvQixFQUFxQ0wsSUFBckM7QUFDSDtBQUNKO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FoQix5QkFBaUJjLFNBQWpCLEVBQTJCTixTQUEzQjtBQUNBLFlBQUlULFlBQVllLFVBQVVmLFNBQTFCO0FBQ0EsWUFBRyxPQUFRYyxNQUFSLEtBQWtCLFdBQXJCLEVBQWlDLENBRWhDLENBRkQsTUFFSztBQUNEO0FBQ0EsZ0JBQUksT0FBUUEsT0FBTyxNQUFQLENBQVIsS0FBMEIsV0FBOUIsRUFBMkM7QUFDdkNBLHVCQUFPLE1BQVAsSUFBaUJMLFNBQWpCO0FBQ0g7QUFDSjs7QUFFRDtBQUNBLGFBQUssSUFBSWMsSUFBVCxJQUFpQmIsSUFBakIsRUFBdUI7QUFDbkI7QUFDQVYsc0JBQVV1QixJQUFWLElBQWtCLE9BQU9iLEtBQUthLElBQUwsQ0FBUCxJQUFxQixVQUFyQixJQUFtQyxPQUFPVCxPQUFPUyxJQUFQLENBQVAsSUFBdUIsVUFBMUQsSUFBd0VaLE9BQU9DLElBQVAsQ0FBWUYsS0FBS2EsSUFBTCxDQUFaLENBQXhFLEdBQWtHLFVBQVVBLElBQVYsRUFBZ0JDLEVBQWhCLEVBQW9CO0FBQ3BJLHVCQUFPLFlBQVk7QUFDZjtBQUNBLHdCQUFJQyxNQUFNLEtBQUtYLE1BQWY7QUFDQTtBQUNBO0FBQ0EseUJBQUtBLE1BQUwsR0FBY0EsT0FBT1MsSUFBUCxDQUFkO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQUlOLE9BQU8sSUFBSUMsS0FBSixFQUFYO0FBQ0EseUJBQUksSUFBSUMsQ0FBUixJQUFhQyxTQUFiLEVBQXVCO0FBQ25CSCw2QkFBS0ksSUFBTCxDQUFVRCxVQUFVRCxDQUFWLENBQVY7QUFDSDtBQUNELHdCQUFJTyxNQUFNRixHQUFHRixLQUFILENBQVMsSUFBVCxFQUFjTCxJQUFkLENBQVY7QUFDQSx5QkFBS0gsTUFBTCxHQUFjVyxHQUFkO0FBQ0E7QUFDQSwyQkFBT0MsR0FBUDtBQUNILGlCQWpCRDtBQWtCSCxhQW5CbUgsQ0FtQmxISCxJQW5Ca0gsRUFtQjVHYixLQUFLYSxJQUFMLENBbkI0RyxDQUFsRyxHQW1CSWIsS0FBS2EsSUFBTCxDQW5CdEI7QUFvQkg7QUFDRCxlQUFPUixTQUFQO0FBQ0gsS0E5RE0sRUFBUDtBQStESCxDQWhFRCIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG4vKipcclxuICog6L+Z5piv5LiA5LiqIGphdmFzY3JpcHQg57G757un5om/5Ye95pWwLFxyXG4gKiDkuI7ku6XlvoDnmoTnu6fmib/lh73mlbDkuI3lkIznmoTmmK/ov5nkuKrlh73mlbAsXHJcbiAqIOWPr+S7peebtOaOpeS7juS4gOS4quW3suWtmOWcqOeahOaZrumAmuaehOmAoOWHveaVsOe7p+aJv+OAglxyXG4gKi9cclxuZnVuY3Rpb24gb2JqZWN0KG8pe1xyXG4gICAgZnVuY3Rpb24gVygpe1xyXG4gICAgfVxyXG4gICAgVy5wcm90b3R5cGU9bztcclxuICAgIHJldHVybiBuZXcgVygpO1xyXG59XHJcbmZ1bmN0aW9uIGluaGVyaXRQcm90b3R5cGUoU3ViVHlwZSxTdXBlclR5cGUpe1xyXG4gICAgdmFyIHByb3RvdHlwZTtcclxuICAgIGlmKHR5cGVvZiBPYmplY3QuY3JlYXRlPT09J2Z1bmN0aW9uJyl7XHJcbiAgICAgICAgcHJvdG90eXBlPU9iamVjdC5jcmVhdGUoU3VwZXJUeXBlLnByb3RvdHlwZSk7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICBwcm90b3R5cGU9b2JqZWN0LmNyZWF0ZShTdXBlclR5cGUucHJvdG90eXBlKTtcclxuICAgIH1cclxuICAgIHByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1TdWJUeXBlO1xyXG4gICAgU3ViVHlwZS5wcm90b3R5cGU9cHJvdG90eXBlO1xyXG59XHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHN1cGVyQ3RvciwgcHJvcCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZm5UZXN0ID0gL3h5ei8udGVzdChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHh5ejtcclxuICAgICAgICB9KSA/IC9cXGJfc3VwZXJcXGIvIDogLy4qLztcclxuXHJcbiAgICAgICAgdmFyIF9zdXBlciA9IHN1cGVyQ3Rvci5wcm90b3R5cGU7XHJcbiAgICAgICAgLy8vLyBUaGUgYmFzZSBDbGFzcyBpbXBsZW1lbnRhdGlvbiAoZG9lcyBub3RoaW5nKVxyXG4gICAgICAgIGZ1bmN0aW9uIGJhc2VDbGFzcygpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBiYXNlQ2xhc3MucHJvdG90eXBlLmN0b3I9PT1cInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoKVxyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBrIGluIGFyZ3VtZW50cyl7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZ3VtZW50c1trXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBiYXNlQ2xhc3MucHJvdG90eXBlLmN0b3IuYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIOepuuWHveaVsEY6XHJcbiAgICAgICAgLy92YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTtcclxuICAgICAgICAvLy8vIOaKikbnmoTljp/lnovmjIflkJFTdHVkZW50LnByb3RvdHlwZTpcclxuICAgICAgICAvL0YucHJvdG90eXBlID0gc3VwZXJDdG9yLnByb3RvdHlwZTtcclxuICAgICAgICAvLy8vRi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUpO1xyXG4gICAgICAgIC8vLy8g5oqKUHJpbWFyeVN0dWRlbnTnmoTljp/lnovmjIflkJHkuIDkuKrmlrDnmoRG5a+56LGh77yMRuWvueixoeeahOWOn+Wei+ato+WlveaMh+WQkVN0dWRlbnQucHJvdG90eXBlOlxyXG4gICAgICAgIC8vYmFzZUNsYXNzLnByb3RvdHlwZSA9IG5ldyBGKCk7XHJcbiAgICAgICAgLy8vLyDmiopQcmltYXJ5U3R1ZGVudOWOn+Wei+eahOaehOmAoOWHveaVsOS/ruWkjeS4ulByaW1hcnlTdHVkZW50OlxyXG4gICAgICAgIC8vYmFzZUNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGJhc2VDbGFzcztcclxuICAgICAgICBpbmhlcml0UHJvdG90eXBlKGJhc2VDbGFzcyxzdXBlckN0b3IpO1xyXG4gICAgICAgIHZhciBwcm90b3R5cGUgPSBiYXNlQ2xhc3MucHJvdG90eXBlO1xyXG4gICAgICAgIGlmKHR5cGVvZiAoX3N1cGVyKT09PVwidW5kZWZpbmVkXCIpe1xyXG5cclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgLy9fc3VwZXJbXCJjdG9yXCJdPVwic3NcIjtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiAoX3N1cGVyW1wiY3RvclwiXSk9PT1cInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICBfc3VwZXJbXCJjdG9yXCJdID0gc3VwZXJDdG9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDb3B5IHRoZSBwcm9wZXJ0aWVzIG92ZXIgb250byB0aGUgbmV3IHByb3RvdHlwZVxyXG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gcHJvcCkge1xyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSdyZSBvdmVyd3JpdGluZyBhbiBleGlzdGluZyBmdW5jdGlvblxyXG4gICAgICAgICAgICBwcm90b3R5cGVbbmFtZV0gPSB0eXBlb2YgcHJvcFtuYW1lXSA9PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIF9zdXBlcltuYW1lXSA9PSBcImZ1bmN0aW9uXCIgJiYgZm5UZXN0LnRlc3QocHJvcFtuYW1lXSkgPyBmdW5jdGlvbiAobmFtZSwgZm4pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy92YXIgdG1wX3N1cGVyY2xhc3MgPSB0aGlzLnN1cGVyY2xhc3M7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRtcCA9IHRoaXMuX3N1cGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBhIG5ldyAuX3N1cGVyKCkgbWV0aG9kIHRoYXQgaXMgdGhlIHNhbWUgbWV0aG9kXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYnV0IG9uIHRoZSBzdXBlci1jbGFzc1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N1cGVyID0gX3N1cGVyW25hbWVdO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcy5zdXBlcmNsYXNzPXN1cGVyQ3Rvci5iaW5kKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBtZXRob2Qgb25seSBuZWVkIHRvIGJlIGJvdW5kIHRlbXBvcmFyaWx5LCBzbyB3ZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBpdCB3aGVuIHdlJ3JlIGRvbmUgZXhlY3V0aW5nXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoKVxyXG4gICAgICAgICAgICAgICAgICAgIGZvcih2YXIgayBpbiBhcmd1bWVudHMpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzLnB1c2goYXJndW1lbnRzW2tdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldCA9IGZuLmFwcGx5KHRoaXMsYXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3VwZXIgPSB0bXA7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLnN1cGVyY2xhc3M9dG1wX3N1cGVyY2xhc3M7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0obmFtZSwgcHJvcFtuYW1lXSkgOiBwcm9wW25hbWVdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYmFzZUNsYXNzO1xyXG4gICAgfSgpO1xyXG59O1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdXRpbHMvaW5oZXJpdHMuanMiXSwic291cmNlUm9vdCI6IiJ9')},function(module,exports,__webpack_require__){eval('"use strict";\n\nvar extend = __webpack_require__(1);\n\nmodule.exports = extend(function () {}, {\n    ctor: function ctor(gameDiv) {\n        this.gameDiv = gameDiv;\n        this.proDOM = Phaser.DOM;\n        this.isMyLandscapeMode = false;\n        if (this.proDOM.getScreenOrientation() != "landscape-primary") {\n            //如果当前是竖屏 启动自定义横屏\n            this.setMyLandscapeMode(true, true);\n        } else {\n            this.refresh();\n        }\n        var BaseDOM = extend(function () {}, Phaser.DOM);\n\n        var MyDOM = extend(BaseDOM, {\n            getScreenOrientation: function getScreenOrientation() {\n                var orientation = this._super.apply(this, arguments);\n\n                if (document.documentElement.clientWidth !== this.proDocumentWidth || document.documentElement.clientHeight !== this.proDocumentHeight) {\n                    Phaser.myScaleManager.refresh(); //刷新界面宽高 非常有用\n\n                    this.proDocumentWidth = document.documentElement.clientWidth;\n                    this.proDocumentHeight = document.documentElement.clientHeight;\n                }\n\n                if (orientation != "landscape-primary") {\n                    //当前是竖屏\n                    if (!Phaser.myScaleManager.isMyLandscape()) {\n                        //未启动 自定义横屏\n                        Phaser.myScaleManager.setMyLandscapeMode(true, true);\n                    }\n                    return "landscape-primary";\n                } else {\n                    //切换到横屏模式\n                    if (Phaser.myScaleManager.isMyLandscape()) {\n                        //关闭自定义横屏模式\n                        Phaser.myScaleManager.setMyLandscapeMode(false, true);\n                    }\n                    return orientation;\n                }\n            },\n            getOffset: function getOffset() {\n                var rel = this._super.apply(this, arguments);\n                //console.log(rel);\n                return rel;\n            },\n            getBounds: function getBounds() {\n                var rel = this._super.apply(this, arguments);\n                //console.log(rel);\n                return rel;\n            },\n            calibrate: function calibrate() {\n                var rel = this._super.apply(this, arguments);\n                //console.log(rel);\n                return rel;\n            },\n            getAspectRatio: function getAspectRatio() {\n                var rel = this._super.apply(this, arguments);\n                //console.log(rel);\n                return rel;\n            },\n            inLayoutViewport: function inLayoutViewport() {\n                var rel = this._super.apply(this, arguments);\n                //console.log(rel);\n                return rel;\n            }\n        });\n        Phaser.DOM = new MyDOM();\n\n        var _startPointer = Phaser.Input.prototype.startPointer;\n        Phaser.Input.prototype.startPointer = function (event) {\n            return _startPointer.call(this, this.copyEvent(event));\n        };\n        var _updatePointer = Phaser.Input.prototype.updatePointer;\n        Phaser.Input.prototype.updatePointer = function (event) {\n            return _updatePointer.call(this, this.copyEvent(event));\n        };\n        var _stopPointer = Phaser.Input.prototype.stopPointer;\n        Phaser.Input.prototype.stopPointer = function (event) {\n            return _stopPointer.call(this, this.copyEvent(event));\n        };\n        Phaser.Input.prototype.copyEvent = function (event) {\n            if (!Phaser.myScaleManager.isMyLandscape()) {\n                //未启动 自定义横屏\n                return event;\n            }\n            var target = event.target;\n            //console.log(event);\n            var myevent = this.extendCopy(event);\n\n            var _cx = myevent.clientX;\n            var _cy = myevent.clientY;\n            var _px = myevent.pageX;\n            var _py = myevent.pageY;\n            var _sx = myevent.screenX;\n            var _sy = myevent.screenY;\n            myevent.clientX = _cy;\n            myevent.clientY = target.clientHeight - _cx;\n            myevent.pageX = _py;\n            myevent.pageY = target.clientHeight - _px;\n            //myevent.rotationAngle=Math.PI/2;\n            return myevent;\n        };\n        Phaser.Input.prototype.extendCopy = function (p) {\n            var c = {};\n            for (var i in p) {\n                c[i] = p[i];\n            }\n            c.uber = p;\n            return c;\n        };\n\n        var _getParentBounds = Phaser.ScaleManager.prototype.getParentBounds;\n        Phaser.ScaleManager.prototype.getParentBounds = function () {\n            var rel = _getParentBounds.apply(this, arguments);\n            var _width = rel.width;\n            var _height = rel.height;\n            if (Phaser.myScaleManager.isMyLandscape()) {\n                rel.width = _height;\n                rel.height = _width;\n            }\n            return rel;\n        };\n    },\n    boot: function boot(game) {\n        this.game = game;\n    },\n    refresh: function refresh() {\n\n        document.body.style.width = document.documentElement.clientWidth + "px";\n        document.body.style.height = document.documentElement.clientHeight + "px";\n\n        if (document.documentElement.clientHeight >= document.documentElement.clientWidth) {\n            //竖屏\n            this.gameDiv.style.height = document.body.clientWidth + "px";\n            this.gameDiv.style.width = document.body.clientHeight + "px";\n            this.gameDiv.style.transform = "rotate(90deg)";\n            this.gameDiv.style.left = -(document.documentElement.clientHeight - document.documentElement.clientWidth) / 2 + "px";\n        } else {\n            //横屏\n            this.gameDiv.style.width = document.body.clientWidth + "px";\n            this.gameDiv.style.height = document.body.clientHeight + "px";\n            this.gameDiv.style.transform = "";\n            this.gameDiv.style.left = "";\n        }\n\n        this.wMax = 1280;\n        this.hScale = 1;\n        this.hTrim = 0;\n        this.vScale = 1;\n        this.vTrim = 0;\n        this.height = this.gameDiv.clientHeight;\n        this.width = this.gameDiv.clientWidth;\n        this.scale = 1;\n        if (this.width > this.wMax) {\n            this.scale = this.width / this.wMax;\n        }\n        if (this.scale < 1) {\n            this.scale = 1;\n        }\n        //console.log("scale: "+scale);\n        this.width = this.width / this.scale;\n        this.height = this.height / this.scale;\n        this.hScale = this.scale;\n        this.vScale = this.scale;\n        if (this.game && this.game.scale) {\n            if (this.game.scale.scaleMode === Phaser.ScaleManager.USER_SCALE) {\n                this.game.scale.setUserScale(this.hScale, this.vScale, this.hTrim, this.vTrim);\n            }\n        }\n    },\n    setMyLandscapeMode: function setMyLandscapeMode(setTo, refresh) {\n        refresh = refresh || false;\n        this.isMyLandscapeMode = setTo;\n        if (refresh) {\n            this.refresh();\n        }\n    },\n    isMyLandscape: function isMyLandscape() {\n        return this.isMyLandscapeMode;\n    }\n\n});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvTXlTY2FsZU1hbmFnZXIuanM/ODYxNyJdLCJuYW1lcyI6WyJleHRlbmQiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImN0b3IiLCJnYW1lRGl2IiwicHJvRE9NIiwiUGhhc2VyIiwiRE9NIiwiaXNNeUxhbmRzY2FwZU1vZGUiLCJnZXRTY3JlZW5PcmllbnRhdGlvbiIsInNldE15TGFuZHNjYXBlTW9kZSIsInJlZnJlc2giLCJCYXNlRE9NIiwiTXlET00iLCJvcmllbnRhdGlvbiIsIl9zdXBlciIsImFwcGx5IiwiYXJndW1lbnRzIiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRXaWR0aCIsInByb0RvY3VtZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJwcm9Eb2N1bWVudEhlaWdodCIsIm15U2NhbGVNYW5hZ2VyIiwiaXNNeUxhbmRzY2FwZSIsImdldE9mZnNldCIsInJlbCIsImdldEJvdW5kcyIsImNhbGlicmF0ZSIsImdldEFzcGVjdFJhdGlvIiwiaW5MYXlvdXRWaWV3cG9ydCIsIl9zdGFydFBvaW50ZXIiLCJJbnB1dCIsInByb3RvdHlwZSIsInN0YXJ0UG9pbnRlciIsImV2ZW50IiwiY2FsbCIsImNvcHlFdmVudCIsIl91cGRhdGVQb2ludGVyIiwidXBkYXRlUG9pbnRlciIsIl9zdG9wUG9pbnRlciIsInN0b3BQb2ludGVyIiwidGFyZ2V0IiwibXlldmVudCIsImV4dGVuZENvcHkiLCJfY3giLCJjbGllbnRYIiwiX2N5IiwiY2xpZW50WSIsIl9weCIsInBhZ2VYIiwiX3B5IiwicGFnZVkiLCJfc3giLCJzY3JlZW5YIiwiX3N5Iiwic2NyZWVuWSIsInAiLCJjIiwiaSIsInViZXIiLCJfZ2V0UGFyZW50Qm91bmRzIiwiU2NhbGVNYW5hZ2VyIiwiZ2V0UGFyZW50Qm91bmRzIiwiX3dpZHRoIiwid2lkdGgiLCJfaGVpZ2h0IiwiaGVpZ2h0IiwiYm9vdCIsImdhbWUiLCJib2R5Iiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJsZWZ0Iiwid01heCIsImhTY2FsZSIsImhUcmltIiwidlNjYWxlIiwidlRyaW0iLCJzY2FsZSIsInNjYWxlTW9kZSIsIlVTRVJfU0NBTEUiLCJzZXRVc2VyU2NhbGUiLCJzZXRUbyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0EsSUFBSUEsU0FBUyxtQkFBQUMsQ0FBUSxDQUFSLENBQWI7O0FBRUFDLE9BQU9DLE9BQVAsR0FBaUJILE9BQU8sWUFBWSxDQUFFLENBQXJCLEVBQXVCO0FBQ3BDSSxVQUFNLFNBQVNBLElBQVQsQ0FBY0MsT0FBZCxFQUF1QjtBQUN6QixhQUFLQSxPQUFMLEdBQWVBLE9BQWY7QUFDQSxhQUFLQyxNQUFMLEdBQWNDLE9BQU9DLEdBQXJCO0FBQ0EsYUFBS0MsaUJBQUwsR0FBeUIsS0FBekI7QUFDQSxZQUFJLEtBQUtILE1BQUwsQ0FBWUksb0JBQVosTUFBc0MsbUJBQTFDLEVBQStEO0FBQzNEO0FBQ0EsaUJBQUtDLGtCQUFMLENBQXdCLElBQXhCLEVBQThCLElBQTlCO0FBQ0gsU0FIRCxNQUdPO0FBQ0gsaUJBQUtDLE9BQUw7QUFDSDtBQUNELFlBQUlDLFVBQVViLE9BQU8sWUFBWSxDQUFFLENBQXJCLEVBQXVCTyxPQUFPQyxHQUE5QixDQUFkOztBQUVBLFlBQUlNLFFBQVFkLE9BQU9hLE9BQVAsRUFBZ0I7QUFDeEJILGtDQUFzQixTQUFTQSxvQkFBVCxHQUFnQztBQUNsRCxvQkFBSUssY0FBYyxLQUFLQyxNQUFMLENBQVlDLEtBQVosQ0FBa0IsSUFBbEIsRUFBd0JDLFNBQXhCLENBQWxCOztBQUVBLG9CQUFJQyxTQUFTQyxlQUFULENBQXlCQyxXQUF6QixLQUF5QyxLQUFLQyxnQkFBOUMsSUFBa0VILFNBQVNDLGVBQVQsQ0FBeUJHLFlBQXpCLEtBQTBDLEtBQUtDLGlCQUFySCxFQUF3STtBQUNwSWpCLDJCQUFPa0IsY0FBUCxDQUFzQmIsT0FBdEIsR0FEb0ksQ0FDbkc7O0FBRWpDLHlCQUFLVSxnQkFBTCxHQUF3QkgsU0FBU0MsZUFBVCxDQUF5QkMs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R0FBYSxLQUFLYyxLQUEvQjtBQUNBLGFBQUtaLE1BQUwsR0FBYyxLQUFLQSxNQUFMLEdBQWMsS0FBS1ksS0FBakM7QUFDQSxhQUFLSixNQUFMLEdBQWMsS0FBS0ksS0FBbkI7QUFDQSxhQUFLRixNQUFMLEdBQWMsS0FBS0UsS0FBbkI7QUFDQSxZQUFJLEtBQUtWLElBQUwsSUFBYSxLQUFLQSxJQUFMLENBQVVVLEtBQTNCLEVBQWtDO0FBQzlCLGdCQUFJLEtBQUtWLElBQUwsQ0FBVVUsS0FBVixDQUFnQkMsU0FBaEIsS0FBOEIzRSxPQUFPeUQsWUFBUCxDQUFvQm1CLFVBQXRELEVBQWtFO0FBQzlELHFCQUFLWixJQUFMLENBQVVVLEtBQVYsQ0FBZ0JHLFlBQWhCLENBQTZCLEtBQUtQLE1BQWxDLEVBQTBDLEtBQUtFLE1BQS9DLEVBQXVELEtBQUtELEtBQTVELEVBQW1FLEtBQUtFLEtBQXhFO0FBQ0g7QUFDSjtBQUNKLEtBekttQztBQTBLcENyRSx3QkFBb0IsU0FBU0Esa0JBQVQsQ0FBNEIwRSxLQUE1QixFQUFtQ3pFLE9BQW5DLEVBQTRDO0FBQzVEQSxrQkFBVUEsV0FBVyxLQUFyQjtBQUNBLGFBQUtILGlCQUFMLEdBQXlCNEUsS0FBekI7QUFDQSxZQUFJekUsT0FBSixFQUFhO0FBQ1QsaUJBQUtBLE9BQUw7QUFDSDtBQUNKLEtBaExtQztBQWlMcENjLG1CQUFlLFNBQVNBLGFBQVQsR0FBeUI7QUFDcEMsZUFBTyxLQUFLakIsaUJBQVo7QUFDSDs7QUFuTG1DLENBQXZCLENBQWpCIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxudmFyIGV4dGVuZCA9IHJlcXVpcmUoJy4vaW5oZXJpdHMuanMnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZXh0ZW5kKGZ1bmN0aW9uICgpIHt9LCB7XHJcbiAgICBjdG9yOiBmdW5jdGlvbiBjdG9yKGdhbWVEaXYpIHtcclxuICAgICAgICB0aGlzLmdhbWVEaXYgPSBnYW1lRGl2O1xyXG4gICAgICAgIHRoaXMucHJvRE9NID0gUGhhc2VyLkRPTTtcclxuICAgICAgICB0aGlzLmlzTXlMYW5kc2NhcGVNb2RlID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvRE9NLmdldFNjcmVlbk9yaWVudGF0aW9uKCkgIT0gXCJsYW5kc2NhcGUtcHJpbWFyeVwiKSB7XHJcbiAgICAgICAgICAgIC8v5aaC5p6c5b2T5YmN5piv56uW5bGPIOWQr+WKqOiHquWumuS5ieaoquWxj1xyXG4gICAgICAgICAgICB0aGlzLnNldE15TGFuZHNjYXBlTW9kZSh0cnVlLCB0cnVlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIEJhc2VET00gPSBleHRlbmQoZnVuY3Rpb24gKCkge30sIFBoYXNlci5ET00pO1xyXG5cclxuICAgICAgICB2YXIgTXlET00gPSBleHRlbmQoQmFzZURPTSwge1xyXG4gICAgICAgICAgICBnZXRTY3JlZW5PcmllbnRhdGlvbjogZnVuY3Rpb24gZ2V0U2NyZWVuT3JpZW50YXRpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3JpZW50YXRpb24gPSB0aGlzLl9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggIT09IHRoaXMucHJvRG9jdW1lbnRXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0ICE9PSB0aGlzLnByb0RvY3VtZW50SGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUGhhc2VyLm15U2NhbGVNYW5hZ2VyLnJlZnJlc2goKTsgLy/liLfmlrDnlYzpnaLlrr3pq5gg6Z2e5bi45pyJ55SoXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvRG9jdW1lbnRXaWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb0RvY3VtZW50SGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAob3JpZW50YXRpb24gIT0gXCJsYW5kc2NhcGUtcHJpbWFyeVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy/lvZPliY3mmK/nq5blsY9cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIVBoYXNlci5teVNjYWxlTWFuYWdlci5pc015TGFuZHNjYXBlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/mnKrlkK/liqgg6Ieq5a6a5LmJ5qiq5bGPXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFBoYXNlci5teVNjYWxlTWFuYWdlci5zZXRNeUxhbmRzY2FwZU1vZGUodHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImxhbmRzY2FwZS1wcmltYXJ5XCI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8v5YiH5o2i5Yiw5qiq5bGP5qih5byPXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBoYXNlci5teVNjYWxlTWFuYWdlci5pc015TGFuZHNjYXBlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/lhbPpl63oh6rlrprkuYnmqKrlsY/mqKHlvI9cclxuICAgICAgICAgICAgICAgICAgICAgICAgUGhhc2VyLm15U2NhbGVNYW5hZ2VyLnNldE15TGFuZHNjYXBlTW9kZShmYWxzZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvcmllbnRhdGlvbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0T2Zmc2V0OiBmdW5jdGlvbiBnZXRPZmZzZXQoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVsID0gdGhpcy5fc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2cocmVsKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZWw7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldEJvdW5kczogZnVuY3Rpb24gZ2V0Qm91bmRzKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlbCA9IHRoaXMuX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlbCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVsO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjYWxpYnJhdGU6IGZ1bmN0aW9uIGNhbGlicmF0ZSgpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZWwgPSB0aGlzLl9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhyZWwpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlbDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0QXNwZWN0UmF0aW86IGZ1bmN0aW9uIGdldEFzcGVjdFJhdGlvKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlbCA9IHRoaXMuX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlbCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVsO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpbkxheW91dFZpZXdwb3J0OiBmdW5jdGlvbiBpbkxheW91dFZpZXdwb3J0KCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlbCA9IHRoaXMuX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlbCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgUGhhc2VyLkRPTSA9IG5ldyBNeURPTSgpO1xyXG5cclxuICAgICAgICB2YXIgX3N0YXJ0UG9pbnRlciA9IFBoYXNlci5JbnB1dC5wcm90b3R5cGUuc3RhcnRQb2ludGVyO1xyXG4gICAgICAgIFBoYXNlci5JbnB1dC5wcm90b3R5cGUuc3RhcnRQb2ludGVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfc3RhcnRQb2ludGVyLmNhbGwodGhpcywgdGhpcy5jb3B5RXZlbnQoZXZlbnQpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBfdXBkYXRlUG9pbnRlciA9IFBoYXNlci5JbnB1dC5wcm90b3R5cGUudXBkYXRlUG9pbnRlcjtcclxuICAgICAgICBQaGFzZXIuSW5wdXQucHJvdG90eXBlLnVwZGF0ZVBvaW50ZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF91cGRhdGVQb2ludGVyLmNhbGwodGhpcywgdGhpcy5jb3B5RXZlbnQoZXZlbnQpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBfc3RvcFBvaW50ZXIgPSBQaGFzZXIuSW5wdXQucHJvdG90eXBlLnN0b3BQb2ludGVyO1xyXG4gICAgICAgIFBoYXNlci5JbnB1dC5wcm90b3R5cGUuc3RvcFBvaW50ZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9zdG9wUG9pbnRlci5jYWxsKHRoaXMsIHRoaXMuY29weUV2ZW50KGV2ZW50KSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBQaGFzZXIuSW5wdXQucHJvdG90eXBlLmNvcHlFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBpZiAoIVBoYXNlci5teVNjYWxlTWFuYWdlci5pc015TGFuZHNjYXBlKCkpIHtcclxuICAgICAgICAgICAgICAgIC8v5pyq5ZCv5YqoIOiHquWumuS5ieaoquWxj1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coZXZlbnQpO1xyXG4gICAgICAgICAgICB2YXIgbXlldmVudCA9IHRoaXMuZXh0ZW5kQ29weShldmVudCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgX2N4ID0gbXlldmVudC5jbGllbnRYO1xyXG4gICAgICAgICAgICB2YXIgX2N5ID0gbXlldmVudC5jbGllbnRZO1xyXG4gICAgICAgICAgICB2YXIgX3B4ID0gbXlldmVudC5wYWdlWDtcclxuICAgICAgICAgICAgdmFyIF9weSA9IG15ZXZlbnQucGFnZVk7XHJcbiAgICAgICAgICAgIHZhciBfc3ggPSBteWV2ZW50LnNjcmVlblg7XHJcbiAgICAgICAgICAgIHZhciBfc3kgPSBteWV2ZW50LnNjcmVlblk7XHJcbiAgICAgICAgICAgIG15ZXZlbnQuY2xpZW50WCA9IF9jeTtcclxuICAgICAgICAgICAgbXlldmVudC5jbGllbnRZID0gdGFyZ2V0LmNsaWVudEhlaWdodCAtIF9jeDtcclxuICAgICAgICAgICAgbXlldmVudC5wYWdlWCA9IF9weTtcclxuICAgICAgICAgICAgbXlldmVudC5wYWdlWSA9IHRhcmdldC5jbGllbnRIZWlnaHQgLSBfcHg7XHJcbiAgICAgICAgICAgIC8vbXlldmVudC5yb3RhdGlvbkFuZ2xlPU1hdGguUEkvMjtcclxuICAgICAgICAgICAgcmV0dXJuIG15ZXZlbnQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBQaGFzZXIuSW5wdXQucHJvdG90eXBlLmV4dGVuZENvcHkgPSBmdW5jdGlvbiAocCkge1xyXG4gICAgICAgICAgICB2YXIgYyA9IHt9O1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIHApIHtcclxuICAgICAgICAgICAgICAgIGNbaV0gPSBwW2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGMudWJlciA9IHA7XHJcbiAgICAgICAgICAgIHJldHVybiBjO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBfZ2V0UGFyZW50Qm91bmRzID0gUGhhc2VyLlNjYWxlTWFuYWdlci5wcm90b3R5cGUuZ2V0UGFyZW50Qm91bmRzO1xyXG4gICAgICAgIFBoYXNlci5TY2FsZU1hbmFnZXIucHJvdG90eXBlLmdldFBhcmVudEJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHJlbCA9IF9nZXRQYXJlbnRCb3VuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgdmFyIF93aWR0aCA9IHJlbC53aWR0aDtcclxuICAgICAgICAgICAgdmFyIF9oZWlnaHQgPSByZWwuaGVpZ2h0O1xyXG4gICAgICAgICAgICBpZiAoUGhhc2VyLm15U2NhbGVNYW5hZ2VyLmlzTXlMYW5kc2NhcGUoKSkge1xyXG4gICAgICAgICAgICAgICAgcmVsLndpZHRoID0gX2hlaWdodDtcclxuICAgICAgICAgICAgICAgIHJlbC5oZWlnaHQgPSBfd2lkdGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlbDtcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGJvb3Q6IGZ1bmN0aW9uIGJvb3QoZ2FtZSkge1xyXG4gICAgICAgIHRoaXMuZ2FtZSA9IGdhbWU7XHJcbiAgICB9LFxyXG4gICAgcmVmcmVzaDogZnVuY3Rpb24gcmVmcmVzaCgpIHtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS53aWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCArIFwicHhcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgKyBcInB4XCI7XHJcblxyXG4gICAgICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0ID49IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCkge1xyXG4gICAgICAgICAgICAvL+erluWxj1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVEaXYuc3R5bGUuaGVpZ2h0ID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCArIFwicHhcIjtcclxuICAgICAgICAgICAgdGhpcy5nYW1lRGl2LnN0eWxlLndpZHRoID0gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQgKyBcInB4XCI7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZURpdi5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZSg5MGRlZylcIjtcclxuICAgICAgICAgICAgdGhpcy5nYW1lRGl2LnN0eWxlLmxlZnQgPSAtKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgLSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpIC8gMiArIFwicHhcIjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvL+aoquWxj1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVEaXYuc3R5bGUud2lkdGggPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoICsgXCJweFwiO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVEaXYuc3R5bGUuaGVpZ2h0ID0gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQgKyBcInB4XCI7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZURpdi5zdHlsZS50cmFuc2Zvcm0gPSBcIlwiO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVEaXYuc3R5bGUubGVmdCA9IFwiXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLndNYXggPSAxMjgwO1xyXG4gICAgICAgIHRoaXMuaFNjYWxlID0gMTtcclxuICAgICAgICB0aGlzLmhUcmltID0gMDtcclxuICAgICAgICB0aGlzLnZTY2FsZSA9IDE7XHJcbiAgICAgICAgdGhpcy52VHJpbSA9IDA7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmdhbWVEaXYuY2xpZW50SGVpZ2h0O1xyXG4gICAgICAgIHRoaXMud2lkdGggPSB0aGlzLmdhbWVEaXYuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgdGhpcy5zY2FsZSA9IDE7XHJcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPiB0aGlzLndNYXgpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2FsZSA9IHRoaXMud2lkdGggLyB0aGlzLndNYXg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnNjYWxlIDwgMSkge1xyXG4gICAgICAgICAgICB0aGlzLnNjYWxlID0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcInNjYWxlOiBcIitzY2FsZSk7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMud2lkdGggLyB0aGlzLnNjYWxlO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgLyB0aGlzLnNjYWxlO1xyXG4gICAgICAgIHRoaXMuaFNjYWxlID0gdGhpcy5zY2FsZTtcclxuICAgICAgICB0aGlzLnZTY2FsZSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZSAmJiB0aGlzLmdhbWUuc2NhbGUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZS5zY2FsZS5zY2FsZU1vZGUgPT09IFBoYXNlci5TY2FsZU1hbmFnZXIuVVNFUl9TQ0FMRSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lLnNjYWxlLnNldFVzZXJTY2FsZSh0aGlzLmhTY2FsZSwgdGhpcy52U2NhbGUsIHRoaXMuaFRyaW0sIHRoaXMudlRyaW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNldE15TGFuZHNjYXBlTW9kZTogZnVuY3Rpb24gc2V0TXlMYW5kc2NhcGVNb2RlKHNldFRvLCByZWZyZXNoKSB7XHJcbiAgICAgICAgcmVmcmVzaCA9IHJlZnJlc2ggfHwgZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pc015TGFuZHNjYXBlTW9kZSA9IHNldFRvO1xyXG4gICAgICAgIGlmIChyZWZyZXNoKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBpc015TGFuZHNjYXBlOiBmdW5jdGlvbiBpc015TGFuZHNjYXBlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzTXlMYW5kc2NhcGVNb2RlO1xyXG4gICAgfVxyXG5cclxufSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3V0aWxzL015U2NhbGVNYW5hZ2VyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==');
},function(module,exports,__webpack_require__){eval('\'use strict\';\n\nvar MainMenuState = __webpack_require__(4);\n\nmodule.exports = {\n\tpreload: function () {\n\t\tthis.game.load.image("compass", "static/assets/touch1.png");\n\t\tthis.game.load.image("touch", "static/assets/touch2.png");\n\t},\n\tcreate: function () {\n\t\tthis.server = window.Client;\n\t\tthis.login();\n\t},\n\tlogin: function (guid, pwd) {\n\t\tvar self = this;\n\t\ttry {\n\t\t\tvar host = window.location.hostname;\n\t\t\tif (host == "") {\n\t\t\t\thost = "127.0.0.1";\n\t\t\t}\n\t\t\tthis.server.connect({\n\t\t\t\thost: host,\n\t\t\t\tport: 23456,\n\t\t\t\tonConnect: function () {\n\t\t\t\t\t//alert("游戏连接成功!");\n\t\t\t\t\tself.server.requestNR("", "login", ["guid", "md5"]);\n\t\t\t\t\tself.server.request("", "phaserLogin", [], function (nick, lv) {\n\t\t\t\t\t\tself.game.state.add("MainMenuState", new MainMenuState(nick, lv), false);\n\t\t\t\t\t\tself.state.start("MainMenuState");\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tonClose: function () {\n\t\t\t\t\tconsole.log("closed.");\n\t\t\t\t},\n\t\t\t\tonError: function (e) {\n\t\t\t\t\tconsole.log(e);\n\t\t\t\t}\n\t\t\t});\n\t\t} catch (e) {\n\t\t\talert(e);\n\t\t}\n\t}\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3RhdGVzL0Jvb3RTdGF0ZS5qcz9hNWE1Il0sIm5hbWVzIjpbIk1haW5NZW51U3RhdGUiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsInByZWxvYWQiLCJnYW1lIiwibG9hZCIsImltYWdlIiwiY3JlYXRlIiwic2VydmVyIiwid2luZG93IiwiQ2xpZW50IiwibG9naW4iLCJndWlkIiwicHdkIiwic2VsZiIsImhvc3QiLCJsb2NhdGlvbiIsImhvc3RuYW1lIiwiY29ubmVjdCIsInBvcnQiLCJvbkNvbm5lY3QiLCJyZXF1ZXN0TlIiLCJyZXF1ZXN0IiwibmljayIsImx2Iiwic3RhdGUiLCJhZGQiLCJzdGFydCIsIm9uQ2xvc2UiLCJjb25zb2xlIiwibG9nIiwib25FcnJvciIsImUiLCJhbGVydCJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0EsSUFBSUEsZ0JBQWdCLG1CQUFBQyxDQUFRLENBQVIsQ0FBcEI7O0FBRUFDLE9BQU9DLE9BQVAsR0FBaUI7QUFDaEJDLFVBQVMsWUFBVztBQUNuQixPQUFLQyxJQUFMLENBQVVDLElBQVYsQ0FBZUMsS0FBZixDQUFxQixTQUFyQixFQUFnQywwQkFBaEM7QUFDQSxPQUFLRixJQUFMLENBQVVDLElBQVYsQ0FBZUMsS0FBZixDQUFxQixPQUFyQixFQUE4QiwwQkFBOUI7QUFDQSxFQUplO0FBS2hCQyxTQUFRLFlBQVc7QUFDbEIsT0FBS0MsTUFBTCxHQUFjQyxPQUFPQyxNQUFyQjtBQUNBLE9BQUtDLEtBQUw7QUFDQSxFQVJlO0FBU2hCQSxRQUFPLFVBQVNDLElBQVQsRUFBZUMsR0FBZixFQUFvQjtBQUMxQixNQUFJQyxPQUFPLElBQVg7QUFDQSxNQUFHO0FBQ0YsT0FBSUMsT0FBT04sT0FBT08sUUFBUCxDQUFnQkMsUUFBM0I7QUFDQSxPQUFJRixRQUFRLEVBQVosRUFDQTtBQUNDQSxXQUFPLFdBQVA7QUFDQTtBQUNELFFBQUtQLE1BQUwsQ0FBWVUsT0FBWixDQUFvQjtBQUNuQkgsVUFBTUEsSUFEYTtBQUVuQkksVUFBTSxLQUZhO0FBR25CQyxlQUFXLFlBQVc7QUFDckI7QUFDQU4sVUFBS04sTUFBTCxDQUFZYSxTQUFaLENBQXNCLEVBQXRCLEVBQTBCLE9BQTFCLEVBQW1DLENBQUMsTUFBRCxFQUFTLEtBQVQsQ0FBbkM7QUFDQVAsVUFBS04sTUFBTCxDQUFZYyxPQUFaLENBQW9CLEVBQXBCLEVBQXdCLGFBQXhCLEVBQXVDLEVBQXZDLEVBQTJDLFVBQVNDLElBQVQsRUFBZUMsRUFBZixFQUFrQjtBQUM1RFYsV0FBS1YsSUFBTCxDQUFVcUIsS0FBVixDQUFnQkMsR0FBaEIsQ0FBb0IsZUFBcEIsRUFBcUMsSUFBSTNCLGFBQUosQ0FBa0J3QixJQUFsQixFQUF3QkMsRUFBeEIsQ0FBckMsRUFBa0UsS0FBbEU7QUFDQVYsV0FBS1csS0FBTCxDQUFXRSxLQUFYLENBQWlCLGVBQWpCO0FBQ0EsTUFIRDtBQUlBLEtBVmtCO0FBV25CQyxhQUFTLFlBQVc7QUFDbkJDLGFBQVFDLEdBQVIsQ0FBWSxTQUFaO0FBQ0EsS0Fia0I7QUFjbkJDLGFBQVMsVUFBU0MsQ0FBVCxFQUFZO0FBQ3BCSCxhQUFRQyxHQUFSLENBQVlFLENBQVo7QUFDQTtBQWhCa0IsSUFBcEI7QUFrQkEsR0F4QkQsQ0F3QkMsT0FBT0EsQ0FBUCxFQUFTO0FBQ1RDLFNBQU1ELENBQU47QUFDQTtBQUNFO0FBdENZLENBQWpCIiwiZmlsZSI6IjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcbnZhciBNYWluTWVudVN0YXRlID0gcmVxdWlyZSgnLi9NYWluTWVudVN0YXRlLmpzJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuXHRwcmVsb2FkOiBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMuZ2FtZS5sb2FkLmltYWdlKFwiY29tcGFzc1wiLCBcInN0YXRpYy9hc3NldHMvdG91Y2gxLnBuZ1wiKTtcclxuXHRcdHRoaXMuZ2FtZS5sb2FkLmltYWdlKFwidG91Y2hcIiwgXCJzdGF0aWMvYXNzZXRzL3RvdWNoMi5wbmdcIik7XHJcblx0fSxcclxuXHRjcmVhdGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5zZXJ2ZXIgPSB3aW5kb3cuQ2xpZW50O1xyXG5cdFx0dGhpcy5sb2dpbigpO1xyXG5cdH0sXHJcblx0bG9naW46IGZ1bmN0aW9uKGd1aWQsIHB3ZCkge1xyXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0dHJ5e1xyXG5cdFx0XHR2YXIgaG9zdCA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTtcclxuXHRcdFx0aWYgKGhvc3QgPT0gXCJcIilcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGhvc3QgPSBcIjEyNy4wLjAuMVwiO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMuc2VydmVyLmNvbm5lY3Qoe1xyXG5cdFx0XHRcdGhvc3Q6IGhvc3QsXHJcblx0XHRcdFx0cG9ydDogMjM0NTYsXHJcblx0XHRcdFx0b25Db25uZWN0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdC8vYWxlcnQoXCLmuLjmiI/ov57mjqXmiJDlip8hXCIpO1xyXG5cdFx0XHRcdFx0c2VsZi5zZXJ2ZXIucmVxdWVzdE5SKFwiXCIsIFwibG9naW5cIiwgW1wiZ3VpZFwiLCBcIm1kNVwiXSk7XHJcblx0XHRcdFx0XHRzZWxmLnNlcnZlci5yZXF1ZXN0KFwiXCIsIFwicGhhc2VyTG9naW5cIiwgW10sIGZ1bmN0aW9uKG5pY2ssIGx2KXtcclxuXHRcdFx0XHRcdFx0c2VsZi5nYW1lLnN0YXRlLmFkZChcIk1haW5NZW51U3RhdGVcIiwgbmV3IE1haW5NZW51U3RhdGUobmljaywgbHYpLCBmYWxzZSk7XHJcblx0XHRcdFx0XHRcdHNlbGYuc3RhdGUuc3RhcnQoXCJNYWluTWVudVN0YXRlXCIpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRvbkNsb3NlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiY2xvc2VkLlwiKTtcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdG9uRXJyb3I6IGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9Y2F0Y2ggKGUpe1xyXG5cdFx0XHRhbGVydChlKTtcclxuXHRcdH1cclxuICAgIH0sXHJcbn07XHJcblxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc3RhdGVzL0Jvb3RTdGF0ZS5qcyJdLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports,__webpack_require__){eval('"use strict";\n\nvar extend = __webpack_require__(1);\nvar GameState = __webpack_require__(5);\n\nmodule.exports = extend(function () {}, {\n\tctor: function (nick, lv) {\n\t\tthis.nick = nick;\n\t\tthis.lv = lv;\n\t},\n\tinit: function () {\n\t\tthis.physics.startSystem(Phaser.Physics.ARCADE);\n\t\tthis.game.stage.backgroundColor = "#DFDFDF";\n\t\tthis.game.time.desiredFps = 25;\n\t},\n\tpreload: function () {\n\t\tthis.game.load.image("bg", "static/assets/bg.jpg");\n\t},\n\tcreate: function () {\n\t\tthis.startGame();\n\t},\n\tstartGame: function () {\n\t\tthis.game.state.add("GameState", new GameState(this.nick, this.lv), false);\n\t\tthis.state.start("GameState");\n\t}\n});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3RhdGVzL01haW5NZW51U3RhdGUuanM/ZTkwMyJdLCJuYW1lcyI6WyJleHRlbmQiLCJyZXF1aXJlIiwiR2FtZVN0YXRlIiwibW9kdWxlIiwiZXhwb3J0cyIsImN0b3IiLCJuaWNrIiwibHYiLCJpbml0IiwicGh5c2ljcyIsInN0YXJ0U3lzdGVtIiwiUGhhc2VyIiwiUGh5c2ljcyIsIkFSQ0FERSIsImdhbWUiLCJzdGFnZSIsImJhY2tncm91bmRDb2xvciIsInRpbWUiLCJkZXNpcmVkRnBzIiwicHJlbG9hZCIsImxvYWQiLCJpbWFnZSIsImNyZWF0ZSIsInN0YXJ0R2FtZSIsInN0YXRlIiwiYWRkIiwic3RhcnQiXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBLElBQUlBLFNBQVMsbUJBQUFDLENBQVEsQ0FBUixDQUFiO0FBQ0EsSUFBSUMsWUFBWSxtQkFBQUQsQ0FBUSxDQUFSLENBQWhCOztBQUVBRSxPQUFPQyxPQUFQLEdBQWlCSixPQUFPLFlBQVksQ0FBRSxDQUFyQixFQUF1QjtBQUNwQ0ssT0FBTSxVQUFVQyxJQUFWLEVBQWdCQyxFQUFoQixFQUFvQjtBQUM1QixPQUFLRCxJQUFMLEdBQVlBLElBQVo7QUFDQSxPQUFLQyxFQUFMLEdBQVVBLEVBQVY7QUFDRyxFQUptQztBQUt2Q0MsT0FBTSxZQUFXO0FBQ2hCLE9BQUtDLE9BQUwsQ0FBYUMsV0FBYixDQUF5QkMsT0FBT0MsT0FBUCxDQUFlQyxNQUF4QztBQUNBLE9BQUtDLElBQUwsQ0FBVUMsS0FBVixDQUFnQkMsZUFBaEIsR0FBa0MsU0FBbEM7QUFDQSxPQUFLRixJQUFMLENBQVVHLElBQVYsQ0FBZUMsVUFBZixHQUE0QixFQUE1QjtBQUNBLEVBVHNDO0FBVXZDQyxVQUFTLFlBQVc7QUFDbkIsT0FBS0wsSUFBTCxDQUFVTSxJQUFWLENBQWVDLEtBQWYsQ0FBcUIsSUFBckIsRUFBMkIsc0JBQTNCO0FBQ0EsRUFac0M7QUFhdkNDLFNBQVEsWUFBVztBQUNsQixPQUFLQyxTQUFMO0FBQ0EsRUFmc0M7QUFnQnBDQSxZQUFXLFlBQVc7QUFDckIsT0FBS1QsSUFBTCxDQUFVVSxLQUFWLENBQWdCQyxHQUFoQixDQUFvQixXQUFwQixFQUFpQyxJQUFJdkIsU0FBSixDQUFjLEtBQUtJLElBQW5CLEVBQXlCLEtBQUtDLEVBQTlCLENBQWpDLEVBQW9FLEtBQXBFO0FBQ0gsT0FBS2lCLEtBQUwsQ0FBV0UsS0FBWCxDQUFpQixXQUFqQjtBQUNHO0FBbkJtQyxDQUF2QixDQUFqQiIsImZpbGUiOiI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBleHRlbmQgPSByZXF1aXJlKCcuLi91dGlscy9pbmhlcml0cy5qcycpO1xyXG52YXIgR2FtZVN0YXRlID0gcmVxdWlyZSgnLi9HYW1lU3RhdGUuanMnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZXh0ZW5kKGZ1bmN0aW9uICgpIHt9LCB7XHJcbiAgICBjdG9yOiBmdW5jdGlvbiAobmljaywgbHYpIHtcclxuXHRcdHRoaXMubmljayA9IG5pY2s7XHJcblx0XHR0aGlzLmx2ID0gbHY7XHJcbiAgICB9LFxyXG5cdGluaXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5waHlzaWNzLnN0YXJ0U3lzdGVtKFBoYXNlci5QaHlzaWNzLkFSQ0FERSk7XHJcblx0XHR0aGlzLmdhbWUuc3RhZ2UuYmFja2dyb3VuZENvbG9yID0gXCIjREZERkRGXCI7XHJcblx0XHR0aGlzLmdhbWUudGltZS5kZXNpcmVkRnBzID0gMjU7XHJcblx0fSxcclxuXHRwcmVsb2FkOiBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMuZ2FtZS5sb2FkLmltYWdlKFwiYmdcIiwgXCJzdGF0aWMvYXNzZXRzL2JnLmpwZ1wiKTtcclxuXHR9LFxyXG5cdGNyZWF0ZTogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLnN0YXJ0R2FtZSgpO1xyXG5cdH0sXHJcbiAgICBzdGFydEdhbWU6IGZ1bmN0aW9uKCkge1xyXG4gICAgXHR0aGlzLmdhbWUuc3RhdGUuYWRkKFwiR2FtZVN0YXRlXCIsIG5ldyBHYW1lU3RhdGUodGhpcy5uaWNrLCB0aGlzLmx2KSwgZmFsc2UpO1xyXG5cdFx0dGhpcy5zdGF0ZS5zdGFydChcIkdhbWVTdGF0ZVwiKTtcclxuICAgIH1cclxufSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3N0YXRlcy9NYWluTWVudVN0YXRlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports,__webpack_require__){eval('"use strict";\n\nvar extend = __webpack_require__(1);\nvar Hero = __webpack_require__(6);\n\nmodule.exports = extend(function () {}, {\n\tctor: function (nick, lv) {\n\t\tthis.nick = nick;\n\t\tthis.lv = lv;\n\t},\n\tinit: function () {\n\t\tthis.physics.startSystem(Phaser.Physics.ARCADE);\n\t\tthis.game.stage.backgroundColor = "#DFDFDF";\n\t\tthis.game.time.desiredFps = 25;\n\t\tthis.game.touchControl = this.game.plugins.add(Phaser.Plugin.TouchControl);\n\t\tthis.game.touchControl.settings.singleDirection = false;\n\t\tthis.game.touchControl.inputEnable();\n\t},\n\tpreload: function () {\n\t\tthis.game.load.image("arrow", "static/assets/arrow.png");\n\t\tthis.game.load.image("ball", "static/assets/ball.png");\n\t},\n\tcreate: function () {\n\t\tvar bgSprite = this.game.add.tileSprite(0, 0, 2 * this.game.world.width, 2 * this.game.world.height, "bg");\n\t\tbgSprite.autoScroll(-50, 50);\n\t\tthis.arrows = this.game.add.group(); //�Ӿ��۲���\n\t\tthis.heros = this.game.add.group();\n\t\tthis.names = this.game.add.group();\n\t\tthis.gicGroup = this.game.add.group();\n\t\tthis.gicBlood = this.game.add.graphics(0, 0, this.gicGroup); // ���Ѫ����\n\t\tthis.hero = this.joinHero({ x: 100, y: 100, lv: this.lv, nick: this.nick });\n\t\tthis.game.camera.deadzone = new Phaser.Rectangle(200, 200, this.game.stage.width - 200, this.game.stage.height - 200); //��ͷ���津������dead zone\n\t\tthis.game.camera.follow(this.hero);\n\t},\n\tjoinHero: function (role) {\n\t\tvar hero = new Hero(this.game, role.x, role.y, this.heros, {\n\t\t\tarrowsGroup: this.arrows,\n\t\t\tnamesGroup: this.names,\n\t\t\tlv: role.lv, // �ȼ�\n\t\t\tnick: role.nick, // ����ǳ�\n\t\t\thp: 800 // ��ǰ��Ѫ\n\t\t});\n\t\treturn hero;\n\t},\n\tupdateBlood: function (player) {\n\t\t// �̶Ȼ���\n\t\tvar blood = player.hp / 35;\n\t\tvar x = player.x - blood / 2;\n\t\tvar y = player.y - 30;\n\t\tvar deltaX = 5;\n\t\tif (player.hp > 0) {\n\t\t\tif (player.alpha == 0.3) {\n\t\t\t\tplayer.alpha = 1;\n\t\t\t}\n\t\t} else if (player.alpha == 1) {\n\t\t\t// ����Ч��\n\t\t\tplayer.alpha = 0.3;\n\t\t\tplayer.rotateCd = new Date().getTime() + 3000;\n\t\t}\n\t\tif (blood >= 0) {\n\t\t\tif (player.blood == 0 && blood > 0) {\n\t\t\t\t// ��ʼ��Ѫ��\n\t\t\t\tthis.game.add.tween(player).to({ blood: blood }, 500, "Linear", true);\n\t\t\t} else if (player.hp == player.lastHp) {\n\t\t\t\t// �����仯\n\t\t\t\tthis.hpChangeTag = false;\n\t\t\t} else if (this.hpChangeTag == false) {\n\t\t\t\t// �״α䶯ʱ��Ѫ����ʾ\n\t\t\t\tvar hpDelta = player.hp - player.lastHp;\n\t\t\t\tplayer.lastHp = player.hp;\n\t\t\t\tthis.hpChangeTag = true;\n\t\t\t\tif (this.hpTips != undefined) {\n\t\t\t\t\tthis.hpTips.kill();\n\t\t\t\t}\n\t\t\t\t// Ѫ���䶯����\n\t\t\t\tvar hpStr = hpDelta.toString();\n\t\t\t\tvar style = { font: "14px Arial", fill: "#ff0000", align: "center" };\n\t\t\t\tif (hpDelta > 0) {\n\t\t\t\t\thpStr = "+" + hpStr;\n\t\t\t\t\tstyle = { font: "14px Arial", fill: "#00ff00", align: "center" };\n\t\t\t\t}\n\t\t\t\tthis.hpTips = player.addChild(this.game.make.text(0, -10, hpStr, style));\n\t\t\t\tthis.hpTips.anchor.set(0.5);\n\t\t\t\tthis.hpTips.alpha = 0.1;\n\t\t\t\tthis.game.add.tween(this.hpTips).to({ alpha: 1, y: -50 }, 400, "Linear", true);\n\t\t\t\tthis.game.add.tween(player).to({ blood: blood }, 300, "Linear", true);\n\t\t\t}\n\t\t}\n\t\tif (this.hpTips != undefined && this.hpTips.alpha == 1) {\n\t\t\t// ��������Ч��\n\t\t\tthis.hpTips.kill();\n\t\t}\n\n\t\tvar gic = this.gicBlood;\n\t\tvar colorBlood = 0xFF0000; // �з���Ӫ\n\t\t// colorBlood = 0x00EE00; // ����Ӫ\n\t\tgic.beginFill(colorBlood, 0.7);\n\t\tgic.drawRoundedRect(x, y, player.blood, 7, 2);\n\t\tgic.beginFill(0x333333, 0.5);\n\t\t// Ѫ���̶�\n\t\tfor (var i = deltaX; i < player.blood; i += deltaX) {\n\t\t\tgic.drawRect(x + i, y, 1, 4);\n\t\t}\n\t},\n\tupdate: function () {\n\t\tthis.gicBlood.clear(); // ����������������к��ŵĶ�̬����Ч��\n\t\tthis.heros.forEachAlive(function (player) {\n\t\t\tplayer.Rotate();\n\t\t\tplayer.Move(); //�ƶ�\n\t\t\tthis.updateBlood(player);\n\t\t}, this);\n\t}\n});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3RhdGVzL0dhbWVTdGF0ZS5qcz83MWY3Il0sIm5hbWVzIjpbImV4dGVuZCIsInJlcXVpcmUiLCJIZXJvIiwibW9kdWxlIiwiZXhwb3J0cyIsImN0b3IiLCJuaWNrIiwibHYiLCJpbml0IiwicGh5c2ljcyIsInN0YXJ0U3lzdGVtIiwiUGhhc2VyIiwiUGh5c2ljcyIsIkFSQ0FERSIsImdhbWUiLCJzdGFnZSIsImJhY2tncm91bmRDb2xvciIsInRpbWUiLCJkZXNpcmVkRnBzIiwidG91Y2hDb250cm9sIiwicGx1Z2lucyIsImFkZCIsIlBsdWdpbiIsIlRvdWNoQ29udHJvbCIsInNldHRpbmdzIiwic2luZ2xlRGlyZWN0aW9uIiwiaW5wdXRFbmFibGUiLCJwcmVsb2FkIiwibG9hZCIsImltYWdlIiwiY3JlYXRlIiwiYmdTcHJpdGUiLCJ0aWxlU3ByaXRlIiwid29ybGQiLCJ3aWR0aCIsImhlaWdodCIsImF1dG9TY3JvbGwiLCJhcnJvd3MiLCJncm91cCIsImhlcm9zIiwibmFtZXMiLCJnaWNHcm91cCIsImdpY0Jsb29kIiwiZ3JhcGhpY3MiLCJoZXJvIiwiam9pbkhlcm8iLCJ4IiwieSIsImNhbWVyYSIsImRlYWR6b25lIiwiUmVjdGFuZ2xlIiwiZm9sbG93Iiwicm9sZSIsImFycm93c0dyb3VwIiwibmFtZXNHcm91cCIsImhwIiwidXBkYXRlQmxvb2QiLCJwbGF5ZXIiLCJibG9vZCIsImRlbHRhWCIsImFscGhhIiwicm90YXRlQ2QiLCJEYXRlIiwiZ2V0VGltZSIsInR3ZWVuIiwidG8iLCJsYXN0SHAiLCJocENoYW5nZVRhZyIsImhwRGVsdGEiLCJocFRpcHMiLCJ1bmRlZmluZWQiLCJraWxsIiwiaHBTdHIiLCJ0b1N0cmluZyIsInN0eWxlIiwiZm9udCIsImZpbGwiLCJhbGlnbiIsImFkZENoaWxkIiwibWFrZSIsInRleHQiLCJhbmNob3IiLCJzZXQiLCJnaWMiLCJjb2xvckJsb29kIiwiYmVnaW5GaWxsIiwiZHJhd1JvdW5kZWRSZWN0IiwiaSIsImRyYXdSZWN0IiwidXBkYXRlIiwiY2xlYXIiLCJmb3JFYWNoQWxpdmUiLCJSb3RhdGUiLCJNb3ZlIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQSxJQUFJQSxTQUFTLG1CQUFBQyxDQUFRLENBQVIsQ0FBYjtBQUNBLElBQUlDLE9BQU8sbUJBQUFELENBQVEsQ0FBUixDQUFYOztBQUVBRSxPQUFPQyxPQUFQLEdBQWlCSixPQUFPLFlBQVksQ0FBRSxDQUFyQixFQUF1QjtBQUN2Q0ssT0FBTSxVQUFVQyxJQUFWLEVBQWdCQyxFQUFoQixFQUFvQjtBQUN6QixPQUFLRCxJQUFMLEdBQVlBLElBQVo7QUFDQSxPQUFLQyxFQUFMLEdBQVVBLEVBQVY7QUFDQSxFQUpzQztBQUt2Q0MsT0FBTSxZQUFXO0FBQ2hCLE9BQUtDLE9BQUwsQ0FBYUMsV0FBYixDQUF5QkMsT0FBT0MsT0FBUCxDQUFlQyxNQUF4QztBQUNBLE9BQUtDLElBQUwsQ0FBVUMsS0FBVixDQUFnQkMsZUFBaEIsR0FBa0MsU0FBbEM7QUFDQSxPQUFLRixJQUFMLENBQVVHLElBQVYsQ0FBZUMsVUFBZixHQUE0QixFQUE1QjtBQUNBLE9BQUtKLElBQUwsQ0FBVUssWUFBVixHQUF5QixLQUFLTCxJQUFMLENBQVVNLE9BQVYsQ0FBa0JDLEdBQWxCLENBQXNCVixPQUFPVyxNQUFQLENBQWNDLFlBQXBDLENBQXpCO0FBQ0EsT0FBS1QsSUFBTCxDQUFVSyxZQUFWLENBQXVCSyxRQUF2QixDQUFnQ0MsZUFBaEMsR0FBa0QsS0FBbEQ7QUFDQSxPQUFLWCxJQUFMLENBQVVLLFlBQVYsQ0FBdUJPLFdBQXZCO0FBQ0EsRUFac0M7QUFhdkNDLFVBQVMsWUFBVztBQUNuQixPQUFLYixJQUFMLENBQVVjLElBQVYsQ0FBZUMsS0FBZixDQUFxQixPQUFyQixFQUE4Qix5QkFBOUI7QUFDQSxPQUFLZixJQUFMLENBQVVjLElBQVYsQ0FBZUMsS0FBZixDQUFxQixNQUFyQixFQUE2Qix3QkFBN0I7QUFDQSxFQWhCc0M7QUFpQnZDQyxTQUFRLFlBQVc7QUFD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RUFBd0IsQ0FBeEI7QUFDQTtBQUNELEVBdkdzQztBQXdHdkMwQyxTQUFRLFlBQVU7QUFDakIsT0FBSy9DLFFBQUwsQ0FBY2dELEtBQWQsR0FEaUIsQ0FDTTtBQUN2QixPQUFLbkQsS0FBTCxDQUFXb0QsWUFBWCxDQUF3QixVQUFTbEMsTUFBVCxFQUFnQjtBQUN2Q0EsVUFBT21DLE1BQVA7QUFDQW5DLFVBQU9vQyxJQUFQLEdBRnVDLENBRXhCO0FBQ2YsUUFBS3JDLFdBQUwsQ0FBaUJDLE1BQWpCO0FBQ0EsR0FKRCxFQUlHLElBSkg7QUFLQTtBQS9Hc0MsQ0FBdkIsQ0FBakIiLCJmaWxlIjoiNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG52YXIgZXh0ZW5kID0gcmVxdWlyZSgnLi4vdXRpbHMvaW5oZXJpdHMuanMnKTtcclxudmFyIEhlcm8gPSByZXF1aXJlKCcuLi9vYmplY3RzL1BsYXllci5qcycpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBleHRlbmQoZnVuY3Rpb24gKCkge30sIHtcclxuXHRjdG9yOiBmdW5jdGlvbiAobmljaywgbHYpIHtcclxuXHRcdHRoaXMubmljayA9IG5pY2s7XHJcblx0XHR0aGlzLmx2ID0gbHY7XHJcblx0fSxcclxuXHRpbml0OiBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMucGh5c2ljcy5zdGFydFN5c3RlbShQaGFzZXIuUGh5c2ljcy5BUkNBREUpO1xyXG5cdFx0dGhpcy5nYW1lLnN0YWdlLmJhY2tncm91bmRDb2xvciA9IFwiI0RGREZERlwiO1xyXG5cdFx0dGhpcy5nYW1lLnRpbWUuZGVzaXJlZEZwcyA9IDI1O1xyXG5cdFx0dGhpcy5nYW1lLnRvdWNoQ29udHJvbCA9IHRoaXMuZ2FtZS5wbHVnaW5zLmFkZChQaGFzZXIuUGx1Z2luLlRvdWNoQ29udHJvbCk7XHJcblx0XHR0aGlzLmdhbWUudG91Y2hDb250cm9sLnNldHRpbmdzLnNpbmdsZURpcmVjdGlvbiA9IGZhbHNlO1xyXG5cdFx0dGhpcy5nYW1lLnRvdWNoQ29udHJvbC5pbnB1dEVuYWJsZSgpO1xyXG5cdH0sXHJcblx0cHJlbG9hZDogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLmdhbWUubG9hZC5pbWFnZShcImFycm93XCIsIFwic3RhdGljL2Fzc2V0cy9hcnJvdy5wbmdcIik7XHJcblx0XHR0aGlzLmdhbWUubG9hZC5pbWFnZShcImJhbGxcIiwgXCJzdGF0aWMvYXNzZXRzL2JhbGwucG5nXCIpO1xyXG5cdH0sXHJcblx0Y3JlYXRlOiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBiZ1Nwcml0ZSA9IHRoaXMuZ2FtZS5hZGQudGlsZVNwcml0ZSgwLCAwLCAyKnRoaXMuZ2FtZS53b3JsZC53aWR0aCwgMip0aGlzLmdhbWUud29ybGQuaGVpZ2h0LCBcImJnXCIpO1xyXG5cdFx0YmdTcHJpdGUuYXV0b1Njcm9sbCgtNTAsNTApO1xyXG5cdFx0dGhpcy5hcnJvd3MgPSB0aGlzLmdhbWUuYWRkLmdyb3VwKCk7IC8v77+9077vv73vv73bsu+/ve+/ve+/vVxyXG5cdFx0dGhpcy5oZXJvcyA9IHRoaXMuZ2FtZS5hZGQuZ3JvdXAoKTtcclxuXHRcdHRoaXMubmFtZXMgPSB0aGlzLmdhbWUuYWRkLmdyb3VwKCk7XHJcblx0XHR0aGlzLmdpY0dyb3VwID0gdGhpcy5nYW1lLmFkZC5ncm91cCgpO1xyXG5cdFx0dGhpcy5naWNCbG9vZCA9IHRoaXMuZ2FtZS5hZGQuZ3JhcGhpY3MoMCwgMCwgdGhpcy5naWNHcm91cCk7IC8vIO+/ve+/ve+/vdGq77+977+977+977+9XHJcblx0XHR0aGlzLmhlcm8gPSB0aGlzLmpvaW5IZXJvKHt4OjEwMCwgeToxMDAsIGx2OiB0aGlzLmx2LCBuaWNrOiB0aGlzLm5pY2t9KTtcclxuXHRcdHRoaXMuZ2FtZS5jYW1lcmEuZGVhZHpvbmUgPSBuZXcgUGhhc2VyLlJlY3RhbmdsZSgyMDAsIDIwMCwgdGhpcy5nYW1lLnN0YWdlLndpZHRoIC0gMjAwLCB0aGlzLmdhbWUuc3RhZ2UuaGVpZ2h0IC0gMjAwKTsgLy/vv73vv73Nt++/ve+/ve+/vea0pe+/ve+/ve+/ve+/ve+/ve+/vWRlYWQgem9uZVxyXG5cdFx0dGhpcy5nYW1lLmNhbWVyYS5mb2xsb3codGhpcy5oZXJvKTsgXHJcblx0fSxcclxuXHRqb2luSGVybzogZnVuY3Rpb24ocm9sZSkge1xyXG5cdFx0dmFyIGhlcm8gPSBuZXcgSGVybyh0aGlzLmdhbWUsIHJvbGUueCwgcm9sZS55LCB0aGlzLmhlcm9zLCB7XHJcblx0XHRcdGFycm93c0dyb3VwOiB0aGlzLmFycm93cyxcclxuXHRcdFx0bmFtZXNHcm91cDogdGhpcy5uYW1lcyxcclxuXHRcdFx0bHY6IHJvbGUubHYsIC8vIO+/vci877+9XHJcblx0XHRcdG5pY2s6IHJvbGUubmljaywgLy8g77+977+977+977+9x7Pvv71cclxuXHRcdFx0aHA6IDgwMCwgLy8g77+977+9x7Dvv73vv73RqlxyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gaGVybztcclxuXHR9LFxyXG5cdHVwZGF0ZUJsb29kOiBmdW5jdGlvbihwbGF5ZXIpe1xyXG5cdFx0Ly8g77+9zLbIu++/ve+/ve+/vVxyXG5cdFx0dmFyIGJsb29kID0gcGxheWVyLmhwIC8gMzU7XHJcblx0XHR2YXIgeCA9IHBsYXllci54IC0gYmxvb2QgLyAyO1xyXG5cdFx0dmFyIHkgPSBwbGF5ZXIueSAtIDMwO1xyXG5cdFx0dmFyIGRlbHRhWCA9IDU7XHJcblx0XHRpZiAocGxheWVyLmhwID4wKSB7XHJcblx0XHRcdGlmIChwbGF5ZXIuYWxwaGEgPT0gMC4zKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0cGxheWVyLmFscGhhID0gMTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIGlmIChwbGF5ZXIuYWxwaGEgPT0gMSkge1xyXG5cdFx0XHQvLyDvv73vv73vv73vv73Qp++/ve+/vVxyXG5cdFx0XHRwbGF5ZXIuYWxwaGEgPSAwLjM7XHJcblx0XHRcdHBsYXllci5yb3RhdGVDZD0obmV3IERhdGUoKSkuZ2V0VGltZSgpICsgMzAwMDtcclxuXHRcdH1cclxuXHRcdGlmIChibG9vZCA+PSAwKSB7XHJcblx0XHRcdGlmIChwbGF5ZXIuYmxvb2QgPT0gMCAmJiBibG9vZCA+IDApe1xyXG5cdFx0XHRcdC8vIO+/ve+/vcq877+977+90arvv73vv71cclxuXHRcdFx0XHR0aGlzLmdhbWUuYWRkLnR3ZWVuKHBsYXllcikudG8oIHsgYmxvb2Q6IGJsb29kIH0sIDUwMCwgXCJMaW5lYXJcIiwgdHJ1ZSk7XHJcblx0XHRcdH0gZWxzZSBpZiAocGxheWVyLmhwID09IHBsYXllci5sYXN0SHApIHtcclxuXHRcdFx0XHQvLyDvv73vv73vv73vv73vv73ku69cclxuXHRcdFx0XHR0aGlzLmhwQ2hhbmdlVGFnID0gZmFsc2U7XHJcblx0XHRcdH0gZWxzZSBpZiAodGhpcy5ocENoYW5nZVRhZyA9PSBmYWxzZSkge1xyXG5cdFx0XHRcdC8vIO+/vde0zrHktq/Kse+/ve+/vdGq77+977+977+977+9yr5cclxuXHRcdFx0XHR2YXIgaHBEZWx0YSA9IHBsYXllci5ocCAtIHBsYXllci5sYXN0SHA7XHJcblx0XHRcdFx0cGxheWVyLmxhc3RIcCA9IHBsYXllci5ocDtcclxuXHRcdFx0XHR0aGlzLmhwQ2hhbmdlVGFnID0gdHJ1ZTtcclxuXHRcdFx0XHRpZiAodGhpcy5ocFRpcHMgIT0gdW5kZWZpbmVkKVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdHRoaXMuaHBUaXBzLmtpbGwoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly8g0arvv73vv73vv73ktq/vv73vv73vv73vv71cclxuXHRcdFx0XHR2YXIgaHBTdHIgPSBocERlbHRhLnRvU3RyaW5nKCk7XHJcblx0XHRcdFx0dmFyIHN0eWxlID0geyBmb250OiBcIjE0cHggQXJpYWxcIiwgZmlsbDogXCIjZmYwMDAwXCIsIGFsaWduOiBcImNlbnRlclwiIH07XHJcblx0XHRcdFx0aWYgKGhwRGVsdGEgPiAwKVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdGhwU3RyID0gXCIrXCIgKyBocFN0cjtcclxuXHRcdFx0XHRcdHN0eWxlID0geyBmb250OiBcIjE0cHggQXJpYWxcIiwgZmlsbDogXCIjMDBmZjAwXCIsIGFsaWduOiBcImNlbnRlclwiIH07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRoaXMuaHBUaXBzID0gcGxheWVyLmFkZENoaWxkKHRoaXMuZ2FtZS5tYWtlLnRleHQoMCwgLTEwLCBocFN0ciwgc3R5bGUpKTtcclxuXHRcdFx0XHR0aGlzLmhwVGlwcy5hbmNob3Iuc2V0KDAuNSk7XHJcblx0XHRcdFx0dGhpcy5ocFRpcHMuYWxwaGEgPSAwLjE7XHJcblx0XHRcdFx0dGhpcy5nYW1lLmFkZC50d2Vlbih0aGlzLmhwVGlwcykudG8oIHsgYWxwaGE6IDEsIHk6IC01MCB9LCA0MDAsIFwiTGluZWFyXCIsIHRydWUpO1xyXG5cdFx0XHRcdHRoaXMuZ2FtZS5hZGQudHdlZW4ocGxheWVyKS50byggeyBibG9vZDogYmxvb2QgfSwgMzAwLCBcIkxpbmVhclwiLCB0cnVlKTtcdFxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZiAodGhpcy5ocFRpcHMgIT0gdW5kZWZpbmVkICYmIHRoaXMuaHBUaXBzLmFscGhhID09IDEpXHJcblx0XHR7XHJcblx0XHRcdC8vIO+/ve+/ve+/ve+/ve+/ve+/ve+/ve+/vdCn77+977+9XHJcblx0XHRcdHRoaXMuaHBUaXBzLmtpbGwoKTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgZ2ljID0gdGhpcy5naWNCbG9vZDtcclxuXHRcdHZhciBjb2xvckJsb29kID0gMHhGRjAwMDA7IC8vIO+/vdC377+977+977+906pcclxuXHRcdC8vIGNvbG9yQmxvb2QgPSAweDAwRUUwMDsgLy8g77+977+977+977+906pcclxuXHRcdGdpYy5iZWdpbkZpbGwoY29sb3JCbG9vZCwgMC43KTtcclxuXHRcdGdpYy5kcmF3Um91bmRlZFJlY3QoeCwgeSwgcGxheWVyLmJsb29kLCA3LCAyKTtcclxuXHRcdGdpYy5iZWdpbkZpbGwoMHgzMzMzMzMsIDAuNSk7XHJcblx0XHQvLyDRqu+/ve+/ve+/vcy277+9XHJcblx0XHRmb3IgKHZhciBpPWRlbHRhWDsgaTxwbGF5ZXIuYmxvb2Q7IGkrPWRlbHRhWClcclxuXHRcdHtcclxuXHRcdFx0Z2ljLmRyYXdSZWN0KHgraSwgeSwgMSwgNCk7XHJcblx0XHR9XHJcblx0fSxcclxuXHR1cGRhdGU6IGZ1bmN0aW9uKCl7XHJcblx0XHR0aGlzLmdpY0Jsb29kLmNsZWFyKCk7IC8vIO+/ve+/ve+/ve+/ve+/ve+/ve+/ve+/ve+/ve+/ve+/ve+/ve+/ve+/ve+/ve+/vdC677+977+9xbXEtu+/vcys77+977+977+977+90Kfvv73vv71cclxuXHRcdHRoaXMuaGVyb3MuZm9yRWFjaEFsaXZlKGZ1bmN0aW9uKHBsYXllcil7XHJcblx0XHRcdHBsYXllci5Sb3RhdGUoKTtcclxuXHRcdFx0cGxheWVyLk1vdmUoKTsgLy/vv73Gtu+/vVxyXG5cdFx0XHR0aGlzLnVwZGF0ZUJsb29kKHBsYXllcik7XHJcblx0XHR9LCB0aGlzKTtcclxuXHR9XHJcbn0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zdGF0ZXMvR2FtZVN0YXRlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports,__webpack_require__){eval('"use strict";\n\nvar extend = __webpack_require__(1);\nvar GameRole = __webpack_require__(7);\nvar client = window.Client;\nmodule.exports = extend(GameRole, {\n\tctor: function ctor(game, x, y, group, properties) {\n\t\tthis.roleType = "hero";\n\t\tproperties = properties || {};\n\t\tthis.game = game;\n\t\tthis.lv = properties.lv;\n\t\tthis.nick = properties.nick;\n\t\tthis.hp = properties.hp;\n\t\tthis.arrows = properties.arrowsGroup; //视觉观察组\n\t\tthis.names = properties.namesGroup;\n\n\t\tthis.blood = 0;\n\t\tthis.rotateCd = 0;\n\n\t\tthis._super(this.game, x, y, "ball", null, properties);\n\t\tthis.game.physics.arcade.enable(this);\n\t\tthis.anchor.setTo(0.5, 0.5);\n\t\tthis.checkWorldBounds = true;\n\t\tthis.outOfBoundsKill = true;\n\t\tthis.body.collideWorldBounds = true; //与世界边境进行物理检测\n\t\tthis.inputEnabled = true;\n\t\tthis.input.useHandCursor = true; //当鼠标移动到其上面时显示小手\n\t\tif (group) {\n\t\t\tgroup.add(this);\n\t\t}\n\t},\n\tdead: function () {\n\t\tif (this.alive) {\n\t\t\tthis._super();\n\t\t\tthis.arrow.kill();\n\t\t}\n\t},\n\tgetArrow: function getArrow() {\n\t\tif (this.arrow == null) {\n\t\t\tvar arrow = this.arrows.getFirstExists(false);\n\t\t\tif (arrow) {\n\t\t\t\tthis.arrow = arrow;\n\t\t\t\tthis.arrow.reset(this.x, this.y);\n\t\t\t} else {\n\t\t\t\t//设置一个观察器\n\t\t\t\tthis.arrow = this.game.add.sprite(this.game.world.centerX, this.game.world.centerY, "arrow");\n\t\t\t\tthis.arrow.anchor.x = -1;\n\t\t\t\tthis.arrow.anchor.y = 0.5;\n\t\t\t}\n\t\t}\n\t\treturn this.arrow;\n\t},\n\tgetName: function () {\n\t\tif (this.nameObj == null) {\n\t\t\tvar color1 = "#FFFFFF",\n\t\t\t    color2 = "#777777";\n\t\t\t// color1 = "red"; color2 = "#111111"; // 敌方阵营\n\t\t\tvar nameObj = this.names.getFirstExists(false);\n\t\t\tif (nameObj) {\n\t\t\t\tthis.nameObj = nameObj;\n\t\t\t\tthis.nameObj.reset(this.x, this.y);\n\t\t\t} else {\n\t\t\t\tvar nameStyle = { font: "10px \'微软雅黑\'", fill: color1, align: "center" };\n\t\t\t\tthis.nameObj = this.game.add.text(this.game.world.centerX, this.game.world.centerY, this.name, nameStyle);\n\t\t\t\tthis.nameObj.anchor.x = 0.5;\n\t\t\t\tthis.nameObj.anchor.y = -1;\n\t\t\t\tthis.nameObj.setShadow(1, 1, color2, 0);\n\t\t\t\tthis.nameObj.alpha = 0.7;\n\t\t\t}\n\t\t\tif (this.nameObj.text != this.nick) {\n\t\t\t\tthis.nameObj.setText(this.nick, 1);\n\t\t\t}\n\t\t}\n\t\treturn this.nameObj;\n\t},\n\tRotate: function () {\n\t\tthis.getArrow().angle += 0.5;\n\t},\n\tMove: function () {\n\t\tthis.x = this.x + 1;\n\t\tthis.y = this.y + 1;\n\t\tthis.getArrow().x = this.x;\n\t\tthis.getArrow().y = this.y;\n\t\tthis.getName().x = this.x;\n\t\tthis.getName().y = this.y;\n\t}\n});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvb2JqZWN0cy9QbGF5ZXIuanM/YTA0ZSJdLCJuYW1lcyI6WyJleHRlbmQiLCJyZXF1aXJlIiwiR2FtZVJvbGUiLCJjbGllbnQiLCJ3aW5kb3ciLCJDbGllbnQiLCJtb2R1bGUiLCJleHBvcnRzIiwiY3RvciIsImdhbWUiLCJ4IiwieSIsImdyb3VwIiwicHJvcGVydGllcyIsInJvbGVUeXBlIiwibHYiLCJuaWNrIiwiaHAiLCJhcnJvd3MiLCJhcnJvd3NHcm91cCIsIm5hbWVzIiwibmFtZXNHcm91cCIsImJsb29kIiwicm90YXRlQ2QiLCJfc3VwZXIiLCJwaHlzaWNzIiwiYXJjYWRlIiwiZW5hYmxlIiwiYW5jaG9yIiwic2V0VG8iLCJjaGVja1dvcmxkQm91bmRzIiwib3V0T2ZCb3VuZHNLaWxsIiwiYm9keSIsImNvbGxpZGVXb3JsZEJvdW5kcyIsImlucHV0RW5hYmxlZCIsImlucHV0IiwidXNlSGFuZEN1cnNvciIsImFkZCIsImRlYWQiLCJhbGl2ZSIsImFycm93Iiwia2lsbCIsImdldEFycm93IiwiZ2V0Rmlyc3RFeGlzdHMiLCJyZXNldCIsInNwcml0ZSIsIndvcmxkIiwiY2VudGVyWCIsImNlbnRlclkiLCJnZXROYW1lIiwibmFtZU9iaiIsImNvbG9yMSIsImNvbG9yMiIsIm5hbWVTdHlsZSIsImZvbnQiLCJmaWxsIiwiYWxpZ24iLCJ0ZXh0IiwibmFtZSIsInNldFNoYWRvdyIsImFscGhhIiwic2V0VGV4dCIsIlJvdGF0ZSIsImFuZ2xlIiwiTW92ZSJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUEsSUFBSUEsU0FBUyxtQkFBQUMsQ0FBUSxDQUFSLENBQWI7QUFDQSxJQUFJQyxXQUFXLG1CQUFBRCxDQUFRLENBQVIsQ0FBZjtBQUNBLElBQUlFLFNBQU9DLE9BQU9DLE1BQWxCO0FBQ0FDLE9BQU9DLE9BQVAsR0FBaUJQLE9BQU9FLFFBQVAsRUFBaUI7QUFDakNNLE9BQU0sU0FBU0EsSUFBVCxDQUFjQyxJQUFkLEVBQW9CQyxD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LFFBQUwsR0FBZ0IvQixDQUFoQixHQUFrQixLQUFLQSxDQUF2QjtBQUNBLE9BQUtzQyxPQUFMLEdBQWV2QyxDQUFmLEdBQWlCLEtBQUtBLENBQXRCO0FBQ0EsT0FBS3VDLE9BQUwsR0FBZXRDLENBQWYsR0FBaUIsS0FBS0EsQ0FBdEI7QUFDQTtBQWhGZ0MsQ0FBakIsQ0FBakIiLCJmaWxlIjoiNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyIGV4dGVuZCA9IHJlcXVpcmUoJy4uL3V0aWxzL2luaGVyaXRzLmpzJyk7XHJcbnZhciBHYW1lUm9sZSA9IHJlcXVpcmUoJy4vUm9sZS5qcycpO1xyXG52YXIgY2xpZW50PXdpbmRvdy5DbGllbnQ7XHJcbm1vZHVsZS5leHBvcnRzID0gZXh0ZW5kKEdhbWVSb2xlLCB7XHJcblx0Y3RvcjogZnVuY3Rpb24gY3RvcihnYW1lLCB4LCB5LCBncm91cCwgcHJvcGVydGllcykge1xyXG5cdFx0dGhpcy5yb2xlVHlwZSA9IFwiaGVyb1wiO1xyXG5cdFx0cHJvcGVydGllcyA9IHByb3BlcnRpZXMgfHwge307XHJcblx0XHR0aGlzLmdhbWUgPSBnYW1lO1xyXG5cdFx0dGhpcy5sdiA9IHByb3BlcnRpZXMubHY7XHJcblx0XHR0aGlzLm5pY2sgPSBwcm9wZXJ0aWVzLm5pY2s7XHJcblx0XHR0aGlzLmhwID0gcHJvcGVydGllcy5ocDtcclxuXHRcdHRoaXMuYXJyb3dzID0gcHJvcGVydGllcy5hcnJvd3NHcm91cDsgLy/op4bop4nop4Llr5/nu4RcclxuXHRcdHRoaXMubmFtZXMgPSBwcm9wZXJ0aWVzLm5hbWVzR3JvdXA7XHJcblxyXG5cdFx0dGhpcy5ibG9vZCA9IDA7XHJcblx0XHR0aGlzLnJvdGF0ZUNkID0gMDtcclxuXHJcblx0XHR0aGlzLl9zdXBlcih0aGlzLmdhbWUsIHgsIHksIFwiYmFsbFwiLCBudWxsLCBwcm9wZXJ0aWVzKTtcclxuXHRcdHRoaXMuZ2FtZS5waHlzaWNzLmFyY2FkZS5lbmFibGUodGhpcyk7XHJcblx0XHR0aGlzLmFuY2hvci5zZXRUbygwLjUsIDAuNSk7XHJcblx0XHR0aGlzLmNoZWNrV29ybGRCb3VuZHMgPSB0cnVlO1xyXG5cdFx0dGhpcy5vdXRPZkJvdW5kc0tpbGwgPSB0cnVlO1xyXG5cdFx0dGhpcy5ib2R5LmNvbGxpZGVXb3JsZEJvdW5kcyA9IHRydWU7IC8v5LiO5LiW55WM6L655aKD6L+b6KGM54mp55CG5qOA5rWLXHJcblx0XHR0aGlzLmlucHV0RW5hYmxlZCA9IHRydWU7XHJcblx0XHR0aGlzLmlucHV0LnVzZUhhbmRDdXJzb3IgPSB0cnVlOyAvL+W9k+m8oOagh+enu+WKqOWIsOWFtuS4iumdouaXtuaYvuekuuWwj+aJi1xyXG5cdFx0aWYgKGdyb3VwKSB7XHJcblx0XHRcdGdyb3VwLmFkZCh0aGlzKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cdGRlYWQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmKHRoaXMuYWxpdmUpe1xyXG5cdFx0XHR0aGlzLl9zdXBlcigpO1xyXG5cdFx0XHR0aGlzLmFycm93LmtpbGwoKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cdGdldEFycm93OiBmdW5jdGlvbiBnZXRBcnJvdygpIHtcclxuXHRcdGlmICh0aGlzLmFycm93ID09IG51bGwpIHtcclxuXHRcdFx0dmFyIGFycm93ID0gdGhpcy5hcnJvd3MuZ2V0Rmlyc3RFeGlzdHMoZmFsc2UpO1xyXG5cdFx0XHRpZiAoYXJyb3cpIHtcclxuXHRcdFx0XHR0aGlzLmFycm93ID0gYXJyb3c7XHJcblx0XHRcdFx0dGhpcy5hcnJvdy5yZXNldCh0aGlzLngsIHRoaXMueSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly/orr7nva7kuIDkuKrop4Llr5/lmahcclxuXHRcdFx0XHR0aGlzLmFycm93ID0gdGhpcy5nYW1lLmFkZC5zcHJpdGUodGhpcy5nYW1lLndvcmxkLmNlbnRlclgsdGhpcy5nYW1lLndvcmxkLmNlbnRlclksIFwiYXJyb3dcIik7XHJcblx0XHRcdFx0dGhpcy5hcnJvdy5hbmNob3IueCA9IC0xO1xyXG5cdFx0XHRcdHRoaXMuYXJyb3cuYW5jaG9yLnkgPSAwLjU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzLmFycm93O1xyXG5cdH0sXHJcblx0Z2V0TmFtZTogZnVuY3Rpb24oKSB7XHJcblx0XHRpZiAodGhpcy5uYW1lT2JqID09IG51bGwpIHtcclxuXHRcdFx0dmFyIGNvbG9yMSA9IFwiI0ZGRkZGRlwiLCBjb2xvcjIgPSBcIiM3Nzc3NzdcIjtcclxuXHRcdFx0Ly8gY29sb3IxID0gXCJyZWRcIjsgY29sb3IyID0gXCIjMTExMTExXCI7IC8vIOaVjOaWuemYteiQpVxyXG5cdFx0XHR2YXIgbmFtZU9iaiA9IHRoaXMubmFtZXMuZ2V0Rmlyc3RFeGlzdHMoZmFsc2UpO1xyXG5cdFx0XHRpZiAobmFtZU9iaikge1xyXG5cdFx0XHRcdHRoaXMubmFtZU9iaiA9IG5hbWVPYmo7XHJcblx0XHRcdFx0dGhpcy5uYW1lT2JqLnJlc2V0KHRoaXMueCwgdGhpcy55KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR2YXIgbmFtZVN0eWxlID0ge2ZvbnQ6IFwiMTBweCAn5b6u6L2v6ZuF6buRJ1wiLCBmaWxsOiBjb2xvcjEsIGFsaWduOiBcImNlbnRlclwiLH07XHJcblx0XHRcdFx0dGhpcy5uYW1lT2JqID0gdGhpcy5nYW1lLmFkZC50ZXh0KHRoaXMuZ2FtZS53b3JsZC5jZW50ZXJYLCB0aGlzLmdhbWUud29ybGQuY2VudGVyWSwgdGhpcy5uYW1lLCBuYW1lU3R5bGUpO1xyXG5cdFx0XHRcdHRoaXMubmFtZU9iai5hbmNob3IueCA9IDAuNTtcclxuXHRcdFx0XHR0aGlzLm5hbWVPYmouYW5jaG9yLnkgPSAtMTtcclxuXHRcdFx0XHR0aGlzLm5hbWVPYmouc2V0U2hhZG93KDEsIDEsIGNvbG9yMiwgMCk7XHJcblx0XHRcdFx0dGhpcy5uYW1lT2JqLmFscGhhID0gMC43O1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICh0aGlzLm5hbWVPYmoudGV4dCAhPSB0aGlzLm5pY2spXHJcblx0XHRcdHtcclxuXHRcdFx0XHR0aGlzLm5hbWVPYmouc2V0VGV4dCh0aGlzLm5pY2ssIDEpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcy5uYW1lT2JqO1xyXG5cdH0sXHJcblx0Um90YXRlOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR0aGlzLmdldEFycm93KCkuYW5nbGUgKz0gMC41O1xyXG5cdH0sXHJcblx0TW92ZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpcy54PXRoaXMueCsxO1xyXG5cdFx0dGhpcy55PXRoaXMueSsxO1xyXG5cdFx0dGhpcy5nZXRBcnJvdygpLng9dGhpcy54O1xyXG5cdFx0dGhpcy5nZXRBcnJvdygpLnk9dGhpcy55O1xyXG5cdFx0dGhpcy5nZXROYW1lKCkueD10aGlzLng7XHJcblx0XHR0aGlzLmdldE5hbWUoKS55PXRoaXMueTtcclxuXHR9XHJcbn0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9vYmplY3RzL1BsYXllci5qcyJdLCJzb3VyY2VSb290IjoiIn0=');
},function(module,exports,__webpack_require__){eval("'use strict';\n\nvar extend = __webpack_require__(1);\nmodule.exports = extend(Phaser.Sprite, {\n\t//ctor 可以省略  省略以后会继续执行其父构造函数 如 this._super.apply(this,arguments);\n\tctor: function ctor(game, x, y, key, frame, properties) {\n\t\tproperties = properties || {};\n\t\tthis._super(game, x, y, key, frame);\n\t\tthis.rid = properties.rid; //系统角色\n\t\tthis.wid = properties.wid;\n\t},\n\tdead: function dead() {\n\t\tif (this.alive) {\n\t\t\tthis.kill();\n\t\t}\n\t}\n});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvb2JqZWN0cy9Sb2xlLmpzPzgwMTAiXSwibmFtZXMiOlsiZXh0ZW5kIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJQaGFzZXIiLCJTcHJpdGUiLCJjdG9yIiwiZ2FtZSIsIngiLCJ5Iiwia2V5IiwiZnJhbWUiLCJwcm9wZXJ0aWVzIiwiX3N1cGVyIiwicmlkIiwid2lkIiwiZGVhZCIsImFsaXZlIiwia2lsbCJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUEsSUFBSUEsU0FBUyxtQkFBQUMsQ0FBUSxDQUFSLENBQWI7QUFDQUMsT0FBT0MsT0FBUCxHQUFpQkgsT0FBT0ksT0FBT0MsTUFBZCxFQUFzQjtBQUN0QztBQUNBQyxPQUFNLFNBQVNBLElBQVQsQ0FBY0MsSUFBZCxFQUFvQkMsQ0FBcEIsRUFBdUJDLENBQXZCLEVBQTBCQyxHQUExQixFQUErQkMsS0FBL0IsRUFBc0NDLFVBQXRDLEVBQWtEO0FBQ3ZEQSxlQUFhQSxjQUFjLEVBQTNCO0FBQ0EsT0FBS0MsTUFBTCxDQUFZTixJQUFaLEVBQWtCQyxDQUFsQixFQUFxQkMsQ0FBckIsRUFBd0JDLEdBQXhCLEVBQTZCQyxLQUE3QjtBQUNBLE9BQUtHLEdBQUwsR0FBV0YsV0FBV0UsR0FBdEIsQ0FIdUQsQ0FHNUI7QUFDM0IsT0FBS0MsR0FBTCxHQUFXSCxXQUFXRyxHQUF0QjtBQUNBLEVBUHFDO0FBUXRDQyxPQUFNLFNBQVNBLElBQVQsR0FBZ0I7QUFDckIsTUFBRyxLQUFLQyxLQUFSLEVBQWM7QUFDYixRQUFLQyxJQUFMO0FBQ0E7QUFDRDtBQVpxQyxDQUF0QixDQUFqQiIsImZpbGUiOiI3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxudmFyIGV4dGVuZCA9IHJlcXVpcmUoJy4uL3V0aWxzL2luaGVyaXRzLmpzJyk7XHJcbm1vZHVsZS5leHBvcnRzID0gZXh0ZW5kKFBoYXNlci5TcHJpdGUsIHtcclxuXHQvL2N0b3Ig5Y+v5Lul55yB55WlICDnnIHnlaXku6XlkI7kvJrnu6fnu63miafooYzlhbbniLbmnoTpgKDlh73mlbAg5aaCIHRoaXMuX3N1cGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcclxuXHRjdG9yOiBmdW5jdGlvbiBjdG9yKGdhbWUsIHgsIHksIGtleSwgZnJhbWUsIHByb3BlcnRpZXMpIHtcclxuXHRcdHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzIHx8IHt9O1xyXG5cdFx0dGhpcy5fc3VwZXIoZ2FtZSwgeCwgeSwga2V5LCBmcmFtZSk7XHJcblx0XHR0aGlzLnJpZCA9IHByb3BlcnRpZXMucmlkOyAvL+ezu+e7n+inkuiJslxyXG5cdFx0dGhpcy53aWQgPSBwcm9wZXJ0aWVzLndpZDtcclxuXHR9LFxyXG5cdGRlYWQ6IGZ1bmN0aW9uIGRlYWQoKSB7XHJcblx0XHRpZih0aGlzLmFsaXZlKXtcclxuXHRcdFx0dGhpcy5raWxsKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvb2JqZWN0cy9Sb2xlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==")}]);