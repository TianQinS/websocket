!function(Q){function F(U){if(B[U])return B[U].exports;var t=B[U]={exports:{},id:U,loaded:!1};return Q[U].call(t.exports,t,t.exports,F),t.loaded=!0,t.exports}var B={};return F.m=Q,F.c=B,F.p="",F(0)}([function(module,exports,__webpack_require__){eval('\'use strict\';\n\nvar extend = __webpack_require__(1);\nvar MyScaleManager = __webpack_require__(2);\nvar BootState = __webpack_require__(3);\n\nwindow.onload = function () {\n    var gameDiv = document.getElementById("game");\n    Phaser.myScaleManager = new MyScaleManager(gameDiv);\n    var width = 2560;\n    var scale = screen.width / screen.height;\n    if (scale > 1) {\n        scale = 1 / scale;\n    }\n    var game;;\n    if (window.location.hostname == "") {\n        game = new Phaser.Game(width, width * scale, Phaser.CANVAS, gameDiv);\n    } else {\n        game = new Phaser.Game(width, width * scale, Phaser.AUTO, gameDiv);\n    }\n    Phaser.myScaleManager.boot();\n    game.state.add("BootState", BootState, true);\n    game.state.start("BootState");\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi5qcz8zNDc5Il0sIm5hbWVzIjpbImV4dGVuZCIsInJlcXVpcmUiLCJNeVNjYWxlTWFuYWdlciIsIkJvb3RTdGF0ZSIsIndpbmRvdyIsIm9ubG9hZCIsImdhbWVEaXYiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiUGhhc2VyIiwibXlTY2FsZU1hbmFnZXIiLCJ3aWR0aCIsInNjYWxlIiwic2NyZWVuIiwiaGVpZ2h0IiwiZ2FtZSIsImxvY2F0aW9uIiwiaG9zdG5hbWUiLCJHYW1lIiwiQ0FOVkFTIiwiQVVUTyIsImJvb3QiLCJzdGF0ZSIsImFkZCIsInN0YXJ0Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQSxJQUFJQSxTQUFTLG1CQUFBQyxDQUFRLENBQVIsQ0FBYjtBQUNBLElBQUlDLGlCQUFpQixtQkFBQUQsQ0FBUSxDQUFSLENBQXJCO0FBQ0EsSUFBSUUsWUFBWSxtQkFBQUYsQ0FBUSxDQUFSLENBQWhCOztBQUVBRyxPQUFPQyxNQUFQLEdBQWdCLFlBQVk7QUFDeEIsUUFBSUMsVUFBVUMsU0FBU0MsY0FBVCxDQUF3QixNQUF4QixDQUFkO0FBQ0FDLFdBQU9DLGNBQVAsR0FBd0IsSUFBSVIsY0FBSixDQUFtQkksT0FBbkIsQ0FBeEI7QUFDQSxRQUFJSyxRQUFRLElBQVo7QUFDQSxRQUFJQyxRQUFRQyxPQUFPRixLQUFQLEdBQWVFLE9BQU9DLE1BQWxDO0FBQ0EsUUFBSUYsUUFBUSxDQUFaLEVBQWU7QUFDWEEsZ0JBQVEsSUFBSUEsS0FBWjtBQUNIO0FBQ0QsUUFBSUcsSUFBSixDQUFTO0FBQ1osUUFBSVgsT0FBT1ksUUFBUCxDQUFnQkMsUUFBaEIsSUFBNEIsRUFBaEMsRUFBb0M7QUFDbkNGLGVBQU8sSUFBSU4sT0FBT1MsSUFBWCxDQUFnQlAsS0FBaEIsRUFBdUJBLFFBQVFDLEtBQS9CLEVBQXNDSCxPQUFPVSxNQUE3QyxFQUFxRGIsT0FBckQsQ0FBUDtBQUNBLEtBRkQsTUFFTztBQUNOUyxlQUFPLElBQUlOLE9BQU9TLElBQVgsQ0FBZ0JQLEtBQWhCLEVBQXVCQSxRQUFRQyxLQUEvQixFQUFzQ0gsT0FBT1csSUFBN0MsRUFBbURkLE9BQW5ELENBQVA7QUFDQTtBQUNFRyxXQUFPQyxjQUFQLENBQXNCVyxJQUF0QjtBQUNBTixTQUFLTyxLQUFMLENBQVdDLEdBQVgsQ0FBZSxXQUFmLEVBQTRCcEIsU0FBNUIsRUFBdUMsSUFBdkM7QUFDQVksU0FBS08sS0FBTCxDQUFXRSxLQUFYLENBQWlCLFdBQWpCO0FBQ0gsQ0FqQkQiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxudmFyIGV4dGVuZCA9IHJlcXVpcmUoJy4vdXRpbHMvaW5oZXJpdHMuanMnKTtcclxudmFyIE15U2NhbGVNYW5hZ2VyID0gcmVxdWlyZSgnLi91dGlscy9NeVNjYWxlTWFuYWdlci5qcycpO1xyXG52YXIgQm9vdFN0YXRlID0gcmVxdWlyZSgnLi9zdGF0ZXMvQm9vdFN0YXRlLmpzJyk7XHJcblxyXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGdhbWVEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVcIik7XHJcbiAgICBQaGFzZXIubXlTY2FsZU1hbmFnZXIgPSBuZXcgTXlTY2FsZU1hbmFnZXIoZ2FtZURpdik7XHJcbiAgICB2YXIgd2lkdGggPSAyNTYwO1xyXG4gICAgdmFyIHNjYWxlID0gc2NyZWVuLndpZHRoIC8gc2NyZWVuLmhlaWdodDtcclxuICAgIGlmIChzY2FsZSA+IDEpIHtcclxuICAgICAgICBzY2FsZSA9IDEgLyBzY2FsZTtcclxuICAgIH1cclxuICAgIHZhciBnYW1lOztcclxuXHRpZiAod2luZG93LmxvY2F0aW9uLmhvc3RuYW1lID09IFwiXCIpIHtcclxuXHRcdGdhbWUgPSBuZXcgUGhhc2VyLkdhbWUod2lkdGgsIHdpZHRoICogc2NhbGUsIFBoYXNlci5DQU5WQVMsIGdhbWVEaXYpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRnYW1lID0gbmV3IFBoYXNlci5HYW1lKHdpZHRoLCB3aWR0aCAqIHNjYWxlLCBQaGFzZXIuQVVUTywgZ2FtZURpdik7XHJcblx0fVxyXG4gICAgUGhhc2VyLm15U2NhbGVNYW5hZ2VyLmJvb3QoKTtcclxuICAgIGdhbWUuc3RhdGUuYWRkKFwiQm9vdFN0YXRlXCIsIEJvb3RTdGF0ZSwgdHJ1ZSk7XHJcbiAgICBnYW1lLnN0YXRlLnN0YXJ0KFwiQm9vdFN0YXRlXCIpO1xyXG59O1xyXG5cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL21haW4uanMiXSwic291cmNlUm9vdCI6IiJ9')},function(module,exports){eval('\'use strict\';\n/**\r\n * 这是一个 javascript 类继承函数,\r\n * 与以往的继承函数不同的是这个函数,\r\n * 可以直接从一个已存在的普通构造函数继承。\r\n */\n\nfunction object(o) {\n    function W() {}\n    W.prototype = o;\n    return new W();\n}\nfunction inheritPrototype(SubType, SuperType) {\n    var prototype;\n    if (typeof Object.create === \'function\') {\n        prototype = Object.create(SuperType.prototype);\n    } else {\n        prototype = object.create(SuperType.prototype);\n    }\n    prototype.constructor = SubType;\n    SubType.prototype = prototype;\n}\nmodule.exports = function (superCtor, prop) {\n    return function () {\n        var fnTest = /xyz/.test(function () {\n            xyz;\n        }) ? /\\b_super\\b/ : /.*/;\n\n        var _super = superCtor.prototype;\n        //// The base Class implementation (does nothing)\n        function baseClass() {\n            if (typeof baseClass.prototype.ctor === "undefined") {} else {\n                var args = new Array();\n                for (var k in arguments) {\n                    args.push(arguments[k]);\n                }\n                baseClass.prototype.ctor.apply(this, args);\n            }\n        };\n        // 空函数F:\n        //var F = function F() {};\n        //// 把F的原型指向Student.prototype:\n        //F.prototype = superCtor.prototype;\n        ////F.prototype = Object.create(superCtor.prototype);\n        //// 把PrimaryStudent的原型指向一个新的F对象，F对象的原型正好指向Student.prototype:\n        //baseClass.prototype = new F();\n        //// 把PrimaryStudent原型的构造函数修复为PrimaryStudent:\n        //baseClass.prototype.constructor = baseClass;\n        inheritPrototype(baseClass, superCtor);\n        var prototype = baseClass.prototype;\n        if (typeof _super === "undefined") {} else {\n            //_super["ctor"]="ss";\n            if (typeof _super["ctor"] === "undefined") {\n                _super["ctor"] = superCtor;\n            }\n        }\n\n        // Copy the properties over onto the new prototype\n        for (var name in prop) {\n            // Check if we\'re overwriting an existing function\n            prototype[name] = typeof prop[name] == "function" && typeof _super[name] == "function" && fnTest.test(prop[name]) ? function (name, fn) {\n                return function () {\n                    //var tmp_superclass = this.superclass;\n                    var tmp = this._super;\n                    // Add a new ._super() method that is the same method\n                    // but on the super-class\n                    this._super = _super[name];\n                    //this.superclass=superCtor.bind(this);\n                    // The method only need to be bound temporarily, so we\n                    // remove it when we\'re done executing\n                    var args = new Array();\n                    for (var k in arguments) {\n                        args.push(arguments[k]);\n                    }\n                    var ret = fn.apply(this, args);\n                    this._super = tmp;\n                    //this.superclass=tmp_superclass;\n                    return ret;\n                };\n            }(name, prop[name]) : prop[name];\n        }\n        return baseClass;\n    }();\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvaW5oZXJpdHMuanM/OTZkOSJdLCJuYW1lcyI6WyJvYmplY3QiLCJvIiwiVyIsInByb3RvdHlwZSIsImluaGVyaXRQcm90b3R5cGUiLCJTdWJUeXBlIiwiU3VwZXJUeXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJtb2R1bGUiLCJleHBvcnRzIiwic3VwZXJDdG9yIiwicHJvcCIsImZuVGVzdCIsInRlc3QiLCJ4eXoiLCJfc3VwZXIiLCJiYXNlQ2xhc3MiLCJjdG9yIiwiYXJncyIsIkFycmF5IiwiayIsImFyZ3VtZW50cyIsInB1c2giLCJhcHBseSIsIm5hbWUiLCJmbiIsInRtcCIsInJldCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7O0FBS0EsU0FBU0EsTUFBVCxDQUFnQkMsQ0FBaEIsRUFBa0I7QUFDZCxhQUFTQyxDQUFULEdBQVksQ0FDWDtBQUNEQSxNQUFFQyxTQUFGLEdBQVlGLENBQVo7QUFDQSxXQUFPLElBQUlDLENBQUosRUFBUDtBQUNIO0FBQ0QsU0FBU0UsZ0JBQVQsQ0FBMEJDLE9BQTFCLEVBQWtDQyxTQUFsQyxFQUE0QztBQUN4QyxRQUFJSCxTQUFKO0FBQ0EsUUFBRyxPQUFPSSxPQUFPQyxNQUFkLEtBQXVCLFVBQTFCLEVBQXFDO0FBQ2pDTCxvQkFBVUksT0FBT0MsTUFBUCxDQUFjRixVQUFVSCxTQUF4QixDQUFWO0FBQ0gsS0FGRCxNQUVLO0FBQ0RBLG9CQUFVSCxPQUFPUSxNQUFQLENBQWNGLFVBQVVILFNBQXhCLENBQVY7QUFDSDtBQUNEQSxjQUFVTSxXQUFWLEdBQXNCSixPQUF0QjtBQUNBQSxZQUFRRixTQUFSLEdBQWtCQSxTQUFsQjtBQUNIO0FBQ0RPLE9BQU9DLE9BQVAsR0FBaUIsVUFBVUMsU0FBVixFQUFxQkMsSUFBckIsRUFBMkI7QUFDeEMsV0FBTyxZQUFZO0FBQ2YsWUFBSUMsU0FBUyxNQUFNQyxJQUFOLENBQVcsWUFBWTtBQUNoQ0M7QUFDSCxTQUZZLElBRVIsWUFGUSxHQUVPLElBRnBCOztBQUlBLFlBQUlDLFNBQVNMLFVBQVVULFNBQXZCO0FBQ0E7QUFDQSxpQkFBU2UsU0FBVCxHQUFxQjtBQUNqQixnQkFBSSxPQUFPQSxVQUFVZixTQUFWLENBQW9CZ0IsSUFBM0IsS0FBa0MsV0FBdEMsRUFBbUQsQ0FDbEQsQ0FERCxNQUNLO0FBQ0Qsb0JBQUlDLE9BQU8sSUFBSUMsS0FBSixFQUFYO0FBQ0EscUJBQUksSUFBSUMsQ0FBUixJQUFhQyxTQUFiLEVBQXVCO0FBQ25CSCx5QkFBS0ksSUFBTCxDQUFVRCxVQUFVRCxDQUFWLENBQVY7QUFDSDtBQUNESiwwQkFBVWYsU0FBVixDQUFvQmdCLElBQXBCLENBQXlCTSxLQUF6QixDQUErQixJQUEvQixFQUFxQ0wsSUFBckM7QUFDSDtBQUNKO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FoQix5QkFBaUJjLFNBQWpCLEVBQTJCTixTQUEzQjtBQUNBLFlBQUlULFlBQVllLFVBQVVmLFNBQTFCO0FBQ0EsWUFBRyxPQUFRYyxNQUFSLEtBQWtCLFdBQXJCLEVBQWlDLENBRWhDLENBRkQsTUFFSztBQUNEO0FBQ0EsZ0JBQUksT0FBUUEsT0FBTyxNQUFQLENBQVIsS0FBMEIsV0FBOUIsRUFBMkM7QUFDdkNBLHVCQUFPLE1BQVAsSUFBaUJMLFNBQWpCO0FBQ0g7QUFDSjs7QUFFRDtBQUNBLGFBQUssSUFBSWMsSUFBVCxJQUFpQmIsSUFBakIsRUFBdUI7QUFDbkI7QUFDQVYsc0JBQVV1QixJQUFWLElBQWtCLE9BQU9iLEtBQUthLElBQUwsQ0FBUCxJQUFxQixVQUFyQixJQUFtQyxPQUFPVCxPQUFPUyxJQUFQLENBQVAsSUFBdUIsVUFBMUQsSUFBd0VaLE9BQU9DLElBQVAsQ0FBWUYsS0FBS2EsSUFBTCxDQUFaLENBQXhFLEdBQWtHLFVBQVVBLElBQVYsRUFBZ0JDLEVBQWhCLEVBQW9CO0FBQ3BJLHVCQUFPLFlBQVk7QUFDZjtBQUNBLHdCQUFJQyxNQUFNLEtBQUtYLE1BQWY7QUFDQTtBQUNBO0FBQ0EseUJBQUtBLE1BQUwsR0FBY0EsT0FBT1MsSUFBUCxDQUFkO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQUlOLE9BQU8sSUFBSUMsS0FBSixFQUFYO0FBQ0EseUJBQUksSUFBSUMsQ0FBUixJQUFhQyxTQUFiLEVBQXVCO0FBQ25CSCw2QkFBS0ksSUFBTCxDQUFVRCxVQUFVRCxDQUFWLENBQVY7QUFDSDtBQUNELHdCQUFJTyxNQUFNRixHQUFHRixLQUFILENBQVMsSUFBVCxFQUFjTCxJQUFkLENBQVY7QUFDQSx5QkFBS0gsTUFBTCxHQUFjVyxHQUFkO0FBQ0E7QUFDQSwyQkFBT0MsR0FBUDtBQUNILGlCQWpCRDtBQWtCSCxhQW5CbUgsQ0FtQmxISCxJQW5Ca0gsRUFtQjVHYixLQUFLYSxJQUFMLENBbkI0RyxDQUFsRyxHQW1CSWIsS0FBS2EsSUFBTCxDQW5CdEI7QUFvQkg7QUFDRCxlQUFPUixTQUFQO0FBQ0gsS0E5RE0sRUFBUDtBQStESCxDQWhFRCIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG4vKipcclxuICog6L+Z5piv5LiA5LiqIGphdmFzY3JpcHQg57G757un5om/5Ye95pWwLFxyXG4gKiDkuI7ku6XlvoDnmoTnu6fmib/lh73mlbDkuI3lkIznmoTmmK/ov5nkuKrlh73mlbAsXHJcbiAqIOWPr+S7peebtOaOpeS7juS4gOS4quW3suWtmOWcqOeahOaZrumAmuaehOmAoOWHveaVsOe7p+aJv+OAglxyXG4gKi9cclxuZnVuY3Rpb24gb2JqZWN0KG8pe1xyXG4gICAgZnVuY3Rpb24gVygpe1xyXG4gICAgfVxyXG4gICAgVy5wcm90b3R5cGU9bztcclxuICAgIHJldHVybiBuZXcgVygpO1xyXG59XHJcbmZ1bmN0aW9uIGluaGVyaXRQcm90b3R5cGUoU3ViVHlwZSxTdXBlclR5cGUpe1xyXG4gICAgdmFyIHByb3RvdHlwZTtcclxuICAgIGlmKHR5cGVvZiBPYmplY3QuY3JlYXRlPT09J2Z1bmN0aW9uJyl7XHJcbiAgICAgICAgcHJvdG90eXBlPU9iamVjdC5jcmVhdGUoU3VwZXJUeXBlLnByb3RvdHlwZSk7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICBwcm90b3R5cGU9b2JqZWN0LmNyZWF0ZShTdXBlclR5cGUucHJvdG90eXBlKTtcclxuICAgIH1cclxuICAgIHByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1TdWJUeXBlO1xyXG4gICAgU3ViVHlwZS5wcm90b3R5cGU9cHJvdG90eXBlO1xyXG59XHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHN1cGVyQ3RvciwgcHJvcCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZm5UZXN0ID0gL3h5ei8udGVzdChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHh5ejtcclxuICAgICAgICB9KSA/IC9cXGJfc3VwZXJcXGIvIDogLy4qLztcclxuXHJcbiAgICAgICAgdmFyIF9zdXBlciA9IHN1cGVyQ3Rvci5wcm90b3R5cGU7XHJcbiAgICAgICAgLy8vLyBUaGUgYmFzZSBDbGFzcyBpbXBsZW1lbnRhdGlvbiAoZG9lcyBub3RoaW5nKVxyXG4gICAgICAgIGZ1bmN0aW9uIGJhc2VDbGFzcygpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBiYXNlQ2xhc3MucHJvdG90eXBlLmN0b3I9PT1cInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoKVxyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBrIGluIGFyZ3VtZW50cyl7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZ3VtZW50c1trXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBiYXNlQ2xhc3MucHJvdG90eXBlLmN0b3IuYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIOepuuWHveaVsEY6XHJcbiAgICAgICAgLy92YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTtcclxuICAgICAgICAvLy8vIOaKikbnmoTljp/lnovmjIflkJFTdHVkZW50LnByb3RvdHlwZTpcclxuICAgICAgICAvL0YucHJvdG90eXBlID0gc3VwZXJDdG9yLnByb3RvdHlwZTtcclxuICAgICAgICAvLy8vRi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUpO1xyXG4gICAgICAgIC8vLy8g5oqKUHJpbWFyeVN0dWRlbnTnmoTljp/lnovmjIflkJHkuIDkuKrmlrDnmoRG5a+56LGh77yMRuWvueixoeeahOWOn+Wei+ato+WlveaMh+WQkVN0dWRlbnQucHJvdG90eXBlOlxyXG4gICAgICAgIC8vYmFzZUNsYXNzLnByb3RvdHlwZSA9IG5ldyBGKCk7XHJcbiAgICAgICAgLy8vLyDmiopQcmltYXJ5U3R1ZGVudOWOn+Wei+eahOaehOmAoOWHveaVsOS/ruWkjeS4ulByaW1hcnlTdHVkZW50OlxyXG4gICAgICAgIC8vYmFzZUNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGJhc2VDbGFzcztcclxuICAgICAgICBpbmhlcml0UHJvdG90eXBlKGJhc2VDbGFzcyxzdXBlckN0b3IpO1xyXG4gICAgICAgIHZhciBwcm90b3R5cGUgPSBiYXNlQ2xhc3MucHJvdG90eXBlO1xyXG4gICAgICAgIGlmKHR5cGVvZiAoX3N1cGVyKT09PVwidW5kZWZpbmVkXCIpe1xyXG5cclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgLy9fc3VwZXJbXCJjdG9yXCJdPVwic3NcIjtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiAoX3N1cGVyW1wiY3RvclwiXSk9PT1cInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICBfc3VwZXJbXCJjdG9yXCJdID0gc3VwZXJDdG9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDb3B5IHRoZSBwcm9wZXJ0aWVzIG92ZXIgb250byB0aGUgbmV3IHByb3RvdHlwZVxyXG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gcHJvcCkge1xyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSdyZSBvdmVyd3JpdGluZyBhbiBleGlzdGluZyBmdW5jdGlvblxyXG4gICAgICAgICAgICBwcm90b3R5cGVbbmFtZV0gPSB0eXBlb2YgcHJvcFtuYW1lXSA9PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIF9zdXBlcltuYW1lXSA9PSBcImZ1bmN0aW9uXCIgJiYgZm5UZXN0LnRlc3QocHJvcFtuYW1lXSkgPyBmdW5jdGlvbiAobmFtZSwgZm4pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy92YXIgdG1wX3N1cGVyY2xhc3MgPSB0aGlzLnN1cGVyY2xhc3M7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRtcCA9IHRoaXMuX3N1cGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBhIG5ldyAuX3N1cGVyKCkgbWV0aG9kIHRoYXQgaXMgdGhlIHNhbWUgbWV0aG9kXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYnV0IG9uIHRoZSBzdXBlci1jbGFzc1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N1cGVyID0gX3N1cGVyW25hbWVdO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcy5zdXBlcmNsYXNzPXN1cGVyQ3Rvci5iaW5kKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBtZXRob2Qgb25seSBuZWVkIHRvIGJlIGJvdW5kIHRlbXBvcmFyaWx5LCBzbyB3ZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBpdCB3aGVuIHdlJ3JlIGRvbmUgZXhlY3V0aW5nXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoKVxyXG4gICAgICAgICAgICAgICAgICAgIGZvcih2YXIgayBpbiBhcmd1bWVudHMpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzLnB1c2goYXJndW1lbnRzW2tdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldCA9IGZuLmFwcGx5KHRoaXMsYXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3VwZXIgPSB0bXA7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLnN1cGVyY2xhc3M9dG1wX3N1cGVyY2xhc3M7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0obmFtZSwgcHJvcFtuYW1lXSkgOiBwcm9wW25hbWVdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYmFzZUNsYXNzO1xyXG4gICAgfSgpO1xyXG59O1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdXRpbHMvaW5oZXJpdHMuanMiXSwic291cmNlUm9vdCI6IiJ9')},function(module,exports,__webpack_require__){eval('"use strict";\n\nvar extend = __webpack_require__(1);\n\nmodule.exports = extend(function () {}, {\n    ctor: function ctor(gameDiv) {\n        this.gameDiv = gameDiv;\n        this.proDOM = Phaser.DOM;\n        this.isMyLandscapeMode = false;\n        if (this.proDOM.getScreenOrientation() != "landscape-primary") {\n            //如果当前是竖屏 启动自定义横屏\n            this.setMyLandscapeMode(true, true);\n        } else {\n            this.refresh();\n        }\n        var BaseDOM = extend(function () {}, Phaser.DOM);\n\n        var MyDOM = extend(BaseDOM, {\n            getScreenOrientation: function getScreenOrientation() {\n                var orientation = this._super.apply(this, arguments);\n\n                if (document.documentElement.clientWidth !== this.proDocumentWidth || document.documentElement.clientHeight !== this.proDocumentHeight) {\n                    Phaser.myScaleManager.refresh(); //刷新界面宽高 非常有用\n\n                    this.proDocumentWidth = document.documentElement.clientWidth;\n                    this.proDocumentHeight = document.documentElement.clientHeight;\n                }\n\n                if (orientation != "landscape-primary") {\n                    //当前是竖屏\n                    if (!Phaser.myScaleManager.isMyLandscape()) {\n                        //未启动 自定义横屏\n                        Phaser.myScaleManager.setMyLandscapeMode(true, true);\n                    }\n                    return "landscape-primary";\n                } else {\n                    //切换到横屏模式\n                    if (Phaser.myScaleManager.isMyLandscape()) {\n                        //关闭自定义横屏模式\n                        Phaser.myScaleManager.setMyLandscapeMode(false, true);\n                    }\n                    return orientation;\n                }\n            },\n            getOffset: function getOffset() {\n                var rel = this._super.apply(this, arguments);\n                //console.log(rel);\n                return rel;\n            },\n            getBounds: function getBounds() {\n                var rel = this._super.apply(this, arguments);\n                //console.log(rel);\n                return rel;\n            },\n            calibrate: function calibrate() {\n                var rel = this._super.apply(this, arguments);\n                //console.log(rel);\n                return rel;\n            },\n            getAspectRatio: function getAspectRatio() {\n                var rel = this._super.apply(this, arguments);\n                //console.log(rel);\n                return rel;\n            },\n            inLayoutViewport: function inLayoutViewport() {\n                var rel = this._super.apply(this, arguments);\n                //console.log(rel);\n                return rel;\n            }\n        });\n        Phaser.DOM = new MyDOM();\n\n        var _startPointer = Phaser.Input.prototype.startPointer;\n        Phaser.Input.prototype.startPointer = function (event) {\n            return _startPointer.call(this, this.copyEvent(event));\n        };\n        var _updatePointer = Phaser.Input.prototype.updatePointer;\n        Phaser.Input.prototype.updatePointer = function (event) {\n            return _updatePointer.call(this, this.copyEvent(event));\n        };\n        var _stopPointer = Phaser.Input.prototype.stopPointer;\n        Phaser.Input.prototype.stopPointer = function (event) {\n            return _stopPointer.call(this, this.copyEvent(event));\n        };\n        Phaser.Input.prototype.copyEvent = function (event) {\n            if (!Phaser.myScaleManager.isMyLandscape()) {\n                //未启动 自定义横屏\n                return event;\n            }\n            var target = event.target;\n            //console.log(event);\n            var myevent = this.extendCopy(event);\n\n            var _cx = myevent.clientX;\n            var _cy = myevent.clientY;\n            var _px = myevent.pageX;\n            var _py = myevent.pageY;\n            var _sx = myevent.screenX;\n            var _sy = myevent.screenY;\n            myevent.clientX = _cy;\n            myevent.clientY = target.clientHeight - _cx;\n            myevent.pageX = _py;\n            myevent.pageY = target.clientHeight - _px;\n            //myevent.rotationAngle=Math.PI/2;\n            return myevent;\n        };\n        Phaser.Input.prototype.extendCopy = function (p) {\n            var c = {};\n            for (var i in p) {\n                c[i] = p[i];\n            }\n            c.uber = p;\n            return c;\n        };\n\n        var _getParentBounds = Phaser.ScaleManager.prototype.getParentBounds;\n        Phaser.ScaleManager.prototype.getParentBounds = function () {\n            var rel = _getParentBounds.apply(this, arguments);\n            var _width = rel.width;\n            var _height = rel.height;\n            if (Phaser.myScaleManager.isMyLandscape()) {\n                rel.width = _height;\n                rel.height = _width;\n            }\n            return rel;\n        };\n    },\n    boot: function boot(game) {\n        this.game = game;\n    },\n    refresh: function refresh() {\n\n        document.body.style.width = document.documentElement.clientWidth + "px";\n        document.body.style.height = document.documentElement.clientHeight + "px";\n\n        if (document.documentElement.clientHeight >= document.documentElement.clientWidth) {\n            //竖屏\n            this.gameDiv.style.height = document.body.clientWidth + "px";\n            this.gameDiv.style.width = document.body.clientHeight + "px";\n            this.gameDiv.style.transform = "rotate(90deg)";\n            this.gameDiv.style.left = -(document.documentElement.clientHeight - document.documentElement.clientWidth) / 2 + "px";\n        } else {\n            //横屏\n            this.gameDiv.style.width = document.body.clientWidth + "px";\n            this.gameDiv.style.height = document.body.clientHeight + "px";\n            this.gameDiv.style.transform = "";\n            this.gameDiv.style.left = "";\n        }\n\n        this.wMax = 1280;\n        this.hScale = 1;\n        this.hTrim = 0;\n        this.vScale = 1;\n        this.vTrim = 0;\n        this.height = this.gameDiv.clientHeight;\n        this.width = this.gameDiv.clientWidth;\n        this.scale = 1;\n        if (this.width > this.wMax) {\n            this.scale = this.width / this.wMax;\n        }\n        if (this.scale < 1) {\n            this.scale = 1;\n        }\n        //console.log("scale: "+scale);\n        this.width = this.width / this.scale;\n        this.height = this.height / this.scale;\n        this.hScale = this.scale;\n        this.vScale = this.scale;\n        if (this.game && this.game.scale) {\n            if (this.game.scale.scaleMode === Phaser.ScaleManager.USER_SCALE) {\n                this.game.scale.setUserScale(this.hScale, this.vScale, this.hTrim, this.vTrim);\n            }\n        }\n    },\n    setMyLandscapeMode: function setMyLandscapeMode(setTo, refresh) {\n        refresh = refresh || false;\n        this.isMyLandscapeMode = setTo;\n        if (refresh) {\n            this.refresh();\n        }\n    },\n    isMyLandscape: function isMyLandscape() {\n        return this.isMyLandscapeMode;\n    }\n\n});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvTXlTY2FsZU1hbmFnZXIuanM/ODYxNyJdLCJuYW1lcyI6WyJleHRlbmQiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImN0b3IiLCJnYW1lRGl2IiwicHJvRE9NIiwiUGhhc2VyIiwiRE9NIiwiaXNNeUxhbmRzY2FwZU1vZGUiLCJnZXRTY3JlZW5PcmllbnRhdGlvbiIsInNldE15TGFuZHNjYXBlTW9kZSIsInJlZnJlc2giLCJCYXNlRE9NIiwiTXlET00iLCJvcmllbnRhdGlvbiIsIl9zdXBlciIsImFwcGx5IiwiYXJndW1lbnRzIiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRXaWR0aCIsInByb0RvY3VtZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJwcm9Eb2N1bWVudEhlaWdodCIsIm15U2NhbGVNYW5hZ2VyIiwiaXNNeUxhbmRzY2FwZSIsImdldE9mZnNldCIsInJlbCIsImdldEJvdW5kcyIsImNhbGlicmF0ZSIsImdldEFzcGVjdFJhdGlvIiwiaW5MYXlvdXRWaWV3cG9ydCIsIl9zdGFydFBvaW50ZXIiLCJJbnB1dCIsInByb3RvdHlwZSIsInN0YXJ0UG9pbnRlciIsImV2ZW50IiwiY2FsbCIsImNvcHlFdmVudCIsIl91cGRhdGVQb2ludGVyIiwidXBkYXRlUG9pbnRlciIsIl9zdG9wUG9pbnRlciIsInN0b3BQb2ludGVyIiwidGFyZ2V0IiwibXlldmVudCIsImV4dGVuZENvcHkiLCJfY3giLCJjbGllbnRYIiwiX2N5IiwiY2xpZW50WSIsIl9weCIsInBhZ2VYIiwiX3B5IiwicGFnZVkiLCJfc3giLCJzY3JlZW5YIiwiX3N5Iiwic2NyZWVuWSIsInAiLCJjIiwiaSIsInViZXIiLCJfZ2V0UGFyZW50Qm91bmRzIiwiU2NhbGVNYW5hZ2VyIiwiZ2V0UGFyZW50Qm91bmRzIiwiX3dpZHRoIiwid2lkdGgiLCJfaGVpZ2h0IiwiaGVpZ2h0IiwiYm9vdCIsImdhbWUiLCJib2R5Iiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJsZWZ0Iiwid01heCIsImhTY2FsZSIsImhUcmltIiwidlNjYWxlIiwidlRyaW0iLCJzY2FsZSIsInNjYWxlTW9kZSIsIlVTRVJfU0NBTEUiLCJzZXRVc2VyU2NhbGUiLCJzZXRUbyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0EsSUFBSUEsU0FBUyxtQkFBQUMsQ0FBUSxDQUFSLENBQWI7O0FBRUFDLE9BQU9DLE9BQVAsR0FBaUJILE9BQU8sWUFBWSxDQUFFLENBQXJCLEVBQXVCO0FBQ3BDSSxVQUFNLFNBQVNBLElBQVQsQ0FBY0MsT0FBZCxFQUF1QjtBQUN6QixhQUFLQSxPQUFMLEdBQWVBLE9BQWY7QUFDQSxhQUFLQyxNQUFMLEdBQWNDLE9BQU9DLEdBQXJCO0FBQ0EsYUFBS0MsaUJBQUwsR0FBeUIsS0FBekI7QUFDQSxZQUFJLEtBQUtILE1BQUwsQ0FBWUksb0JBQVosTUFBc0MsbUJBQTFDLEVBQStEO0FBQzNEO0FBQ0EsaUJBQUtDLGtCQUFMLENBQXdCLElBQXhCLEVBQThCLElBQTlCO0FBQ0gsU0FIRCxNQUdPO0FBQ0gsaUJBQUtDLE9BQUw7QUFDSDtBQUNELFlBQUlDLFVBQVViLE9BQU8sWUFBWSxDQUFFLENBQXJCLEVBQXVCTyxPQUFPQyxHQUE5QixDQUFkOztBQUVBLFlBQUlNLFFBQVFkLE9BQU9hLE9BQVAsRUFBZ0I7QUFDeEJILGtDQUFzQixTQUFTQSxvQkFBVCxHQUFnQztBQUNsRCxvQkFBSUssY0FBYyxLQUFLQyxNQUFMLENBQVlDLEtBQVosQ0FBa0IsSUFBbEIsRUFBd0JDLFNBQXhCLENBQWxCOztBQUVBLG9CQUFJQyxTQUFTQyxlQUFULENBQXlCQyxXQUF6QixLQUF5QyxLQUFLQyxnQkFBOUMsSUFBa0VILFNBQVNDLGVBQVQsQ0FBeUJHLFlBQXpCLEtBQTBDLEtBQUtDLGlCQUFySCxFQUF3STtBQUNwSWpCLDJCQUFPa0IsY0FBUCxDQUFzQmIsT0FBdEIsR0FEb0ksQ0FDbkc7O0FBRWpDLHlCQUFLVSxnQkFBTCxHQUF3QkgsU0FBU0MsZUFBVCxDQUF5QkMs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R0FBYSxLQUFLYyxLQUEvQjtBQUNBLGFBQUtaLE1BQUwsR0FBYyxLQUFLQSxNQUFMLEdBQWMsS0FBS1ksS0FBakM7QUFDQSxhQUFLSixNQUFMLEdBQWMsS0FBS0ksS0FBbkI7QUFDQSxhQUFLRixNQUFMLEdBQWMsS0FBS0UsS0FBbkI7QUFDQSxZQUFJLEtBQUtWLElBQUwsSUFBYSxLQUFLQSxJQUFMLENBQVVVLEtBQTNCLEVBQWtDO0FBQzlCLGdCQUFJLEtBQUtWLElBQUwsQ0FBVVUsS0FBVixDQUFnQkMsU0FBaEIsS0FBOEIzRSxPQUFPeUQsWUFBUCxDQUFvQm1CLFVBQXRELEVBQWtFO0FBQzlELHFCQUFLWixJQUFMLENBQVVVLEtBQVYsQ0FBZ0JHLFlBQWhCLENBQTZCLEtBQUtQLE1BQWxDLEVBQTBDLEtBQUtFLE1BQS9DLEVBQXVELEtBQUtELEtBQTVELEVBQW1FLEtBQUtFLEtBQXhFO0FBQ0g7QUFDSjtBQUNKLEtBekttQztBQTBLcENyRSx3QkFBb0IsU0FBU0Esa0JBQVQsQ0FBNEIwRSxLQUE1QixFQUFtQ3pFLE9BQW5DLEVBQTRDO0FBQzVEQSxrQkFBVUEsV0FBVyxLQUFyQjtBQUNBLGFBQUtILGlCQUFMLEdBQXlCNEUsS0FBekI7QUFDQSxZQUFJekUsT0FBSixFQUFhO0FBQ1QsaUJBQUtBLE9BQUw7QUFDSDtBQUNKLEtBaExtQztBQWlMcENjLG1CQUFlLFNBQVNBLGFBQVQsR0FBeUI7QUFDcEMsZUFBTyxLQUFLakIsaUJBQVo7QUFDSDs7QUFuTG1DLENBQXZCLENBQWpCIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxudmFyIGV4dGVuZCA9IHJlcXVpcmUoJy4vaW5oZXJpdHMuanMnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZXh0ZW5kKGZ1bmN0aW9uICgpIHt9LCB7XHJcbiAgICBjdG9yOiBmdW5jdGlvbiBjdG9yKGdhbWVEaXYpIHtcclxuICAgICAgICB0aGlzLmdhbWVEaXYgPSBnYW1lRGl2O1xyXG4gICAgICAgIHRoaXMucHJvRE9NID0gUGhhc2VyLkRPTTtcclxuICAgICAgICB0aGlzLmlzTXlMYW5kc2NhcGVNb2RlID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvRE9NLmdldFNjcmVlbk9yaWVudGF0aW9uKCkgIT0gXCJsYW5kc2NhcGUtcHJpbWFyeVwiKSB7XHJcbiAgICAgICAgICAgIC8v5aaC5p6c5b2T5YmN5piv56uW5bGPIOWQr+WKqOiHquWumuS5ieaoquWxj1xyXG4gICAgICAgICAgICB0aGlzLnNldE15TGFuZHNjYXBlTW9kZSh0cnVlLCB0cnVlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIEJhc2VET00gPSBleHRlbmQoZnVuY3Rpb24gKCkge30sIFBoYXNlci5ET00pO1xyXG5cclxuICAgICAgICB2YXIgTXlET00gPSBleHRlbmQoQmFzZURPTSwge1xyXG4gICAgICAgICAgICBnZXRTY3JlZW5PcmllbnRhdGlvbjogZnVuY3Rpb24gZ2V0U2NyZWVuT3JpZW50YXRpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3JpZW50YXRpb24gPSB0aGlzLl9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggIT09IHRoaXMucHJvRG9jdW1lbnRXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0ICE9PSB0aGlzLnByb0RvY3VtZW50SGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUGhhc2VyLm15U2NhbGVNYW5hZ2VyLnJlZnJlc2goKTsgLy/liLfmlrDnlYzpnaLlrr3pq5gg6Z2e5bi45pyJ55SoXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvRG9jdW1lbnRXaWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb0RvY3VtZW50SGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAob3JpZW50YXRpb24gIT0gXCJsYW5kc2NhcGUtcHJpbWFyeVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy/lvZPliY3mmK/nq5blsY9cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIVBoYXNlci5teVNjYWxlTWFuYWdlci5pc015TGFuZHNjYXBlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/mnKrlkK/liqgg6Ieq5a6a5LmJ5qiq5bGPXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFBoYXNlci5teVNjYWxlTWFuYWdlci5zZXRNeUxhbmRzY2FwZU1vZGUodHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImxhbmRzY2FwZS1wcmltYXJ5XCI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8v5YiH5o2i5Yiw5qiq5bGP5qih5byPXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBoYXNlci5teVNjYWxlTWFuYWdlci5pc015TGFuZHNjYXBlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/lhbPpl63oh6rlrprkuYnmqKrlsY/mqKHlvI9cclxuICAgICAgICAgICAgICAgICAgICAgICAgUGhhc2VyLm15U2NhbGVNYW5hZ2VyLnNldE15TGFuZHNjYXBlTW9kZShmYWxzZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvcmllbnRhdGlvbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0T2Zmc2V0OiBmdW5jdGlvbiBnZXRPZmZzZXQoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVsID0gdGhpcy5fc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2cocmVsKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZWw7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldEJvdW5kczogZnVuY3Rpb24gZ2V0Qm91bmRzKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlbCA9IHRoaXMuX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlbCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVsO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjYWxpYnJhdGU6IGZ1bmN0aW9uIGNhbGlicmF0ZSgpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZWwgPSB0aGlzLl9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhyZWwpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlbDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0QXNwZWN0UmF0aW86IGZ1bmN0aW9uIGdldEFzcGVjdFJhdGlvKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlbCA9IHRoaXMuX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlbCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVsO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpbkxheW91dFZpZXdwb3J0OiBmdW5jdGlvbiBpbkxheW91dFZpZXdwb3J0KCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlbCA9IHRoaXMuX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlbCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgUGhhc2VyLkRPTSA9IG5ldyBNeURPTSgpO1xyXG5cclxuICAgICAgICB2YXIgX3N0YXJ0UG9pbnRlciA9IFBoYXNlci5JbnB1dC5wcm90b3R5cGUuc3RhcnRQb2ludGVyO1xyXG4gICAgICAgIFBoYXNlci5JbnB1dC5wcm90b3R5cGUuc3RhcnRQb2ludGVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfc3RhcnRQb2ludGVyLmNhbGwodGhpcywgdGhpcy5jb3B5RXZlbnQoZXZlbnQpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBfdXBkYXRlUG9pbnRlciA9IFBoYXNlci5JbnB1dC5wcm90b3R5cGUudXBkYXRlUG9pbnRlcjtcclxuICAgICAgICBQaGFzZXIuSW5wdXQucHJvdG90eXBlLnVwZGF0ZVBvaW50ZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF91cGRhdGVQb2ludGVyLmNhbGwodGhpcywgdGhpcy5jb3B5RXZlbnQoZXZlbnQpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBfc3RvcFBvaW50ZXIgPSBQaGFzZXIuSW5wdXQucHJvdG90eXBlLnN0b3BQb2ludGVyO1xyXG4gICAgICAgIFBoYXNlci5JbnB1dC5wcm90b3R5cGUuc3RvcFBvaW50ZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9zdG9wUG9pbnRlci5jYWxsKHRoaXMsIHRoaXMuY29weUV2ZW50KGV2ZW50KSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBQaGFzZXIuSW5wdXQucHJvdG90eXBlLmNvcHlFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBpZiAoIVBoYXNlci5teVNjYWxlTWFuYWdlci5pc015TGFuZHNjYXBlKCkpIHtcclxuICAgICAgICAgICAgICAgIC8v5pyq5ZCv5YqoIOiHquWumuS5ieaoquWxj1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coZXZlbnQpO1xyXG4gICAgICAgICAgICB2YXIgbXlldmVudCA9IHRoaXMuZXh0ZW5kQ29weShldmVudCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgX2N4ID0gbXlldmVudC5jbGllbnRYO1xyXG4gICAgICAgICAgICB2YXIgX2N5ID0gbXlldmVudC5jbGllbnRZO1xyXG4gICAgICAgICAgICB2YXIgX3B4ID0gbXlldmVudC5wYWdlWDtcclxuICAgICAgICAgICAgdmFyIF9weSA9IG15ZXZlbnQucGFnZVk7XHJcbiAgICAgICAgICAgIHZhciBfc3ggPSBteWV2ZW50LnNjcmVlblg7XHJcbiAgICAgICAgICAgIHZhciBfc3kgPSBteWV2ZW50LnNjcmVlblk7XHJcbiAgICAgICAgICAgIG15ZXZlbnQuY2xpZW50WCA9IF9jeTtcclxuICAgICAgICAgICAgbXlldmVudC5jbGllbnRZID0gdGFyZ2V0LmNsaWVudEhlaWdodCAtIF9jeDtcclxuICAgICAgICAgICAgbXlldmVudC5wYWdlWCA9IF9weTtcclxuICAgICAgICAgICAgbXlldmVudC5wYWdlWSA9IHRhcmdldC5jbGllbnRIZWlnaHQgLSBfcHg7XHJcbiAgICAgICAgICAgIC8vbXlldmVudC5yb3RhdGlvbkFuZ2xlPU1hdGguUEkvMjtcclxuICAgICAgICAgICAgcmV0dXJuIG15ZXZlbnQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBQaGFzZXIuSW5wdXQucHJvdG90eXBlLmV4dGVuZENvcHkgPSBmdW5jdGlvbiAocCkge1xyXG4gICAgICAgICAgICB2YXIgYyA9IHt9O1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIHApIHtcclxuICAgICAgICAgICAgICAgIGNbaV0gPSBwW2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGMudWJlciA9IHA7XHJcbiAgICAgICAgICAgIHJldHVybiBjO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBfZ2V0UGFyZW50Qm91bmRzID0gUGhhc2VyLlNjYWxlTWFuYWdlci5wcm90b3R5cGUuZ2V0UGFyZW50Qm91bmRzO1xyXG4gICAgICAgIFBoYXNlci5TY2FsZU1hbmFnZXIucHJvdG90eXBlLmdldFBhcmVudEJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHJlbCA9IF9nZXRQYXJlbnRCb3VuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgdmFyIF93aWR0aCA9IHJlbC53aWR0aDtcclxuICAgICAgICAgICAgdmFyIF9oZWlnaHQgPSByZWwuaGVpZ2h0O1xyXG4gICAgICAgICAgICBpZiAoUGhhc2VyLm15U2NhbGVNYW5hZ2VyLmlzTXlMYW5kc2NhcGUoKSkge1xyXG4gICAgICAgICAgICAgICAgcmVsLndpZHRoID0gX2hlaWdodDtcclxuICAgICAgICAgICAgICAgIHJlbC5oZWlnaHQgPSBfd2lkdGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlbDtcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGJvb3Q6IGZ1bmN0aW9uIGJvb3QoZ2FtZSkge1xyXG4gICAgICAgIHRoaXMuZ2FtZSA9IGdhbWU7XHJcbiAgICB9LFxyXG4gICAgcmVmcmVzaDogZnVuY3Rpb24gcmVmcmVzaCgpIHtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS53aWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCArIFwicHhcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgKyBcInB4XCI7XHJcblxyXG4gICAgICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0ID49IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCkge1xyXG4gICAgICAgICAgICAvL+erluWxj1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVEaXYuc3R5bGUuaGVpZ2h0ID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCArIFwicHhcIjtcclxuICAgICAgICAgICAgdGhpcy5nYW1lRGl2LnN0eWxlLndpZHRoID0gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQgKyBcInB4XCI7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZURpdi5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZSg5MGRlZylcIjtcclxuICAgICAgICAgICAgdGhpcy5nYW1lRGl2LnN0eWxlLmxlZnQgPSAtKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgLSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpIC8gMiArIFwicHhcIjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvL+aoquWxj1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVEaXYuc3R5bGUud2lkdGggPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoICsgXCJweFwiO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVEaXYuc3R5bGUuaGVpZ2h0ID0gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQgKyBcInB4XCI7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZURpdi5zdHlsZS50cmFuc2Zvcm0gPSBcIlwiO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVEaXYuc3R5bGUubGVmdCA9IFwiXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLndNYXggPSAxMjgwO1xyXG4gICAgICAgIHRoaXMuaFNjYWxlID0gMTtcclxuICAgICAgICB0aGlzLmhUcmltID0gMDtcclxuICAgICAgICB0aGlzLnZTY2FsZSA9IDE7XHJcbiAgICAgICAgdGhpcy52VHJpbSA9IDA7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmdhbWVEaXYuY2xpZW50SGVpZ2h0O1xyXG4gICAgICAgIHRoaXMud2lkdGggPSB0aGlzLmdhbWVEaXYuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgdGhpcy5zY2FsZSA9IDE7XHJcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPiB0aGlzLndNYXgpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2FsZSA9IHRoaXMud2lkdGggLyB0aGlzLndNYXg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnNjYWxlIDwgMSkge1xyXG4gICAgICAgICAgICB0aGlzLnNjYWxlID0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcInNjYWxlOiBcIitzY2FsZSk7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMud2lkdGggLyB0aGlzLnNjYWxlO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgLyB0aGlzLnNjYWxlO1xyXG4gICAgICAgIHRoaXMuaFNjYWxlID0gdGhpcy5zY2FsZTtcclxuICAgICAgICB0aGlzLnZTY2FsZSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZSAmJiB0aGlzLmdhbWUuc2NhbGUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZS5zY2FsZS5zY2FsZU1vZGUgPT09IFBoYXNlci5TY2FsZU1hbmFnZXIuVVNFUl9TQ0FMRSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lLnNjYWxlLnNldFVzZXJTY2FsZSh0aGlzLmhTY2FsZSwgdGhpcy52U2NhbGUsIHRoaXMuaFRyaW0sIHRoaXMudlRyaW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNldE15TGFuZHNjYXBlTW9kZTogZnVuY3Rpb24gc2V0TXlMYW5kc2NhcGVNb2RlKHNldFRvLCByZWZyZXNoKSB7XHJcbiAgICAgICAgcmVmcmVzaCA9IHJlZnJlc2ggfHwgZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pc015TGFuZHNjYXBlTW9kZSA9IHNldFRvO1xyXG4gICAgICAgIGlmIChyZWZyZXNoKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBpc015TGFuZHNjYXBlOiBmdW5jdGlvbiBpc015TGFuZHNjYXBlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzTXlMYW5kc2NhcGVNb2RlO1xyXG4gICAgfVxyXG5cclxufSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3V0aWxzL015U2NhbGVNYW5hZ2VyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==');
},function(module,exports,__webpack_require__){eval('\'use strict\';\n\nvar MainMenuState = __webpack_require__(4);\n\nmodule.exports = {\n\tpreload: function () {\n\t\tthis.game.load.image("compass", "static/assets/touch1.png");\n\t\tthis.game.load.image("touch", "static/assets/touch2.png");\n\t},\n\tcreate: function () {\n\t\tthis.server = window.Client;\n\t\tthis.login();\n\t},\n\tlogin: function (guid, pwd) {\n\t\tvar self = this;\n\t\ttry {\n\t\t\tvar host = window.location.hostname;\n\t\t\tif (host == "") {\n\t\t\t\thost = "127.0.0.1";\n\t\t\t}\n\t\t\tthis.server.connect({\n\t\t\t\thost: host,\n\t\t\t\tport: 23456,\n\t\t\t\tonConnect: function () {\n\t\t\t\t\t//alert("游戏连接成功!");\n\t\t\t\t\tself.server.requestNR("", "login", ["guid", "md5"]);\n\t\t\t\t\tself.game.state.add("MainMenuState", new MainMenuState(), false);\n\t\t\t\t\tself.state.start("MainMenuState");\n\t\t\t\t},\n\t\t\t\tonClose: function () {\n\t\t\t\t\tconsole.log("closed.");\n\t\t\t\t},\n\t\t\t\tonError: function (e) {\n\t\t\t\t\tconsole.log(e);\n\t\t\t\t}\n\t\t\t});\n\t\t} catch (e) {\n\t\t\talert(e);\n\t\t}\n\t}\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3RhdGVzL0Jvb3RTdGF0ZS5qcz9hNWE1Il0sIm5hbWVzIjpbIk1haW5NZW51U3RhdGUiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsInByZWxvYWQiLCJnYW1lIiwibG9hZCIsImltYWdlIiwiY3JlYXRlIiwic2VydmVyIiwid2luZG93IiwiQ2xpZW50IiwibG9naW4iLCJndWlkIiwicHdkIiwic2VsZiIsImhvc3QiLCJsb2NhdGlvbiIsImhvc3RuYW1lIiwiY29ubmVjdCIsInBvcnQiLCJvbkNvbm5lY3QiLCJyZXF1ZXN0TlIiLCJzdGF0ZSIsImFkZCIsInN0YXJ0Iiwib25DbG9zZSIsImNvbnNvbGUiLCJsb2ciLCJvbkVycm9yIiwiZSIsImFsZXJ0Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQSxJQUFJQSxnQkFBZ0IsbUJBQUFDLENBQVEsQ0FBUixDQUFwQjs7QUFFQUMsT0FBT0MsT0FBUCxHQUFpQjtBQUNoQkMsVUFBUyxZQUFXO0FBQ25CLE9BQUtDLElBQUwsQ0FBVUMsSUFBVixDQUFlQyxLQUFmLENBQXFCLFNBQXJCLEVBQWdDLDBCQUFoQztBQUNBLE9BQUtGLElBQUwsQ0FBVUMsSUFBVixDQUFlQyxLQUFmLENBQXFCLE9BQXJCLEVBQThCLDBCQUE5QjtBQUNBLEVBSmU7QUFLaEJDLFNBQVEsWUFBVztBQUNsQixPQUFLQyxNQUFMLEdBQWNDLE9BQU9DLE1BQXJCO0FBQ0EsT0FBS0MsS0FBTDtBQUNBLEVBUmU7QUFTaEJBLFFBQU8sVUFBU0MsSUFBVCxFQUFlQyxHQUFmLEVBQW9CO0FBQzFCLE1BQUlDLE9BQU8sSUFBWDtBQUNBLE1BQUc7QUFDRixPQUFJQyxPQUFPTixPQUFPTyxRQUFQLENBQWdCQyxRQUEzQjtBQUNBLE9BQUlGLFFBQVEsRUFBWixFQUNBO0FBQ0NBLFdBQU8sV0FBUDtBQUNBO0FBQ0QsUUFBS1AsTUFBTCxDQUFZVSxPQUFaLENBQW9CO0FBQ25CSCxVQUFNQSxJQURhO0FBRW5CSSxVQUFNLEtBRmE7QUFHbkJDLGVBQVcsWUFBVztBQUNyQjtBQUNBTixVQUFLTixNQUFMLENBQVlhLFNBQVosQ0FBc0IsRUFBdEIsRUFBMEIsT0FBMUIsRUFBbUMsQ0FBQyxNQUFELEVBQVMsS0FBVCxDQUFuQztBQUNBUCxVQUFLVixJQUFMLENBQVVrQixLQUFWLENBQWdCQyxHQUFoQixDQUFvQixlQUFwQixFQUFxQyxJQUFJeEIsYUFBSixFQUFyQyxFQUEwRCxLQUExRDtBQUNBZSxVQUFLUSxLQUFMLENBQVdFLEtBQVgsQ0FBaUIsZUFBakI7QUFDQSxLQVJrQjtBQVNuQkMsYUFBUyxZQUFXO0FBQ25CQyxhQUFRQyxHQUFSLENBQVksU0FBWjtBQUNBLEtBWGtCO0FBWW5CQyxhQUFTLFVBQVNDLENBQVQsRUFBWTtBQUNwQkgsYUFBUUMsR0FBUixDQUFZRSxDQUFaO0FBQ0E7QUFka0IsSUFBcEI7QUFnQkEsR0F0QkQsQ0FzQkMsT0FBT0EsQ0FBUCxFQUFTO0FBQ1RDLFNBQU1ELENBQU47QUFDQTtBQUNFO0FBcENZLENBQWpCIiwiZmlsZSI6IjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcbnZhciBNYWluTWVudVN0YXRlID0gcmVxdWlyZSgnLi9NYWluTWVudVN0YXRlLmpzJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuXHRwcmVsb2FkOiBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMuZ2FtZS5sb2FkLmltYWdlKFwiY29tcGFzc1wiLCBcInN0YXRpYy9hc3NldHMvdG91Y2gxLnBuZ1wiKTtcclxuXHRcdHRoaXMuZ2FtZS5sb2FkLmltYWdlKFwidG91Y2hcIiwgXCJzdGF0aWMvYXNzZXRzL3RvdWNoMi5wbmdcIik7XHJcblx0fSxcclxuXHRjcmVhdGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5zZXJ2ZXIgPSB3aW5kb3cuQ2xpZW50O1xyXG5cdFx0dGhpcy5sb2dpbigpO1xyXG5cdH0sXHJcblx0bG9naW46IGZ1bmN0aW9uKGd1aWQsIHB3ZCkge1xyXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0dHJ5e1xyXG5cdFx0XHR2YXIgaG9zdCA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTtcclxuXHRcdFx0aWYgKGhvc3QgPT0gXCJcIilcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGhvc3QgPSBcIjEyNy4wLjAuMVwiO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMuc2VydmVyLmNvbm5lY3Qoe1xyXG5cdFx0XHRcdGhvc3Q6IGhvc3QsXHJcblx0XHRcdFx0cG9ydDogMjM0NTYsXHJcblx0XHRcdFx0b25Db25uZWN0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdC8vYWxlcnQoXCLmuLjmiI/ov57mjqXmiJDlip8hXCIpO1xyXG5cdFx0XHRcdFx0c2VsZi5zZXJ2ZXIucmVxdWVzdE5SKFwiXCIsIFwibG9naW5cIiwgW1wiZ3VpZFwiLCBcIm1kNVwiXSk7XHJcblx0XHRcdFx0XHRzZWxmLmdhbWUuc3RhdGUuYWRkKFwiTWFpbk1lbnVTdGF0ZVwiLCBuZXcgTWFpbk1lbnVTdGF0ZSgpLCBmYWxzZSk7XHJcblx0XHRcdFx0XHRzZWxmLnN0YXRlLnN0YXJ0KFwiTWFpbk1lbnVTdGF0ZVwiKTtcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdG9uQ2xvc2U6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXCJjbG9zZWQuXCIpO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0b25FcnJvcjogZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH1jYXRjaCAoZSl7XHJcblx0XHRcdGFsZXJ0KGUpO1xyXG5cdFx0fVxyXG4gICAgfSxcclxufTtcclxuXHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zdGF0ZXMvQm9vdFN0YXRlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports,__webpack_require__){eval('"use strict";\n\nvar extend = __webpack_require__(1);\nvar GameState = __webpack_require__(5);\n\nmodule.exports = extend(function () {}, {\n\tctor: function () {\n\t\tthis.server = window.Client;\n\t},\n\tinit: function () {\n\t\tthis.physics.startSystem(Phaser.Physics.ARCADE);\n\t\tthis.game.stage.backgroundColor = "#DFDFDF";\n\t\tthis.game.time.desiredFps = 25;\n\t},\n\tpreload: function () {\n\t\tthis.game.load.image("sgBtn", "static/assets/sgBtn.png");\n\t\tthis.game.load.image("bg", "static/assets/bg.jpg");\n\t},\n\tcreate: function () {\n\t\tthis.game.scale.pageAlignHorizontally = true;\n\t\tthis.game.scale.pageAlignVertically = true;\n\t\t// ��������ʾȫ��\n\t\tthis.game.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\n\t\tvar bgSprite = this.game.add.tileSprite(0, 0, 2 * this.game.world.width, 2 * this.game.world.height, "bg");\n\t\tthis.singleBtn = this.game.add.button(0, 0, "sgBtn", this.startGame, this);\n\t\tthis.singleBtn.scale.x = 1.5;\n\t\tthis.singleBtn.scale.y = 1.5;\n\t\tthis.singleBtn.reset((this.game.width - this.singleBtn.width) / 2, (this.game.height - this.singleBtn.height) / 2);\n\t},\n\tstartGame: function () {\n\t\tvar that = this;\n\t\tthis.server.request("", "phaserLogin", [], function (guid, nick, lv) {\n\t\t\tthat.game.state.add("GameState", new GameState(guid, nick, lv), false);\n\t\t\tthat.state.start("GameState");\n\t\t});\n\t}\n});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3RhdGVzL01haW5NZW51U3RhdGUuanM/ZTkwMyJdLCJuYW1lcyI6WyJleHRlbmQiLCJyZXF1aXJlIiwiR2FtZVN0YXRlIiwibW9kdWxlIiwiZXhwb3J0cyIsImN0b3IiLCJzZXJ2ZXIiLCJ3aW5kb3ciLCJDbGllbnQiLCJpbml0IiwicGh5c2ljcyIsInN0YXJ0U3lzdGVtIiwiUGhhc2VyIiwiUGh5c2ljcyIsIkFSQ0FERSIsImdhbWUiLCJzdGFnZSIsImJhY2tncm91bmRDb2xvciIsInRpbWUiLCJkZXNpcmVkRnBzIiwicHJlbG9hZCIsImxvYWQiLCJpbWFnZSIsImNyZWF0ZSIsInNjYWxlIiwicGFnZUFsaWduSG9yaXpvbnRhbGx5IiwicGFnZUFsaWduVmVydGljYWxseSIsInNjYWxlTW9kZSIsIlNjYWxlTWFuYWdlciIsIlNIT1dfQUxMIiwiYmdTcHJpdGUiLCJhZGQiLCJ0aWxlU3ByaXRlIiwid29ybGQiLCJ3aWR0aCIsImhlaWdodCIsInNpbmdsZUJ0biIsImJ1dHRvbiIsInN0YXJ0R2FtZSIsIngiLCJ5IiwicmVzZXQiLCJ0aGF0IiwicmVxdWVzdCIsImd1aWQiLCJuaWNrIiwibHYiLCJzdGF0ZSIsInN0YXJ0Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQSxJQUFJQSxTQUFTLG1CQUFBQyxDQUFRLENBQVIsQ0FBYjtBQUNBLElBQUlDLFlBQVksbUJBQUFELENBQVEsQ0FBUixDQUFoQjs7QUFFQUUsT0FBT0MsT0FBUCxHQUFpQkosT0FBTyxZQUFZLENBQUUsQ0FBckIsRUFBdUI7QUFDdkNLLE9BQU0sWUFBWTtBQUNqQixPQUFLQyxNQUFMLEdBQWNDLE9BQU9DLE1BQXJCO0FBQ0EsRUFIc0M7QUFJdkNDLE9BQU0sWUFBVztBQUNoQixPQUFLQyxPQUFMLENBQWFDLFdBQWIsQ0FBeUJDLE9BQU9DLE9BQVAsQ0FBZUMsTUFBeEM7QUFDQSxPQUFLQyxJQUFMLENBQVVDLEtBQVYsQ0FBZ0JDLGVBQWhCLEdBQWtDLFNBQWxDO0FBQ0EsT0FBS0YsSUFBTCxDQUFVRyxJQUFWLENBQWVDLFVBQWYsR0FBNEIsRUFBNUI7QUFDQSxFQVJzQztBQVN2Q0MsVUFBUyxZQUFXO0FBQ25CLE9BQUtMLElBQUwsQ0FBVU0sSUFBVixDQUFlQyxLQUFmLENBQXFCLE9BQXJCLEVBQThCLHlCQUE5QjtBQUNBLE9BQUtQLElBQUwsQ0FBVU0sSUFBVixDQUFlQyxLQUFmLENBQXFCLElBQXJCLEVBQTJCLHNCQUEzQjtBQUNBLEVBWnNDO0FBYXZDQyxTQUFRLFlBQVc7QUFDbEIsT0FBS1IsSUFBTCxDQUFVUyxLQUFWLENBQWdCQyxxQkFBaEIsR0FBd0MsSUFBeEM7QUFDQSxPQUFLVixJQUFMLENBQVVTLEtBQVYsQ0FBZ0JFLG1CQUFoQixHQUFzQyxJQUF0QztBQUNBO0FBQ0EsT0FBS1gsSUFBTCxDQUFVUyxLQUFWLENBQWdCRyxTQUFoQixHQUE0QmYsT0FBT2dCLFlBQVAsQ0FBb0JDLFFBQWhEO0FBQ0EsTUFBSUMsV0FBVyxLQUFLZixJQUFMLENBQVVnQixHQUFWLENBQWNDLFVBQWQsQ0FBeUIsQ0FBekIsRUFBNEIsQ0FBNUIsRUFBK0IsSUFBRSxLQUFLakIsSUFBTCxDQUFVa0IsS0FBVixDQUFnQkMsS0FBakQsRUFBd0QsSUFBRSxLQUFLbkIsSUFBTCxDQUFVa0IsS0FBVixDQUFnQkUsTUFBMUUsRUFBa0YsSUFBbEYsQ0FBZjtBQUNBLE9BQUtDLFNBQUwsR0FBaUIsS0FBS3JCLElBQUwsQ0FBVWdCLEdBQVYsQ0FBY00sTUFBZCxDQUFxQixDQUFyQixFQUF3QixDQUF4QixFQUEyQixPQUEzQixFQUFvQyxLQUFLQyxTQUF6QyxFQUFvRCxJQUFwRCxDQUFqQjtBQUNBLE9BQUtGLFNBQUwsQ0FBZVosS0FBZixDQUFxQmUsQ0FBckIsR0FBeUIsR0FBekI7QUFDQSxPQUFLSCxTQUFMLENBQWVaLEtBQWYsQ0FBcUJnQixDQUFyQixHQUF5QixHQUF6QjtBQUNBLE9BQUtKLFNBQUwsQ0FBZUssS0FBZixDQUFxQixDQUFDLEtBQUsxQixJQUFMLENBQVVtQixLQUFWLEdBQWtCLEtBQUtFLFNBQUwsQ0FBZUYsS0FBbEMsSUFBMkMsQ0FBaEUsRUFBbUUsQ0FBQyxLQUFLbkIsSUFBTCxDQUFVb0IsTUFBVixHQUFtQixLQUFLQyxTQUFMLENBQWVELE1BQW5DLElBQTZDLENBQWhIO0FBQ0EsRUF2QnNDO0FBd0J2Q0csWUFBVyxZQUFXO0FBQ3JCLE1BQUlJLE9BQU8sSUFBWDtBQUNBLE9BQUtwQyxNQUFMLENBQVlxQyxPQUFaLENBQW9CLEVBQXBCLEVBQXdCLGFBQXhCLEVBQXVDLEVBQXZDLEVBQTJDLFVBQVNDLElBQVQsRUFBZUMsSUFBZixFQUFxQkMsRUFBckIsRUFBd0I7QUFDbEVKLFFBQUszQixJQUFMLENBQVVnQyxLQUFWLENBQWdCaEIsR0FBaEIsQ0FBb0IsV0FBcEIsRUFBaUMsSUFBSTdCLFNBQUosQ0FBYzBDLElBQWQsRUFBb0JDLElBQXBCLEVBQTBCQyxFQUExQixDQUFqQyxFQUFnRSxLQUFoRTtBQUNBSixRQUFLSyxLQUFMLENBQVdDLEtBQVgsQ0FBaUIsV0FBakI7QUFDQSxHQUhEO0FBSUc7QUE5Qm1DLENBQXZCLENBQWpCIiwiZmlsZSI6IjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxudmFyIGV4dGVuZCA9IHJlcXVpcmUoJy4uL3V0aWxzL2luaGVyaXRzLmpzJyk7XHJcbnZhciBHYW1lU3RhdGUgPSByZXF1aXJlKCcuL0dhbWVTdGF0ZS5qcycpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBleHRlbmQoZnVuY3Rpb24gKCkge30sIHtcclxuXHRjdG9yOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR0aGlzLnNlcnZlciA9IHdpbmRvdy5DbGllbnQ7XHJcblx0fSxcclxuXHRpbml0OiBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMucGh5c2ljcy5zdGFydFN5c3RlbShQaGFzZXIuUGh5c2ljcy5BUkNBREUpO1xyXG5cdFx0dGhpcy5nYW1lLnN0YWdlLmJhY2tncm91bmRDb2xvciA9IFwiI0RGREZERlwiO1xyXG5cdFx0dGhpcy5nYW1lLnRpbWUuZGVzaXJlZEZwcyA9IDI1O1xyXG5cdH0sXHJcblx0cHJlbG9hZDogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLmdhbWUubG9hZC5pbWFnZShcInNnQnRuXCIsIFwic3RhdGljL2Fzc2V0cy9zZ0J0bi5wbmdcIik7XHJcblx0XHR0aGlzLmdhbWUubG9hZC5pbWFnZShcImJnXCIsIFwic3RhdGljL2Fzc2V0cy9iZy5qcGdcIik7XHJcblx0fSxcclxuXHRjcmVhdGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5nYW1lLnNjYWxlLnBhZ2VBbGlnbkhvcml6b250YWxseSA9IHRydWU7XHJcblx0XHR0aGlzLmdhbWUuc2NhbGUucGFnZUFsaWduVmVydGljYWxseSA9IHRydWU7XHJcblx0XHQvLyDvv73vv73vv73vv73vv73vv73vv73vv73Kvsir77+977+9XHJcblx0XHR0aGlzLmdhbWUuc2NhbGUuc2NhbGVNb2RlID0gUGhhc2VyLlNjYWxlTWFuYWdlci5TSE9XX0FMTDtcclxuXHRcdHZhciBiZ1Nwcml0ZSA9IHRoaXMuZ2FtZS5hZGQudGlsZVNwcml0ZSgwLCAwLCAyKnRoaXMuZ2FtZS53b3JsZC53aWR0aCwgMip0aGlzLmdhbWUud29ybGQuaGVpZ2h0LCBcImJnXCIpO1xyXG5cdFx0dGhpcy5zaW5nbGVCdG4gPSB0aGlzLmdhbWUuYWRkLmJ1dHRvbigwLCAwLCBcInNnQnRuXCIsIHRoaXMuc3RhcnRHYW1lLCB0aGlzKTtcclxuXHRcdHRoaXMuc2luZ2xlQnRuLnNjYWxlLnggPSAxLjU7XHJcblx0XHR0aGlzLnNpbmdsZUJ0bi5zY2FsZS55ID0gMS41O1xyXG5cdFx0dGhpcy5zaW5nbGVCdG4ucmVzZXQoKHRoaXMuZ2FtZS53aWR0aCAtIHRoaXMuc2luZ2xlQnRuLndpZHRoKSAvIDIsICh0aGlzLmdhbWUuaGVpZ2h0IC0gdGhpcy5zaW5nbGVCdG4uaGVpZ2h0KSAvIDIpO1xyXG5cdH0sXHJcblx0c3RhcnRHYW1lOiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciB0aGF0ID0gdGhpcztcclxuXHRcdHRoaXMuc2VydmVyLnJlcXVlc3QoXCJcIiwgXCJwaGFzZXJMb2dpblwiLCBbXSwgZnVuY3Rpb24oZ3VpZCwgbmljaywgbHYpe1xyXG5cdFx0XHR0aGF0LmdhbWUuc3RhdGUuYWRkKFwiR2FtZVN0YXRlXCIsIG5ldyBHYW1lU3RhdGUoZ3VpZCwgbmljaywgbHYpLCBmYWxzZSk7XHJcblx0XHRcdHRoYXQuc3RhdGUuc3RhcnQoXCJHYW1lU3RhdGVcIik7XHJcblx0XHR9KTtcclxuICAgIH1cclxufSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3N0YXRlcy9NYWluTWVudVN0YXRlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports,__webpack_require__){eval('"use strict";\n\nvar extend = __webpack_require__(1);\nvar Hero = __webpack_require__(6);\n\nmodule.exports = extend(function () {}, {\n\tctor: function (guid, nick, lv) {\n\t\tthis.guid = guid;\n\t\tthis.nick = nick;\n\t\tthis.lv = lv;\n\n\t\tthis.frame = 0;\n\t},\n\tinit: function () {\n\t\tthis.physics.startSystem(Phaser.Physics.ARCADE);\n\t\tthis.game.stage.backgroundColor = "#DFDFDF";\n\t\tthis.game.time.desiredFps = 15;\n\t\tthis.game.touchControl = this.game.plugins.add(Phaser.Plugin.TouchControl);\n\t\tthis.game.touchControl.settings.singleDirection = false;\n\t\tthis.game.touchControl.inputEnable();\n\t},\n\tpreload: function () {\n\t\tthis.game.load.image("arrow", "static/assets/arrow.png");\n\t\tthis.game.load.image("ball", "static/assets/ball.png");\n\t},\n\tcreate: function () {\n\t\tthis.game.scale.pageAlignHorizontally = true;\n\t\tthis.game.scale.pageAlignVertically = true;\n\t\tthis.game.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\n\t\tthis.game.world.resize(2560, 2560);\n\t\tthis.game.world.setBounds(0, 0, 2560, 2560);\n\n\t\tvar bgSprite = this.game.add.tileSprite(0, 0, 2 * this.game.world.width, 2 * this.game.world.height, "bg");\n\t\t// bgSprite.autoScroll(-50,50);\n\t\t/* �Ӿ��۲��� */\n\t\tthis.arrows = this.game.add.group();\n\t\tthis.heros = this.game.add.group();\n\t\tthis.names = this.game.add.group();\n\t\t/* ͼ����Ⱦ�� */\n\t\tthis.gicGroup = this.game.add.group();\n\t\tthis.gicBlood = this.game.add.graphics(0, 0, this.gicGroup); // ���Ѫ��\n\t\tthis.initMap();\n\n\t\tthis.hero = this.joinHero({ x: 100, y: 100, lv: this.lv, nick: this.nick, guid: this.guid });\n\t\tthis.game.camera.deadzone = new Phaser.Rectangle(400, 400, this.game.stage.width - 400, this.game.stage.height - 400); //��ͷ���津������dead zone\n\t\tthis.game.camera.follow(this.hero);\n\t},\n\tinitMap: function () {\n\t\tthis.gicMap = this.game.add.graphics(0, 0, this.gicGroup); // С��ͼ\n\t\tthis.gicMap.lineStyle(1, 0xdfdfdf);\n\t\tthis.gicMap.alpha = 0.4;\n\t\tthis.gicMap.fixedToCamera = true;\n\t\tthis.gicMap.beginFill(0x99CC66, 1);\n\t\tthis.gicMap.drawCircle(200, 200, 360);\n\t\tthis.gicMap.endFill();\n\t},\n\tjoinHero: function (role) {\n\t\tvar hero = new Hero(this.game, role.x, role.y, this.heros, {\n\t\t\tarrowsGroup: this.arrows,\n\t\t\tnamesGroup: this.names,\n\t\t\tlv: role.lv, // �ȼ�\n\t\t\tnick: role.nick, // ����ǳ�\n\t\t\tguid: role.guid,\n\t\t\thp: 1600 // ��ǰ��Ѫ\n\t\t});\n\t\thero.scale.x = 2;\n\t\thero.scale.y = 2;\n\t\treturn hero;\n\t},\n\tupdateBlood: function (player) {\n\t\t// �̶Ȼ���\n\t\tvar blood = player.hp / 35;\n\t\tvar x = player.x - blood / 2;\n\t\tvar y = player.y - 60;\n\t\tvar deltaX = 6;\n\t\tif (player.hp > 0) {\n\t\t\tif (player.alpha == 0.3) {\n\t\t\t\tplayer.alpha = 1;\n\t\t\t}\n\t\t} else if (player.alpha == 1) {\n\t\t\t// ����Ч��\n\t\t\tplayer.alpha = 0.3;\n\t\t\tplayer.rotateCd = new Date().getTime() + 3000;\n\t\t}\n\t\tif (blood >= 0) {\n\t\t\tif (player.blood == 0 && blood > 0) {\n\t\t\t\t// ��ʼ��Ѫ��\n\t\t\t\tthis.game.add.tween(player).to({ blood: blood }, 500, "Linear", true);\n\t\t\t} else if (player.hp == player.lastHp) {\n\t\t\t\t// �����仯\n\t\t\t\tthis.hpChangeTag = false;\n\t\t\t} else if (this.hpChangeTag == false) {\n\t\t\t\t// �״α䶯ʱ��Ѫ����ʾ\n\t\t\t\tvar hpDelta = player.hp - player.lastHp;\n\t\t\t\tplayer.lastHp = player.hp;\n\t\t\t\tthis.hpChangeTag = true;\n\t\t\t\tif (this.hpTips != undefined) {\n\t\t\t\t\tthis.hpTips.kill();\n\t\t\t\t}\n\t\t\t\t// Ѫ���䶯����\n\t\t\t\tvar hpStr = hpDelta.toString();\n\t\t\t\tvar style = { font: "20px Arial", fill: "#ff0000", align: "center" };\n\t\t\t\tif (hpDelta > 0) {\n\t\t\t\t\thpStr = "+" + hpStr;\n\t\t\t\t\tstyle = { font: "20px Arial", fill: "#00ff00", align: "center" };\n\t\t\t\t}\n\t\t\t\tthis.hpTips = player.addChild(this.game.make.text(0, -10, hpStr, style));\n\t\t\t\tthis.hpTips.anchor.set(0.5);\n\t\t\t\tthis.hpTips.alpha = 0.1;\n\t\t\t\tthis.game.add.tween(this.hpTips).to({ alpha: 1, y: -50 }, 500, "Linear", true);\n\t\t\t\tthis.game.add.tween(player).to({ blood: blood }, 300, "Linear", true);\n\t\t\t}\n\t\t}\n\t\tif (this.hpTips != undefined && this.hpTips.alpha == 1) {\n\t\t\t// ��������Ч��\n\t\t\tthis.hpTips.kill();\n\t\t}\n\n\t\tvar gic = this.gicBlood;\n\t\tvar colorBlood = 0xFF0000; // �з���Ӫ\n\t\tif (this.guid == player.guid) {\n\t\t\tcolorBlood = 0x00EE00; // ����Ӫ\n\t\t}\n\t\tgic.beginFill(colorBlood, 0.7);\n\t\tgic.drawRoundedRect(x, y, player.blood, 14, 4);\n\t\tgic.beginFill(0x333333, 0.5);\n\t\t// Ѫ���̶�\n\t\tfor (var i = deltaX; i < player.blood; i += deltaX) {\n\t\t\tgic.drawRect(x + i, y, 2, 10);\n\t\t}\n\t},\n\tFire: function () {\n\t\tvar speed = this.game.touchControl.speed;\n\t\tvar x = speed.x;\n\t\tvar y = speed.y;\n\t\tif (x == 0 && y == 0) {\n\t\t\treturn;\n\t\t};\n\t\tthis.hero.Fire(x, y);\n\t},\n\tupdate: function () {\n\t\tthis.frame++;\n\t\tthis.gicBlood.clear(); // ����������������к��ŵĶ�̬����Ч����#todoһ�������ļ�����Ч\n\t\tthis.heros.forEachAlive(function (player) {\n\t\t\tplayer.Rotate();\n\t\t\tplayer.Move(); //�ƶ�\n\t\t\tthis.updateBlood(player);\n\t\t}, this);\n\t\tthis.Fire();\n\t\tif (this.frame % 10 == 0) {}\n\t},\n\tresize: function () {\n\t\tthis.game.world.resize(2560, 2560);\n\t\tthis.game.world.setBounds(0, 0, 2560, 2560);\n\t\tthis.game.camera.follow(this.hero);\n\t},\n\tpaused: function () {},\n\tresumed: function () {}\n});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3RhdGVzL0dhbWVTdGF0ZS5qcz83MWY3Il0sIm5hbWVzIjpbImV4dGVuZCIsInJlcXVpcmUiLCJIZXJvIiwibW9kdWxlIiwiZXhwb3J0cyIsImN0b3IiLCJndWlkIiwibmljayIsImx2IiwiZnJhbWUiLCJpbml0IiwicGh5c2ljcyIsInN0YXJ0U3lzdGVtIiwiUGhhc2VyIiwiUGh5c2ljcyIsIkFSQ0FERSIsImdhbWUiLCJzdGFnZSIsImJhY2tncm91bmRDb2xvciIsInRpbWUiLCJkZXNpcmVkRnBzIiwidG91Y2hDb250cm9sIiwicGx1Z2lucyIsImFkZCIsIlBsdWdpbiIsIlRvdWNoQ29udHJvbCIsInNldHRpbmdzIiwic2luZ2xlRGlyZWN0aW9uIiwiaW5wdXRFbmFibGUiLCJwcmVsb2FkIiwibG9hZCIsImltYWdlIiwiY3JlYXRlIiwic2NhbGUiLCJwYWdlQWxpZ25Ib3Jpem9udGFsbHkiLCJwYWdlQWxpZ25WZXJ0aWNhbGx5Iiwic2NhbGVNb2RlIiwiU2NhbGVNYW5hZ2VyIiwiU0hPV19BTEwiLCJ3b3JsZCIsInJlc2l6ZSIsInNldEJvdW5kcyIsImJnU3ByaXRlIiwidGlsZVNwcml0ZSIsIndpZHRoIiwiaGVpZ2h0IiwiYXJyb3dzIiwiZ3JvdXAiLCJoZXJvcyIsIm5hbWVzIiwiZ2ljR3JvdXAiLCJnaWNCbG9vZCIsImdyYXBoaWNzIiwiaW5pdE1hcCIsImhlcm8iLCJqb2luSGVybyIsIngiLCJ5IiwiY2FtZXJhIiwiZGVhZHpvbmUiLCJSZWN0YW5nbGUiLCJmb2xsb3ciLCJnaWNNYXAiLCJsaW5lU3R5bGUiLCJhbHBoYSIsImZpeGVkVG9DYW1lcmEiLCJiZWdpbkZpbGwiLCJkcmF3Q2lyY2xlIiwiZW5kRmlsbCIsInJvbGUiLCJhcnJvd3NHcm91cCIsIm5hbWVzR3JvdXAiLCJocCIsInVwZGF0ZUJsb29kIiwicGxheWVyIiwiYmxvb2QiLCJkZWx0YVgiLCJyb3RhdGVDZCIsIkRhdGUiLCJnZXRUaW1lIiwidHdlZW4iLCJ0byIsImxhc3RIcCIsImhwQ2hhbmdlVGFnIiwiaHBEZWx0YSIsImhwVGlwcyIsInVuZGVmaW5lZCIsImtpbGwiLCJocFN0ciIsInRvU3RyaW5nIiwic3R5bGUiLCJmb250IiwiZmlsbCIsImFsaWduIiwiYWRkQ2hpbGQiLCJtYWtlIiwidGV4dCIsImFuY2hvciIsInNldCIsImdpYyIsImNvbG9yQmxvb2QiLCJkcmF3Um91bmRlZFJlY3QiLCJpIiwiZHJhd1JlY3QiLCJGaXJlIiwic3BlZWQiLCJ1cGRhdGUiLCJjbGVhciIsImZvckVhY2hBbGl2ZSIsIlJvdGF0ZSIsIk1vdmUiLCJwYXVzZWQiLCJyZXN1bWVkIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFDQSxJQUFJQSxTQUFTLG1CQUFBQyxDQUFRLENBQVIsQ0FBYjtBQUNBLElBQUlDLE9BQU8sbUJBQUFELENBQVEsQ0FBUixDQUFYOztBQUVBRSxPQUFPQyxPQUFQLEdBQWlCSixPQUFPLFlBQVksQ0FBRSxDQUFyQixFQUF1QjtBQUN2Q0ssT0FBTSxVQUFVQyxJQUFWLEVBQWdCQyxJQUFoQixFQUFzQkMsRUFBdEIsRUFBMEI7QUFDL0IsT0FBS0YsSUFBTCxHQUFZQSxJQUFaO0FBQ0EsT0FBS0MsSUFBTCxHQUFZQSxJQUFaO0FBQ0EsT0FBS0MsRUFBTCxHQUFVQSxFQUFWOztBQUVBLE9BQUtDLEtBQUwsR0FBYSxDQUFiO0FBQ0EsRUFQc0M7QUFRdkNDLE9BQU0sWUFBVztBQUNoQixPQUFLQyxPQUFMLENBQWFDLFdBQWIsQ0FBeUJDLE9BQU9DLE9BQVAsQ0FBZUMsTUFBeEM7QUFDQSxPQUFLQyxJQUFMLENBQVVDLEtBQVYsQ0FBZ0JDLGVBQWhCLEdBQWtDLFNBQWxDO0FBQ0EsT0FBS0YsSUFBTCxDQUFVRyxJQUFWLENBQWVDLFVBQWYsR0FBNEIsRUFBNUI7QUFDQSxPQUFLSixJQUFMLENBQVVLLFlBQVYsR0FBeUIsS0FBS0wsSUFBTCxDQUFVTSxPQUFWLENBQWtCQyxHQUFsQixDQUFzQlYsT0FBT1csTUFBUCxDQUFjQyxZQUFwQyxDQUF6QjtBQUNBLE9B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L0YsS0FBTCxHQUFhLEVBQWIsSUFBbUIsQ0FBdkIsRUFBMEIsQ0FDekI7QUFDRCxFQXRKc0M7QUF1SnZDK0IsU0FBUSxZQUFVO0FBQ2pCLE9BQUt4QixJQUFMLENBQVV1QixLQUFWLENBQWdCQyxNQUFoQixDQUF1QixJQUF2QixFQUE2QixJQUE3QjtBQUNBLE9BQUt4QixJQUFMLENBQVV1QixLQUFWLENBQWdCRSxTQUFoQixDQUEwQixDQUExQixFQUE2QixDQUE3QixFQUFnQyxJQUFoQyxFQUFzQyxJQUF0QztBQUNBLE9BQUt6QixJQUFMLENBQVUwQyxNQUFWLENBQWlCRyxNQUFqQixDQUF3QixLQUFLUCxJQUE3QjtBQUNBLEVBM0pzQztBQTRKdkN5RCxTQUFRLFlBQVcsQ0FDbEIsQ0E3SnNDO0FBOEp2Q0MsVUFBUyxZQUFXLENBQ25CO0FBL0pzQyxDQUF2QixDQUFqQiIsImZpbGUiOiI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBleHRlbmQgPSByZXF1aXJlKCcuLi91dGlscy9pbmhlcml0cy5qcycpO1xyXG52YXIgSGVybyA9IHJlcXVpcmUoJy4uL29iamVjdHMvUGxheWVyLmpzJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGV4dGVuZChmdW5jdGlvbiAoKSB7fSwge1xyXG5cdGN0b3I6IGZ1bmN0aW9uIChndWlkLCBuaWNrLCBsdikge1xyXG5cdFx0dGhpcy5ndWlkID0gZ3VpZDtcclxuXHRcdHRoaXMubmljayA9IG5pY2s7XHJcblx0XHR0aGlzLmx2ID0gbHY7XHJcblx0XHRcclxuXHRcdHRoaXMuZnJhbWUgPSAwO1xyXG5cdH0sXHJcblx0aW5pdDogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLnBoeXNpY3Muc3RhcnRTeXN0ZW0oUGhhc2VyLlBoeXNpY3MuQVJDQURFKTtcclxuXHRcdHRoaXMuZ2FtZS5zdGFnZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNERkRGREZcIjtcclxuXHRcdHRoaXMuZ2FtZS50aW1lLmRlc2lyZWRGcHMgPSAxNTtcclxuXHRcdHRoaXMuZ2FtZS50b3VjaENvbnRyb2wgPSB0aGlzLmdhbWUucGx1Z2lucy5hZGQoUGhhc2VyLlBsdWdpbi5Ub3VjaENvbnRyb2wpO1xyXG5cdFx0dGhpcy5nYW1lLnRvdWNoQ29udHJvbC5zZXR0aW5ncy5zaW5nbGVEaXJlY3Rpb24gPSBmYWxzZTtcclxuXHRcdHRoaXMuZ2FtZS50b3VjaENvbnRyb2wuaW5wdXRFbmFibGUoKTtcclxuXHR9LFxyXG5cdHByZWxvYWQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5nYW1lLmxvYWQuaW1hZ2UoXCJhcnJvd1wiLCBcInN0YXRpYy9hc3NldHMvYXJyb3cucG5nXCIpO1xyXG5cdFx0dGhpcy5nYW1lLmxvYWQuaW1hZ2UoXCJiYWxsXCIsIFwic3RhdGljL2Fzc2V0cy9iYWxsLnBuZ1wiKTtcclxuXHR9LFxyXG5cdGNyZWF0ZTogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLmdhbWUuc2NhbGUucGFnZUFsaWduSG9yaXpvbnRhbGx5ID0gdHJ1ZTtcclxuXHRcdHRoaXMuZ2FtZS5zY2FsZS5wYWdlQWxpZ25WZXJ0aWNhbGx5ID0gdHJ1ZTtcclxuXHRcdHRoaXMuZ2FtZS5zY2FsZS5zY2FsZU1vZGUgPSBQaGFzZXIuU2NhbGVNYW5hZ2VyLlNIT1dfQUxMO1xyXG5cdFx0dGhpcy5nYW1lLndvcmxkLnJlc2l6ZSgyNTYwLCAyNTYwKTtcclxuXHRcdHRoaXMuZ2FtZS53b3JsZC5zZXRCb3VuZHMoMCwgMCwgMjU2MCwgMjU2MCk7XHJcblxyXG5cdFx0dmFyIGJnU3ByaXRlID0gdGhpcy5nYW1lLmFkZC50aWxlU3ByaXRlKDAsIDAsIDIqdGhpcy5nYW1lLndvcmxkLndpZHRoLCAyKnRoaXMuZ2FtZS53b3JsZC5oZWlnaHQsIFwiYmdcIik7XHJcblx0XHQvLyBiZ1Nwcml0ZS5hdXRvU2Nyb2xsKC01MCw1MCk7XHJcblx0XHQvKiDvv73Tvu+/ve+/vduy77+977+977+9ICovXHJcblx0XHR0aGlzLmFycm93cyA9IHRoaXMuZ2FtZS5hZGQuZ3JvdXAoKTtcclxuXHRcdHRoaXMuaGVyb3MgPSB0aGlzLmdhbWUuYWRkLmdyb3VwKCk7XHJcblx0XHR0aGlzLm5hbWVzID0gdGhpcy5nYW1lLmFkZC5ncm91cCgpO1xyXG5cdFx0Lyogzbzvv73vv73vv73vv73Ivu+/ve+/vSAqL1xyXG5cdFx0dGhpcy5naWNHcm91cCA9IHRoaXMuZ2FtZS5hZGQuZ3JvdXAoKTtcclxuXHRcdHRoaXMuZ2ljQmxvb2QgPSB0aGlzLmdhbWUuYWRkLmdyYXBoaWNzKDAsIDAsIHRoaXMuZ2ljR3JvdXApOyAvLyDvv73vv73vv73Rqu+/ve+/vVxyXG5cdFx0dGhpcy5pbml0TWFwKCk7XHJcblx0XHRcclxuXHRcdHRoaXMuaGVybyA9IHRoaXMuam9pbkhlcm8oe3g6MTAwLCB5OjEwMCwgbHY6IHRoaXMubHYsIG5pY2s6IHRoaXMubmljaywgZ3VpZDogdGhpcy5ndWlkfSk7XHJcblx0XHR0aGlzLmdhbWUuY2FtZXJhLmRlYWR6b25lID0gbmV3IFBoYXNlci5SZWN0YW5nbGUoNDAwLCA0MDAsIHRoaXMuZ2FtZS5zdGFnZS53aWR0aCAtIDQwMCwgdGhpcy5nYW1lLnN0YWdlLmhlaWdodCAtIDQwMCk7IC8v77+977+9zbfvv73vv73vv73mtKXvv73vv73vv73vv73vv73vv71kZWFkIHpvbmVcclxuXHRcdHRoaXMuZ2FtZS5jYW1lcmEuZm9sbG93KHRoaXMuaGVybyk7IFxyXG5cdH0sXHJcblx0aW5pdE1hcDogZnVuY3Rpb24oKXtcclxuXHRcdHRoaXMuZ2ljTWFwID0gdGhpcy5nYW1lLmFkZC5ncmFwaGljcygwLCAwLCB0aGlzLmdpY0dyb3VwKTsgLy8g0KHvv73vv73NvFxyXG5cdFx0dGhpcy5naWNNYXAubGluZVN0eWxlKDEsIDB4ZGZkZmRmKTtcclxuXHRcdHRoaXMuZ2ljTWFwLmFscGhhID0gMC40O1xyXG5cdFx0dGhpcy5naWNNYXAuZml4ZWRUb0NhbWVyYSA9IHRydWU7XHJcblx0XHR0aGlzLmdpY01hcC5iZWdpbkZpbGwoMHg5OUNDNjYsIDEpO1xyXG5cdFx0dGhpcy5naWNNYXAuZHJhd0NpcmNsZSgyMDAsIDIwMCwgMzYwKTtcclxuXHRcdHRoaXMuZ2ljTWFwLmVuZEZpbGwoKTtcclxuXHR9LFxyXG5cdGpvaW5IZXJvOiBmdW5jdGlvbihyb2xlKSB7XHJcblx0XHR2YXIgaGVybyA9IG5ldyBIZXJvKHRoaXMuZ2FtZSwgcm9sZS54LCByb2xlLnksIHRoaXMuaGVyb3MsIHtcclxuXHRcdFx0YXJyb3dzR3JvdXA6IHRoaXMuYXJyb3dzLFxyXG5cdFx0XHRuYW1lc0dyb3VwOiB0aGlzLm5hbWVzLFxyXG5cdFx0XHRsdjogcm9sZS5sdiwgLy8g77+9yLzvv71cclxuXHRcdFx0bmljazogcm9sZS5uaWNrLCAvLyDvv73vv73vv73vv73Hs++/vVxyXG5cdFx0XHRndWlkOiByb2xlLmd1aWQsXHJcblx0XHRcdGhwOiAxNjAwLCAvLyDvv73vv73HsO+/ve+/vdGqXHJcblx0XHR9KTtcclxuXHRcdGhlcm8uc2NhbGUueCA9IDI7XHJcblx0XHRoZXJvLnNjYWxlLnkgPSAyO1xyXG5cdFx0cmV0dXJuIGhlcm87XHJcblx0fSxcclxuXHR1cGRhdGVCbG9vZDogZnVuY3Rpb24ocGxheWVyKXtcclxuXHRcdC8vIO+/vcy2yLvvv73vv73vv71cclxuXHRcdHZhciBibG9vZCA9IHBsYXllci5ocCAvIDM1O1xyXG5cdFx0dmFyIHggPSBwbGF5ZXIueCAtIGJsb29kLzI7XHJcblx0XHR2YXIgeSA9IHBsYXllci55IC0gNjA7XHJcblx0XHR2YXIgZGVsdGFYID0gNjtcclxuXHRcdGlmIChwbGF5ZXIuaHAgPjApIHtcclxuXHRcdFx0aWYgKHBsYXllci5hbHBoYSA9PSAwLjMpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRwbGF5ZXIuYWxwaGEgPSAxO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2UgaWYgKHBsYXllci5hbHBoYSA9PSAxKSB7XHJcblx0XHRcdC8vIO+/ve+/ve+/ve+/vdCn77+977+9XHJcblx0XHRcdHBsYXllci5hbHBoYSA9IDAuMztcclxuXHRcdFx0cGxheWVyLnJvdGF0ZUNkPShuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgKyAzMDAwO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGJsb29kID49IDApIHtcclxuXHRcdFx0aWYgKHBsYXllci5ibG9vZCA9PSAwICYmIGJsb29kID4gMCl7XHJcblx0XHRcdFx0Ly8g77+977+9yrzvv73vv73Rqu+/ve+/vVxyXG5cdFx0XHRcdHRoaXMuZ2FtZS5hZGQudHdlZW4ocGxheWVyKS50byggeyBibG9vZDogYmxvb2QgfSwgNTAwLCBcIkxpbmVhclwiLCB0cnVlKTtcclxuXHRcdFx0fSBlbHNlIGlmIChwbGF5ZXIuaHAgPT0gcGxheWVyLmxhc3RIcCkge1xyXG5cdFx0XHRcdC8vIO+/ve+/ve+/ve+/ve+/veS7r1xyXG5cdFx0XHRcdHRoaXMuaHBDaGFuZ2VUYWcgPSBmYWxzZTtcclxuXHRcdFx0fSBlbHNlIGlmICh0aGlzLmhwQ2hhbmdlVGFnID09IGZhbHNlKSB7XHJcblx0XHRcdFx0Ly8g77+917TOseS2r8qx77+977+90arvv73vv73vv73vv73KvlxyXG5cdFx0XHRcdHZhciBocERlbHRhID0gcGxheWVyLmhwIC0gcGxheWVyLmxhc3RIcDtcclxuXHRcdFx0XHRwbGF5ZXIubGFzdEhwID0gcGxheWVyLmhwO1xyXG5cdFx0XHRcdHRoaXMuaHBDaGFuZ2VUYWcgPSB0cnVlO1xyXG5cdFx0XHRcdGlmICh0aGlzLmhwVGlwcyAhPSB1bmRlZmluZWQpXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0dGhpcy5ocFRpcHMua2lsbCgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvLyDRqu+/ve+/ve+/veS2r++/ve+/ve+/ve+/vVxyXG5cdFx0XHRcdHZhciBocFN0ciA9IGhwRGVsdGEudG9TdHJpbmcoKTtcclxuXHRcdFx0XHR2YXIgc3R5bGUgPSB7IGZvbnQ6IFwiMjBweCBBcmlhbFwiLCBmaWxsOiBcIiNmZjAwMDBcIiwgYWxpZ246IFwiY2VudGVyXCIgfTtcclxuXHRcdFx0XHRpZiAoaHBEZWx0YSA+IDApXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0aHBTdHIgPSBcIitcIiArIGhwU3RyO1xyXG5cdFx0XHRcdFx0c3R5bGUgPSB7IGZvbnQ6IFwiMjBweCBBcmlhbFwiLCBmaWxsOiBcIiMwMGZmMDBcIiwgYWxpZ246IFwiY2VudGVyXCIgfTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dGhpcy5ocFRpcHMgPSBwbGF5ZXIuYWRkQ2hpbGQodGhpcy5nYW1lLm1ha2UudGV4dCgwLCAtMTAsIGhwU3RyLCBzdHlsZSkpO1xyXG5cdFx0XHRcdHRoaXMuaHBUaXBzLmFuY2hvci5zZXQoMC41KTtcclxuXHRcdFx0XHR0aGlzLmhwVGlwcy5hbHBoYSA9IDAuMTtcclxuXHRcdFx0XHR0aGlzLmdhbWUuYWRkLnR3ZWVuKHRoaXMuaHBUaXBzKS50byggeyBhbHBoYTogMSwgeTogLTUwIH0sIDUwMCwgXCJMaW5lYXJcIiwgdHJ1ZSk7XHJcblx0XHRcdFx0dGhpcy5nYW1lLmFkZC50d2VlbihwbGF5ZXIpLnRvKCB7IGJsb29kOiBibG9vZCB9LCAzMDAsIFwiTGluZWFyXCIsIHRydWUpO1x0XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGlmICh0aGlzLmhwVGlwcyAhPSB1bmRlZmluZWQgJiYgdGhpcy5ocFRpcHMuYWxwaGEgPT0gMSkge1xyXG5cdFx0XHQvLyDvv73vv73vv73vv73vv73vv73vv73vv73Qp++/ve+/vVxyXG5cdFx0XHR0aGlzLmhwVGlwcy5raWxsKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGdpYyA9IHRoaXMuZ2ljQmxvb2Q7XHJcblx0XHR2YXIgY29sb3JCbG9vZCA9IDB4RkYwMDAwOyAvLyDvv73Qt++/ve+/ve+/vdOqXHJcblx0XHRpZiAodGhpcy5ndWlkID09IHBsYXllci5ndWlkKSB7XHJcblx0XHRcdGNvbG9yQmxvb2QgPSAweDAwRUUwMDsgLy8g77+977+977+977+906pcclxuXHRcdH1cclxuXHRcdGdpYy5iZWdpbkZpbGwoY29sb3JCbG9vZCwgMC43KTtcclxuXHRcdGdpYy5kcmF3Um91bmRlZFJlY3QoeCwgeSwgcGxheWVyLmJsb29kLCAxNCwgNCk7XHJcblx0XHRnaWMuYmVnaW5GaWxsKDB4MzMzMzMzLCAwLjUpO1xyXG5cdFx0Ly8g0arvv73vv73vv73Mtu+/vVxyXG5cdFx0Zm9yICh2YXIgaT1kZWx0YVg7IGk8cGxheWVyLmJsb29kOyBpKz1kZWx0YVgpXHJcblx0XHR7XHJcblx0XHRcdGdpYy5kcmF3UmVjdCh4K2ksIHksIDIsIDEwKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cdEZpcmU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIHNwZWVkID0gdGhpcy5nYW1lLnRvdWNoQ29udHJvbC5zcGVlZDtcclxuXHRcdHZhciB4ID0gc3BlZWQueDtcclxuXHRcdHZhciB5ID0gc3BlZWQueTtcclxuXHRcdGlmICh4ID09IDAgJiYgeSA9PSAwKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH07XHJcblx0XHR0aGlzLmhlcm8uRmlyZSh4LCB5KTtcclxuXHR9LFxyXG5cdHVwZGF0ZTogZnVuY3Rpb24oKXtcclxuXHRcdHRoaXMuZnJhbWUrKztcclxuXHRcdHRoaXMuZ2ljQmxvb2QuY2xlYXIoKTsgLy8g77+977+977+977+977+977+977+977+977+977+977+977+977+977+977+977+90Lrvv73vv73FtcS277+9zKzvv73vv73vv73vv73Qp++/ve+/ve+/ve+/vSN0b2Rv0rvvv73vv73vv73vv73vv73vv73vv73EvO+/ve+/ve+/ve+/ve+/vdCnXHJcblx0XHR0aGlzLmhlcm9zLmZvckVhY2hBbGl2ZShmdW5jdGlvbihwbGF5ZXIpe1xyXG5cdFx0XHRwbGF5ZXIuUm90YXRlKCk7XHJcblx0XHRcdHBsYXllci5Nb3ZlKCk7IC8v77+9xrbvv71cclxuXHRcdFx0dGhpcy51cGRhdGVCbG9vZChwbGF5ZXIpO1xyXG5cdFx0fSwgdGhpcyk7XHJcblx0XHR0aGlzLkZpcmUoKTtcclxuXHRcdGlmICh0aGlzLmZyYW1lICUgMTAgPT0gMCkge1xyXG5cdFx0fVxyXG5cdH0sXHJcblx0cmVzaXplOiBmdW5jdGlvbigpe1xyXG5cdFx0dGhpcy5nYW1lLndvcmxkLnJlc2l6ZSgyNTYwLCAyNTYwKTtcclxuXHRcdHRoaXMuZ2FtZS53b3JsZC5zZXRCb3VuZHMoMCwgMCwgMjU2MCwgMjU2MCk7XHJcblx0XHR0aGlzLmdhbWUuY2FtZXJhLmZvbGxvdyh0aGlzLmhlcm8pO1xyXG5cdH0sXHJcblx0cGF1c2VkOiBmdW5jdGlvbigpIHtcclxuXHR9LFxyXG5cdHJlc3VtZWQ6IGZ1bmN0aW9uKCkge1xyXG5cdH1cclxufSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3N0YXRlcy9HYW1lU3RhdGUuanMiXSwic291cmNlUm9vdCI6IiJ9');
},function(module,exports,__webpack_require__){eval('"use strict";\n\nvar extend = __webpack_require__(1);\nvar GameRole = __webpack_require__(7);\nmodule.exports = extend(GameRole, {\n\tctor: function ctor(game, x, y, group, properties) {\n\t\tthis.roleType = "hero";\n\t\tproperties = properties || {};\n\t\tthis.game = game;\n\t\tthis.guid = properties.guid;\n\t\tthis.lv = properties.lv;\n\t\tthis.nick = properties.nick;\n\t\tthis.hp = properties.hp;\n\t\tthis.arrows = properties.arrowsGroup; //视觉观察组\n\t\tthis.names = properties.namesGroup;\n\n\t\tthis.friction = 0.95;\n\t\tthis.fireSpeed = -10;\n\t\tthis.rotateSpeed = 5;\n\n\t\tthis.blood = 0;\n\t\tthis.rotateCd = 0;\n\t\tthis.xSpeed = 0;\n\t\tthis.ySpeed = 0;\n\t\tthis.angle = 0;\n\t\tthis.rotateDirection = 1;\n\t\tthis.rotateCd = 0;\n\n\t\tthis._super(this.game, x, y, "ball", null, properties);\n\t\tthis.game.physics.arcade.enable(this);\n\t\tthis.anchor.setTo(0.5, 0.5);\n\t\tthis.checkWorldBounds = true;\n\t\tthis.outOfBoundsKill = true;\n\t\tthis.body.collideWorldBounds = true; //与世界边境进行物理检测\n\t\tthis.inputEnabled = true;\n\t\tthis.input.useHandCursor = true; //当鼠标移动到其上面时显示小手\n\t\tif (group) {\n\t\t\tgroup.add(this);\n\t\t}\n\t},\n\tdead: function () {\n\t\tif (this.alive) {\n\t\t\tthis._super();\n\t\t\tthis.arrow.kill();\n\t\t\tthis.nameObj.kill();\n\t\t}\n\t},\n\tgetArrow: function getArrow() {\n\t\tif (this.arrow == null) {\n\t\t\tvar arrow = this.arrows.getFirstExists(false);\n\t\t\tif (arrow) {\n\t\t\t\tthis.arrow = arrow;\n\t\t\t\tthis.arrow.reset(this.x, this.y);\n\t\t\t} else {\n\t\t\t\t//设置一个观察器\n\t\t\t\tthis.arrow = this.game.add.sprite(this.game.world.centerX, this.game.world.centerY, "arrow");\n\t\t\t\tthis.arrow.anchor.x = -1;\n\t\t\t\tthis.arrow.anchor.y = 0.5;\n\t\t\t\tthis.arrow.scale.x = 2;\n\t\t\t\tthis.arrow.scale.y = 2;\n\t\t\t}\n\t\t}\n\t\treturn this.arrow;\n\t},\n\tgetName: function () {\n\t\tif (this.nameObj == null) {\n\t\t\tvar color1 = "#FFFFFF",\n\t\t\t    color2 = "#777777";\n\t\t\t// color1 = "red"; color2 = "#111111"; // 敌方阵营\n\t\t\tvar nameObj = this.names.getFirstExists(false);\n\t\t\tif (nameObj) {\n\t\t\t\tthis.nameObj = nameObj;\n\t\t\t\tthis.nameObj.reset(this.x, this.y);\n\t\t\t} else {\n\t\t\t\tvar nameStyle = { font: "10px \'微软雅黑\'", fill: color1, align: "center" };\n\t\t\t\tthis.nameObj = this.game.add.text(this.game.world.centerX, this.game.world.centerY, this.name, nameStyle);\n\t\t\t\tthis.nameObj.anchor.x = 0.5;\n\t\t\t\tthis.nameObj.anchor.y = -1;\n\t\t\t\tthis.nameObj.setShadow(1, 1, color2, 0);\n\t\t\t\tthis.nameObj.alpha = 0.7;\n\t\t\t\tthis.nameObj.scale.x = 2;\n\t\t\t\tthis.nameObj.scale.y = 2;\n\t\t\t}\n\t\t\tif (this.nameObj.text != this.nick) {\n\t\t\t\tthis.nameObj.setText(this.nick, 1);\n\t\t\t}\n\t\t}\n\t\treturn this.nameObj;\n\t},\n\tFire: function (x, y) {\n\t\tvar curTime = new Date().getTime();\n\t\tvar angle = Math.atan2(-y, -x) / Math.PI * 180;\n\n\t\t// 自转冷却\n\t\tthis.rotateCd = new Date().getTime() + 250;\n\t\tif (angle > this.getArrow().angle) {\n\t\t\tif (this.rotateDirection < 0) {\n\t\t\t\tthis.rotateDirection *= -1;\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.rotateDirection > 0) {\n\t\t\t\tthis.rotateDirection *= -1;\n\t\t\t}\n\t\t}\n\t\tthis.getArrow().angle = angle;\n\t\tthis.xSpeed = x / this.fireSpeed;\n\t\tthis.ySpeed = y / this.fireSpeed;\n\t},\n\tRotate: function () {\n\t\tvar curTime = new Date().getTime();\n\t\tif (curTime > this.rotateCd) {\n\t\t\t// 自转特效\n\t\t\tthis.getArrow().angle += this.rotateSpeed * this.rotateDirection;\n\t\t}\n\t},\n\tMove: function () {\n\t\tthis.xSpeed *= this.friction;\n\t\tthis.ySpeed *= this.friction;\n\t\tthis.x += this.xSpeed;\n\t\tthis.y += this.ySpeed;\n\t\tthis.getArrow().x = this.x;\n\t\tthis.getArrow().y = this.y;\n\t\tthis.getName().x = this.x;\n\t\tthis.getName().y = this.y;\n\t}\n});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvb2JqZWN0cy9QbGF5ZXIuanM/YTA0ZSJdLCJuYW1lcyI6WyJleHRlbmQiLCJyZXF1aXJlIiwiR2FtZVJvbGUiLCJtb2R1bGUiLCJleHBvcnRzIiwiY3RvciIsImdhbWUiLCJ4IiwieSIsImdyb3VwIiwicHJvcGVydGllcyIsInJvbGVUeXBlIiwiZ3VpZCIsImx2IiwibmljayIsImhwIiwiYXJyb3dzIiwiYXJyb3dzR3JvdXAiLCJuYW1lcyIsIm5hbWVzR3JvdXAiLCJmcmljdGlvbiIsImZpcmVTcGVlZCIsInJvdGF0ZVNwZWVkIiwiYmxvb2QiLCJyb3RhdGVDZCIsInhTcGVlZCIsInlTcGVlZCIsImFuZ2xlIiwicm90YXRlRGlyZWN0aW9uIiwiX3N1cGVyIiwicGh5c2ljcyIsImFyY2FkZSIsImVuYWJsZSIsImFuY2hvciIsInNldFRvIiwiY2hlY2tXb3JsZEJvdW5kcyIsIm91dE9mQm91bmRzS2lsbCIsImJvZHkiLCJjb2xsaWRlV29ybGRCb3VuZHMiLCJpbnB1dEVuYWJsZWQiLCJpbnB1dCIsInVzZUhhbmRDdXJzb3IiLCJhZGQiLCJkZWFkIiwiYWxpdmUiLCJhcnJvdyIsImtpbGwiLCJuYW1lT2JqIiwiZ2V0QXJyb3ciLCJnZXRGaXJzdEV4aXN0cyIsInJlc2V0Iiwic3ByaXRlIiwid29ybGQiLCJjZW50ZXJYIiwiY2VudGVyWSIsInNjYWxlIiwiZ2V0TmFtZSIsImNvbG9yMSIsImNvbG9yMiIsIm5hbWVTdHlsZSIsImZvbnQiLCJmaWxsIiwiYWxpZ24iLCJ0ZXh0IiwibmFtZSIsInNldFNoYWRvdyIsImFscGhhIiwic2V0VGV4dCIsIkZpcmUiLCJjdXJUaW1lIiwiRGF0ZSIsImdldFRpbWUiLCJNYXRoIiwiYXRhbjIiLCJQSSIsIlJvdGF0ZSIsIk1vdmUiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQUlBLFNBQVMsbUJBQUFDLENBQVEsQ0FBUixDQUFiO0FBQ0EsSUFBSUMsV0FBVyxtQkFBQUQsQ0FBUSxDQUFSLENB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QUksS0FBS2MsU0FBdkI7QUFDQSxPQUFLSyxNQUFMLEdBQWNsQixJQUFJLEtBQUthLFNBQXZCO0FBQ0EsRUF2R2dDO0FBd0dqQ3NELFNBQVEsWUFBWTtBQUNuQixNQUFJTixVQUFVLElBQUlDLElBQUosR0FBV0MsT0FBWCxFQUFkO0FBQ0EsTUFBSUYsVUFBVSxLQUFLN0MsUUFBbkIsRUFBNkI7QUFDNUI7QUFDQSxRQUFLd0IsUUFBTCxHQUFnQnJCLEtBQWhCLElBQXlCLEtBQUtMLFdBQUwsR0FBbUIsS0FBS00sZUFBakQ7QUFDQTtBQUNELEVBOUdnQztBQStHakNnRCxPQUFNLFlBQVk7QUFDakIsT0FBS25ELE1BQUwsSUFBZSxLQUFLTCxRQUFwQjtBQUNBLE9BQUtNLE1BQUwsSUFBZSxLQUFLTixRQUFwQjtBQUNBLE9BQUtiLENBQUwsSUFBVSxLQUFLa0IsTUFBZjtBQUNBLE9BQUtqQixDQUFMLElBQVUsS0FBS2tCLE1BQWY7QUFDQSxPQUFLc0IsUUFBTCxHQUFnQnpDLENBQWhCLEdBQW9CLEtBQUtBLENBQXpCO0FBQ0EsT0FBS3lDLFFBQUwsR0FBZ0J4QyxDQUFoQixHQUFvQixLQUFLQSxDQUF6QjtBQUNBLE9BQUtnRCxPQUFMLEdBQWVqRCxDQUFmLEdBQW1CLEtBQUtBLENBQXhCO0FBQ0EsT0FBS2lELE9BQUwsR0FBZWhELENBQWYsR0FBbUIsS0FBS0EsQ0FBeEI7QUFDQTtBQXhIZ0MsQ0FBakIsQ0FBakIiLCJmaWxlIjoiNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyIGV4dGVuZCA9IHJlcXVpcmUoJy4uL3V0aWxzL2luaGVyaXRzLmpzJyk7XHJcbnZhciBHYW1lUm9sZSA9IHJlcXVpcmUoJy4vUm9sZS5qcycpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IGV4dGVuZChHYW1lUm9sZSwge1xyXG5cdGN0b3I6IGZ1bmN0aW9uIGN0b3IoZ2FtZSwgeCwgeSwgZ3JvdXAsIHByb3BlcnRpZXMpIHtcclxuXHRcdHRoaXMucm9sZVR5cGUgPSBcImhlcm9cIjtcclxuXHRcdHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzIHx8IHt9O1xyXG5cdFx0dGhpcy5nYW1lID0gZ2FtZTtcclxuXHRcdHRoaXMuZ3VpZCA9IHByb3BlcnRpZXMuZ3VpZDtcclxuXHRcdHRoaXMubHYgPSBwcm9wZXJ0aWVzLmx2O1xyXG5cdFx0dGhpcy5uaWNrID0gcHJvcGVydGllcy5uaWNrO1xyXG5cdFx0dGhpcy5ocCA9IHByb3BlcnRpZXMuaHA7XHJcblx0XHR0aGlzLmFycm93cyA9IHByb3BlcnRpZXMuYXJyb3dzR3JvdXA7IC8v6KeG6KeJ6KeC5a+f57uEXHJcblx0XHR0aGlzLm5hbWVzID0gcHJvcGVydGllcy5uYW1lc0dyb3VwO1xyXG5cclxuXHRcdHRoaXMuZnJpY3Rpb24gPSAwLjk1O1xyXG5cdFx0dGhpcy5maXJlU3BlZWQgPSAtMTA7XHJcblx0XHR0aGlzLnJvdGF0ZVNwZWVkID0gNTtcclxuXHJcblx0XHR0aGlzLmJsb29kID0gMDtcclxuXHRcdHRoaXMucm90YXRlQ2QgPSAwO1xyXG5cdFx0dGhpcy54U3BlZWQgPSAwO1xyXG5cdFx0dGhpcy55U3BlZWQgPSAwO1xyXG5cdFx0dGhpcy5hbmdsZSA9IDA7XHJcblx0XHR0aGlzLnJvdGF0ZURpcmVjdGlvbiA9IDE7XHJcblx0XHR0aGlzLnJvdGF0ZUNkID0gMDtcclxuXHJcblx0XHR0aGlzLl9zdXBlcih0aGlzLmdhbWUsIHgsIHksIFwiYmFsbFwiLCBudWxsLCBwcm9wZXJ0aWVzKTtcclxuXHRcdHRoaXMuZ2FtZS5waHlzaWNzLmFyY2FkZS5lbmFibGUodGhpcyk7XHJcblx0XHR0aGlzLmFuY2hvci5zZXRUbygwLjUsIDAuNSk7XHJcblx0XHR0aGlzLmNoZWNrV29ybGRCb3VuZHMgPSB0cnVlO1xyXG5cdFx0dGhpcy5vdXRPZkJvdW5kc0tpbGwgPSB0cnVlO1xyXG5cdFx0dGhpcy5ib2R5LmNvbGxpZGVXb3JsZEJvdW5kcyA9IHRydWU7IC8v5LiO5LiW55WM6L655aKD6L+b6KGM54mp55CG5qOA5rWLXHJcblx0XHR0aGlzLmlucHV0RW5hYmxlZCA9IHRydWU7XHJcblx0XHR0aGlzLmlucHV0LnVzZUhhbmRDdXJzb3IgPSB0cnVlOyAvL+W9k+m8oOagh+enu+WKqOWIsOWFtuS4iumdouaXtuaYvuekuuWwj+aJi1xyXG5cdFx0aWYgKGdyb3VwKSB7XHJcblx0XHRcdGdyb3VwLmFkZCh0aGlzKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cdGRlYWQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmKHRoaXMuYWxpdmUpe1xyXG5cdFx0XHR0aGlzLl9zdXBlcigpO1xyXG5cdFx0XHR0aGlzLmFycm93LmtpbGwoKTtcclxuXHRcdFx0dGhpcy5uYW1lT2JqLmtpbGwoKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cdGdldEFycm93OiBmdW5jdGlvbiBnZXRBcnJvdygpIHtcclxuXHRcdGlmICh0aGlzLmFycm93ID09IG51bGwpIHtcclxuXHRcdFx0dmFyIGFycm93ID0gdGhpcy5hcnJvd3MuZ2V0Rmlyc3RFeGlzdHMoZmFsc2UpO1xyXG5cdFx0XHRpZiAoYXJyb3cpIHtcclxuXHRcdFx0XHR0aGlzLmFycm93ID0gYXJyb3c7XHJcblx0XHRcdFx0dGhpcy5hcnJvdy5yZXNldCh0aGlzLngsIHRoaXMueSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly/orr7nva7kuIDkuKrop4Llr5/lmahcclxuXHRcdFx0XHR0aGlzLmFycm93ID0gdGhpcy5nYW1lLmFkZC5zcHJpdGUodGhpcy5nYW1lLndvcmxkLmNlbnRlclgsdGhpcy5nYW1lLndvcmxkLmNlbnRlclksIFwiYXJyb3dcIik7XHJcblx0XHRcdFx0dGhpcy5hcnJvdy5hbmNob3IueCA9IC0xO1xyXG5cdFx0XHRcdHRoaXMuYXJyb3cuYW5jaG9yLnkgPSAwLjU7XHJcblx0XHRcdFx0dGhpcy5hcnJvdy5zY2FsZS54ID0gMjtcclxuXHRcdFx0XHR0aGlzLmFycm93LnNjYWxlLnkgPSAyO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcy5hcnJvdztcclxuXHR9LFxyXG5cdGdldE5hbWU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0aWYgKHRoaXMubmFtZU9iaiA9PSBudWxsKSB7XHJcblx0XHRcdHZhciBjb2xvcjEgPSBcIiNGRkZGRkZcIiwgY29sb3IyID0gXCIjNzc3Nzc3XCI7XHJcblx0XHRcdC8vIGNvbG9yMSA9IFwicmVkXCI7IGNvbG9yMiA9IFwiIzExMTExMVwiOyAvLyDmlYzmlrnpmLXokKVcclxuXHRcdFx0dmFyIG5hbWVPYmogPSB0aGlzLm5hbWVzLmdldEZpcnN0RXhpc3RzKGZhbHNlKTtcclxuXHRcdFx0aWYgKG5hbWVPYmopIHtcclxuXHRcdFx0XHR0aGlzLm5hbWVPYmogPSBuYW1lT2JqO1xyXG5cdFx0XHRcdHRoaXMubmFtZU9iai5yZXNldCh0aGlzLngsIHRoaXMueSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dmFyIG5hbWVTdHlsZSA9IHtmb250OiBcIjEwcHggJ+W+rui9r+mbhem7kSdcIiwgZmlsbDogY29sb3IxLCBhbGlnbjogXCJjZW50ZXJcIix9O1xyXG5cdFx0XHRcdHRoaXMubmFtZU9iaiA9IHRoaXMuZ2FtZS5hZGQudGV4dCh0aGlzLmdhbWUud29ybGQuY2VudGVyWCwgdGhpcy5nYW1lLndvcmxkLmNlbnRlclksIHRoaXMubmFtZSwgbmFtZVN0eWxlKTtcclxuXHRcdFx0XHR0aGlzLm5hbWVPYmouYW5jaG9yLnggPSAwLjU7XHJcblx0XHRcdFx0dGhpcy5uYW1lT2JqLmFuY2hvci55ID0gLTE7XHJcblx0XHRcdFx0dGhpcy5uYW1lT2JqLnNldFNoYWRvdygxLCAxLCBjb2xvcjIsIDApO1xyXG5cdFx0XHRcdHRoaXMubmFtZU9iai5hbHBoYSA9IDAuNztcclxuXHRcdFx0XHR0aGlzLm5hbWVPYmouc2NhbGUueCA9IDI7XHJcblx0XHRcdFx0dGhpcy5uYW1lT2JqLnNjYWxlLnkgPSAyO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICh0aGlzLm5hbWVPYmoudGV4dCAhPSB0aGlzLm5pY2spXHJcblx0XHRcdHtcclxuXHRcdFx0XHR0aGlzLm5hbWVPYmouc2V0VGV4dCh0aGlzLm5pY2ssIDEpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcy5uYW1lT2JqO1xyXG5cdH0sXHJcblx0RmlyZTogZnVuY3Rpb24oeCwgeSkge1xyXG5cdFx0dmFyIGN1clRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuXHRcdHZhciBhbmdsZSA9IE1hdGguYXRhbjIoLXksIC14KSAvIE1hdGguUEkgKiAxODA7XHJcblxyXG5cdFx0Ly8g6Ieq6L2s5Ya35Y20XHJcblx0XHR0aGlzLnJvdGF0ZUNkID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKSArIDI1MDtcclxuXHRcdGlmIChhbmdsZSA+IHRoaXMuZ2V0QXJyb3coKS5hbmdsZSkge1xyXG5cdFx0XHRpZiAodGhpcy5yb3RhdGVEaXJlY3Rpb24gPCAwKSB7XHJcblx0XHRcdFx0dGhpcy5yb3RhdGVEaXJlY3Rpb24gKj0gLTE7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGlmICh0aGlzLnJvdGF0ZURpcmVjdGlvbiA+IDApIHtcclxuXHRcdFx0XHR0aGlzLnJvdGF0ZURpcmVjdGlvbiAqPSAtMTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0dGhpcy5nZXRBcnJvdygpLmFuZ2xlID0gYW5nbGU7XHJcblx0XHR0aGlzLnhTcGVlZCA9IHggLyB0aGlzLmZpcmVTcGVlZDtcclxuXHRcdHRoaXMueVNwZWVkID0geSAvIHRoaXMuZmlyZVNwZWVkO1xyXG5cdH0sXHJcblx0Um90YXRlOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgY3VyVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG5cdFx0aWYgKGN1clRpbWUgPiB0aGlzLnJvdGF0ZUNkKSB7XHJcblx0XHRcdC8vIOiHqui9rOeJueaViFxyXG5cdFx0XHR0aGlzLmdldEFycm93KCkuYW5nbGUgKz0gdGhpcy5yb3RhdGVTcGVlZCAqIHRoaXMucm90YXRlRGlyZWN0aW9uO1xyXG5cdFx0fVxyXG5cdH0sXHJcblx0TW92ZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpcy54U3BlZWQgKj0gdGhpcy5mcmljdGlvbjtcclxuXHRcdHRoaXMueVNwZWVkICo9IHRoaXMuZnJpY3Rpb25cclxuXHRcdHRoaXMueCArPSB0aGlzLnhTcGVlZDtcclxuXHRcdHRoaXMueSArPSB0aGlzLnlTcGVlZDtcclxuXHRcdHRoaXMuZ2V0QXJyb3coKS54ID0gdGhpcy54O1xyXG5cdFx0dGhpcy5nZXRBcnJvdygpLnkgPSB0aGlzLnk7XHJcblx0XHR0aGlzLmdldE5hbWUoKS54ID0gdGhpcy54O1xyXG5cdFx0dGhpcy5nZXROYW1lKCkueSA9IHRoaXMueTtcclxuXHR9XHJcbn0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9vYmplY3RzL1BsYXllci5qcyJdLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports,__webpack_require__){eval("'use strict';\n\nvar extend = __webpack_require__(1);\nmodule.exports = extend(Phaser.Sprite, {\n\t//ctor 可以省略  省略以后会继续执行其父构造函数 如 this._super.apply(this,arguments);\n\tctor: function ctor(game, x, y, key, frame, properties) {\n\t\tproperties = properties || {};\n\t\tthis._super(game, x, y, key, frame);\n\t\tthis.rid = properties.rid; //系统角色\n\t},\n\tdead: function dead() {\n\t\tif (this.alive) {\n\t\t\tthis.kill();\n\t\t}\n\t}\n});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvb2JqZWN0cy9Sb2xlLmpzPzgwMTAiXSwibmFtZXMiOlsiZXh0ZW5kIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJQaGFzZXIiLCJTcHJpdGUiLCJjdG9yIiwiZ2FtZSIsIngiLCJ5Iiwia2V5IiwiZnJhbWUiLCJwcm9wZXJ0aWVzIiwiX3N1cGVyIiwicmlkIiwiZGVhZCIsImFsaXZlIiwia2lsbCJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUEsSUFBSUEsU0FBUyxtQkFBQUMsQ0FBUSxDQUFSLENBQWI7QUFDQUMsT0FBT0MsT0FBUCxHQUFpQkgsT0FBT0ksT0FBT0MsTUFBZCxFQUFzQjtBQUN0QztBQUNBQyxPQUFNLFNBQVNBLElBQVQsQ0FBY0MsSUFBZCxFQUFvQkMsQ0FBcEIsRUFBdUJDLENBQXZCLEVBQTBCQyxHQUExQixFQUErQkMsS0FBL0IsRUFBc0NDLFVBQXRDLEVBQWtEO0FBQ3ZEQSxlQUFhQSxjQUFjLEVBQTNCO0FBQ0EsT0FBS0MsTUFBTCxDQUFZTixJQUFaLEVBQWtCQyxDQUFsQixFQUFxQkMsQ0FBckIsRUFBd0JDLEdBQXhCLEVBQTZCQyxLQUE3QjtBQUNBLE9BQUtHLEdBQUwsR0FBV0YsV0FBV0UsR0FBdEIsQ0FIdUQsQ0FHNUI7QUFDM0IsRUFOcUM7QUFPdENDLE9BQU0sU0FBU0EsSUFBVCxHQUFnQjtBQUNyQixNQUFHLEtBQUtDLEtBQVIsRUFBYztBQUNiLFFBQUtDLElBQUw7QUFDQTtBQUNEO0FBWHFDLENBQXRCLENBQWpCIiwiZmlsZSI6IjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcblxyXG52YXIgZXh0ZW5kID0gcmVxdWlyZSgnLi4vdXRpbHMvaW5oZXJpdHMuanMnKTtcclxubW9kdWxlLmV4cG9ydHMgPSBleHRlbmQoUGhhc2VyLlNwcml0ZSwge1xyXG5cdC8vY3RvciDlj6/ku6XnnIHnlaUgIOecgeeVpeS7peWQjuS8mue7p+e7reaJp+ihjOWFtueItuaehOmAoOWHveaVsCDlpoIgdGhpcy5fc3VwZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xyXG5cdGN0b3I6IGZ1bmN0aW9uIGN0b3IoZ2FtZSwgeCwgeSwga2V5LCBmcmFtZSwgcHJvcGVydGllcykge1xyXG5cdFx0cHJvcGVydGllcyA9IHByb3BlcnRpZXMgfHwge307XHJcblx0XHR0aGlzLl9zdXBlcihnYW1lLCB4LCB5LCBrZXksIGZyYW1lKTtcclxuXHRcdHRoaXMucmlkID0gcHJvcGVydGllcy5yaWQ7IC8v57O757uf6KeS6ImyXHJcblx0fSxcclxuXHRkZWFkOiBmdW5jdGlvbiBkZWFkKCkge1xyXG5cdFx0aWYodGhpcy5hbGl2ZSl7XHJcblx0XHRcdHRoaXMua2lsbCgpO1xyXG5cdFx0fVxyXG5cdH1cclxufSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL29iamVjdHMvUm9sZS5qcyJdLCJzb3VyY2VSb290IjoiIn0=")}]);